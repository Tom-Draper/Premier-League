"use strict";function e(){}function t(e){return e()}function a(e){e.forEach(t)}function o(t,...a){if(null==t)return e;const o=t.subscribe(...a);return o.unsubscribe?()=>o.unsubscribe():o}let n;function r(e){n=e}function i(){if(!n)throw new Error("Function called outside component initialization");return n}function l(e){i().$$.on_mount.push(e)}function s(){const e=i();return(t,a,{cancelable:o=!1}={})=>{const n=e.$$.callbacks[t];if(n){const r=function(e,t,{bubbles:a=!1,cancelable:o=!1}={}){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,a,o,t),n}(t,a,{cancelable:o});return n.slice().forEach((t=>{t.call(e,r)})),!r.defaultPrevented}return!0}}function d(e,t){return i().$$.context.set(e,t),t}function c(e){return i().$$.context.get(e)}Promise.resolve();const u=new Set(["allowfullscreen","allowpaymentrequest","async","autofocus","autoplay","checked","controls","default","defer","disabled","formnovalidate","hidden","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","selected"]),m=/[\s'">/=\u{FDD0}-\u{FDEF}\u{FFFE}\u{FFFF}\u{1FFFE}\u{1FFFF}\u{2FFFE}\u{2FFFF}\u{3FFFE}\u{3FFFF}\u{4FFFE}\u{4FFFF}\u{5FFFE}\u{5FFFF}\u{6FFFE}\u{6FFFF}\u{7FFFE}\u{7FFFF}\u{8FFFE}\u{8FFFF}\u{9FFFE}\u{9FFFF}\u{AFFFE}\u{AFFFF}\u{BFFFE}\u{BFFFF}\u{CFFFE}\u{CFFFF}\u{DFFFE}\u{DFFFF}\u{EFFFE}\u{EFFFF}\u{FFFFE}\u{FFFFF}\u{10FFFE}\u{10FFFF}]/u;const v={'"':"&quot;","'":"&#39;","&":"&amp;","<":"&lt;",">":"&gt;"};function f(e){return String(e).replace(/["'&<>]/g,(e=>v[e]))}function p(e){return"string"==typeof e?f(e):e}function h(e){const t={};for(const a in e)t[a]=p(e[a]);return t}function g(e,t){let a="";for(let o=0;o<e.length;o+=1)a+=t(e[o],o);return a}const y={$$render:()=>""};function b(e,t){if(!e||!e.$$render)throw"svelte:component"===t&&(t+=" this={...}"),new Error(`<${t}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);return e}let $;function w(e){function t(t,a,o,i,l){const s=n;r({$$:{on_destroy:$,context:new Map(l||(s?s.$$.context:[])),on_mount:[],before_update:[],after_update:[],callbacks:Object.create(null)}});const d=e(t,a,o,i);return r(s),d}return{render:(e={},{$$slots:o={},context:n=new Map}={})=>{$=[];const r={title:"",head:"",css:new Set},i=t(r,e,{},o,n);return a($),{html:i,css:{code:Array.from(r.css).map((e=>e.code)).join("\n"),map:null},head:r.title+r.head}},$$render:t}}function x(e,t,a){if(null==t||a&&!t)return"";return` ${e}${a&&!0===t?"":`="${p(t.toString())}"`}`}function F(e){return Object.keys(e).filter((t=>e[t])).map((t=>`${t}: ${e[t]};`)).join(" ")}const k=[];function N(t,a=e){let o;const n=new Set;function r(e){if(r=e,((a=t)!=a?r==r:a!==r||a&&"object"==typeof a||"function"==typeof a)&&(t=e,o)){const e=!k.length;for(const e of n)e[1](),k.push(e,t);if(e){for(let e=0;e<k.length;e+=2)k[e][0](k[e+1]);k.length=0}}var a,r}return{set:r,update:function(e){r(e(t))},subscribe:function(i,l=e){const s=[i,l];return n.add(s),1===n.size&&(o=a(r)||e),i(t),()=>{n.delete(s),0===n.size&&(o(),o=null)}}}}function T(t,n,r){const i=!Array.isArray(t),l=i?[t]:t,s=n.length<2;return d=t=>{let r=!1;const d=[];let c=0,u=e;const m=()=>{if(c)return;u();const a=n(i?d[0]:d,t);s?t(a):u="function"==typeof a?a:e},v=l.map(((e,t)=>o(e,(e=>{d[t]=e,c&=~(1<<t),r&&m()}),(()=>{c|=1<<t}))));return r=!0,m(),function(){a(v),u()}},{subscribe:N(r,d).subscribe};var d}const C={},E={};function S(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const I=function(e,t){const a=[];let o=S(e);return{get location(){return o},listen(t){a.push(t);const n=()=>{o=S(e),t({location:o,action:"POP"})};return e.addEventListener("popstate",n),()=>{e.removeEventListener("popstate",n);const o=a.indexOf(t);a.splice(o,1)}},navigate(t,{state:n,replace:r=!1}={}){n={...n,key:Date.now()+""};try{r?e.history.replaceState(n,null,t):e.history.pushState(n,null,t)}catch(a){e.location[r?"replace":"assign"](t)}o=S(e),a.forEach((e=>e({location:o,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const a=[{pathname:e,search:""}],o=[];return{get location(){return a[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return a},get index(){return t},get state(){return o[t]},pushState(e,n,r){const[i,l=""]=r.split("?");t++,a.push({pathname:i,search:l}),o.push(e)},replaceState(e,n,r){const[i,l=""]=r.split("?");a[t]={pathname:i,search:l},o[t]=e}}}}()),L=/^:(.+)/;function O(e,t){return e.substr(0,t.length)===t}function j(e){return"*"===e[0]}function P(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function G(e){return e.replace(/(^\/+|\/+$)/g,"")}function A(e,t){return{route:e,score:e.default?0:P(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return L.test(e)}(t)?j(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function D(e,t){let a,o;const[n]=t.split("?"),r=P(n),i=""===r[0],l=function(e){return e.map(A).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,n=l.length;e<n;e++){const n=l[e].route;let s=!1;if(n.default){o={route:n,params:{},uri:t};continue}const d=P(n.path),c={},u=Math.max(r.length,d.length);let m=0;for(;m<u;m++){const e=d[m],t=r[m];if(void 0!==e&&j(e)){c["*"===e?"*":e.slice(1)]=r.slice(m).map(decodeURIComponent).join("/");break}if(void 0===t){s=!0;break}let a=L.exec(e);if(a&&!i){const e=decodeURIComponent(t);c[a[1]]=e}else if(e!==t){s=!0;break}}if(!s){a={route:n,params:c,uri:"/"+r.slice(0,m).join("/")};break}}return a||o||null}function M(e,t){return e+(t?`?${t}`:"")}function B(e,t){return`${G("/"===t?e:`${G(e)}/${G(t)}`)}/`}const _=w(((e,t,a,n)=>{let r,i,s,u,m,v,{basepath:f="/"}=t,{url:p=null}=t;const h=c(C),g=c(E),y=N([]);u=o(y,(e=>s=e));const b=N(null);let $=!1;const w=h||N(p?{pathname:p}:I.location);i=o(w,(e=>r=e));const x=g?g.routerBase:N({path:f,uri:f});v=o(x,(e=>m=e));const F=T([x,b],(([e,t])=>{if(null===t)return e;const{path:a}=e,{route:o,uri:n}=t;return{path:o.default?a:o.path.replace(/\*.*$/,""),uri:n}}));h||(l((()=>I.listen((e=>{w.set(e.location)})))),d(C,w)),d(E,{activeRoute:b,base:x,routerBase:F,registerRoute:function(e){const{path:t}=m;let{path:a}=e;if(e._path=a,e.path=B(t,a),"undefined"==typeof window){if($)return;const t=function(e,t){return D([e],t)}(e,r.pathname);t&&(b.set(t),$=!0)}else y.update((t=>(t.push(e),t)))},unregisterRoute:function(e){y.update((t=>{const a=t.indexOf(e);return t.splice(a,1),t}))}}),void 0===t.basepath&&a.basepath&&void 0!==f&&a.basepath(f),void 0===t.url&&a.url&&void 0!==p&&a.url(p);{const{path:e}=m;y.update((t=>(t.forEach((t=>t.path=B(e,t._path))),t)))}{const e=D(s,r.pathname);b.set(e)}return i(),u(),v(),`${n.default?n.default({}):""}`})),R=w(((e,t,a,n)=>{let r,l,s,d,{path:u=""}=t,{component:m=null}=t;const{registerRoute:v,unregisterRoute:f,activeRoute:p}=c(E);l=o(p,(e=>r=e));d=o(c(C),(e=>s=e));const h={path:u,default:""===u};let g={},$={};var w;v(h),"undefined"!=typeof window&&(w=()=>{f(h)},i().$$.on_destroy.push(w)),void 0===t.path&&a.path&&void 0!==u&&a.path(u),void 0===t.component&&a.component&&void 0!==m&&a.component(m),r&&r.route===h&&(g=r.params);{const{path:e,component:a,...o}=t;$=o}return l(),d(),""+(null!==r&&r.route===h?""+(null!==m?`${b(m||y,"svelte:component").$$render(e,Object.assign({location:s},g,$),{},{})}`:`${n.default?n.default({params:g,location:s}):""}`):"")})),q=w(((e,t,a,n)=>{let r,i,l,d,v,f=function(e,t){const a={};t=new Set(t);for(const o in e)t.has(o)||"$"===o[0]||(a[o]=e[o]);return a}(t,["to","replace","state","getProps"]),{to:g="#"}=t,{replace:y=!1}=t,{state:b={}}=t,{getProps:$=(()=>({}))}=t;const{base:w}=c(E);v=o(w,(e=>d=e));let x,k,N,T;return l=o(c(C),(e=>i=e)),s(),void 0===t.to&&a.to&&void 0!==g&&a.to(g),void 0===t.replace&&a.replace&&void 0!==y&&a.replace(y),void 0===t.state&&a.state&&void 0!==b&&a.state(b),void 0===t.getProps&&a.getProps&&void 0!==$&&a.getProps($),x="/"===g?d.uri:function(e,t){if(O(e,"/"))return e;const[a,o]=e.split("?"),[n]=t.split("?"),r=P(a),i=P(n);if(""===r[0])return M(n,o);if(!O(r[0],"."))return M(("/"===n?"":"/")+i.concat(r).join("/"),o);const l=i.concat(r),s=[];return l.forEach((e=>{".."===e?s.pop():"."!==e&&s.push(e)})),M("/"+s.join("/"),o)}(g,d.uri),k=O(i.pathname,x),N=x===i.pathname,r=N?"page":void 0,T=$({location:i,href:x,isPartiallyCurrent:k,isCurrent:N}),l(),v(),`<a${function(e,t){const a=Object.assign({},...e);if(t){const e=t.classes,o=t.styles;e&&(null==a.class?a.class=e:a.class+=" "+e),o&&(null==a.style?a.style=F(o):a.style=F(function(e,t){const a={};for(const t of e.split(";")){const e=t.indexOf(":"),o=t.slice(0,e).trim(),n=t.slice(e+1).trim();o&&(a[o]=n)}for(const e in t){const o=t[e];o?a[e]=o:delete a[e]}return a}(a.style,o)))}let o="";return Object.keys(a).forEach((e=>{if(m.test(e))return;const t=a[e];!0===t?o+=" "+e:u.has(e.toLowerCase())?t&&(o+=" "+e):null!=t&&(o+=` ${e}="${t}"`)})),o}([{href:p(x)},{"aria-current":p(r)},h(T),h(f)],{})}>${n.default?n.default({}):""}</a>`}));function z(){let e=window.innerWidth;document.getElementById("team-1").classList.remove("top-left"),document.getElementById("team-1").classList.remove("top-right"),document.getElementById("team-2").classList.remove("top-right"),document.getElementById("team-4").classList.remove("top-right"),document.getElementById("team-17").classList.remove("bottom-left"),document.getElementById("team-18").classList.remove("bottom-left"),document.getElementById("team-19").classList.remove("bottom-left"),document.getElementById("team-20").classList.remove("bottom-left"),document.getElementById("team-20").classList.remove("bottom-right"),e<500?(document.getElementById("team-1").classList.add("top-both"),document.getElementById("team-20").classList.add("bottom-both")):e<1100?(document.getElementById("team-1").classList.add("top-left"),document.getElementById("team-2").classList.add("top-right"),document.getElementById("team-19").classList.add("bottom-left"),document.getElementById("team-20").classList.add("bottom-right")):(document.getElementById("team-1").classList.add("top-left"),document.getElementById("team-4").classList.add("top-right"),document.getElementById("team-17").classList.add("bottom-left"),document.getElementById("team-20").classList.add("bottom-right"))}const H=w(((e,t,a,o)=>(l((()=>{window.addEventListener("resize",z,!0),z()})),`${e.head+=(e.title="<title>Premier League</title>","")+'<meta name="description" content="Premier League Statistics Dashboard">',""}\n\n${b(_,"Router").$$render(e,{},{},{default:()=>`<div class="header">${b(q,"Link").$$render(e,{to:"/"},{},{default:()=>'<div class="title main-link no-decoration">Premier League</div>'})}</div>\n  <div class="page-content"><div class="teams">${b(q,"Link").$$render(e,{to:"/manchester-city",class:"team-button",id:"team-1",style:"background-color: var(--manchester-city);"},{},{default:()=>'<div class="main-link" style="color: var(--manchester-city-secondary);">Manchester City\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/manchester-united",class:"team-button",id:"team-2",style:"background-color: var(--manchester-united);"},{},{default:()=>'<div class="main-link" style="color: var(--manchester-united-secondary);">Manchester United\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/liverpool",class:"team-button",id:"team-3",style:"background-color: var(--liverpool);"},{},{default:()=>'<div class="main-link" style="color: var(--liverpool-secondary);">Liverpool\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/chelsea",class:"team-button",id:"team-4",style:"background-color: var(--chelsea);"},{},{default:()=>'<div class="main-link" style="color: var(--chelsea-secondary);">Chelsea\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/leicester-city",class:"team-button",id:"team-5",style:"background-color: var(--leicester-city);"},{},{default:()=>'<div class="main-link" style="color: var(--leicester-city-secondary);">Leicester\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/west-ham-united",class:"team-button",id:"team-6",style:"background-color: var(--west-ham-united);"},{},{default:()=>'<div class="main-link" style="color: var(--west-ham-united-secondary);">West Ham\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/tottenham-hotspur",class:"team-button",id:"team-7",style:"background-color: var(--tottenham-hotspur);"},{},{default:()=>'<div class="main-link" style="color: var(--tottenham-hotspur-secondary);">Spurs\n        </div>'})}\n      ${b(q,"Link").$$render(e,{to:"/arsenal",class:"team-button",id:"team-8",style:"background-color: var(--arsenal);"},{},{default:()=>'<div class="main-link" style="color: var(--arsenal-secondary);">Arsenal\n        </div>'})}\n      <a href="/leeds-united" class="team-button" id="team-9" style="background-color: var(--leeds-united);"><div class="main-link" style="color: var(--leeds-united-secondary);">Leeds United\n        </div></a>\n      <a href="/everton" class="team-button" id="team-10" style="background-color: var(--everton);"><div class="main-link" style="color: var(--everton-secondary);">Everton\n        </div></a>\n      <a href="/aston-villa" class="team-button" id="team-11" style="background-color: var(--aston-villa);"><div class="main-link" style="color: var(--aston-villa-secondary);">Aston Villa\n        </div></a>\n      <a href="/newcastle-united" class="team-button" id="team-12" style="background-color: var(--newcastle-united);"><div class="main-link" style="color: var(--newcastle-united-secondary);">Newcastle\n        </div></a>\n      <a href="/wolverhampton-wanderers" class="team-button" id="team-13" style="background-color: var(--wolverhampton-wanderers);"><div class="main-link" style="color: var(--wolverhampton-wanderers-secondary);">Wolves\n        </div></a>\n      <a href="/crystal-palace" class="team-button" id="team-14" style="background-color: var(--crystal-palace);"><div class="main-link" style="color: var(--crystal-palace-secondary);">Crystal Palace\n        </div></a>\n      <a href="/southampton" class="team-button" id="team-15" style="background-color: var(--southampton);"><div class="main-link" style="color: var(--southampton-secondary);">Southampton\n        </div></a>\n      <a href="/brighton-and-hove-albion" class="team-button" id="team-16" style="background-color: var(--brighton-and-hove-albion);"><div class="main-link" style="color: var(--brighton-and-hove-albion-secondary);">Brighton\n        </div></a>\n      <a href="/burnley" class="team-button" id="team-17" style="background-color: var(--burnley);"><div class="main-link" style="color: var(--burnley-secondary);">Burnley\n        </div></a>\n      <a href="/norwich-city" class="team-button" id="team-18" style="background-color: var(--norwich-city);"><div class="main-link" style="color: var(--norwich-city-secondary);">Norwich City\n        </div></a>\n      <a href="/watford" class="team-button" id="team-19" style="background-color: var(--watford);"><div class="main-link" style="color: var(--watford-secondary);">Watford\n        </div></a>\n      <a href="/brentford" class="team-button" id="team-20" style="background-color: var(--brentford);"><div class="main-link" style="color: var(--brentford-secondary);">Brentford\n        </div></a></div></div>`})}\n\n`)));function U(e){switch(e){case"Brighton and Hove Albion FC":return"BHA";case"Manchester City FC":return"MCI";case"Manchester United FC":return"MUN";case"Aston Villa FC":return"AVL";case"Sheffield United FC":return"SHU";case"West Bromwich Albion FC":return"WBA";case"West Ham United FC":return"WHU"}return e.slice(0,3).toUpperCase()}const V=w(((e,t,a,o)=>{let n;l((()=>{let e=function(e,t){return Object.keys(e.form[t]).sort((function(a,o){return new Date(e.form[t][a].date)-new Date(e.form[t][o].date)}))}(r,s);n=e.slice(-5)}));let{data:r,currentMatchday:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==r&&a.data(r),void 0===t.currentMatchday&&a.currentMatchday&&void 0!==i&&a.currentMatchday(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`${null!=n?`<div class="current-form-row"><div class="${"icon pos-0 "+f(r.form[s][i].form5.charAt(4))+" "+f(r.form[s][n[0]].beatStarTeam?"star-team":"")}"></div>\n    <div class="${"icon pos-1 "+f(r.form[s][i].form5.charAt(3))+" "+f(r.form[s][n[1]].beatStarTeam?"star-team":"")}"></div>\n    <div class="${"icon pos-2 "+f(r.form[s][i].form5.charAt(2))+" "+f(r.form[s][n[2]].beatStarTeam?"star-team":"")}"></div>\n    <div class="${"icon pos-3 "+f(r.form[s][i].form5.charAt(1))+" "+f(r.form[s][n[3]].beatStarTeam?"star-team":"")}"></div>\n    <div class="${"icon pos-4 "+f(r.form[s][i].form5.charAt(0))+" "+f(r.form[s][n[4]].beatStarTeam?"star-team":"")}"></div></div>\n  <div class="current-form-row"><div class="icon-name pos-0">${f(U(r.form[s][n[0]].team))}</div>\n    <div class="icon-name pos-1">${f(U(r.form[s][n[1]].team))}</div>\n    <div class="icon-name pos-2">${f(U(r.form[s][n[2]].team))}</div>\n    <div class="icon-name pos-3">${f(U(r.form[s][n[3]].team))}</div>\n    <div class="icon-name pos-4">${f(U(r.form[s][n[4]].team))}</div></div>`:""}\n<div class="current-form">Current form: ${f((100*r.form[s][i].formRating5).toFixed(2))}%\n</div>`}));const Y=w(((e,t,a,o)=>{let n;l((()=>{n=function(e,t){let a,o=Object.keys(e.standings).sort((function(t,a){return e.standings[a][e.currentSeason].points-e.standings[t][e.currentSeason].points})),[n,r]=function(e,t){let a=e.indexOf(t),o=a-3,n=a+4;return o<0&&(n-=o,o=0),n>e.length-1&&(o-=n-e.length,n=e.length),[o,n]}(o,t),i=[];for(let l=n;l<r;l++)o[l]==t&&(a=l-n),i.push({name:o[l],position:e.standings[o[l]][e.currentSeason].position,points:e.standings[o[l]][e.currentSeason].points,gd:e.standings[o[l]][e.currentSeason].gD});return{teamTableIdx:a,rows:i}}(r,s)}));let{data:r,team:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==r&&a.data(r),void 0===t.team&&a.team&&void 0!==i&&a.team(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div class="table-snippet">${null!=n?`<div class="divider"></div>\n    <div class="table-row"><div class="table-element table-position column-title"></div>\n      <div class="table-element table-team-name column-title">Team</div>\n      <div class="table-element table-gd column-title">GD</div>\n      <div class="table-element table-points column-title">Points</div></div>\n\n    ${g(Array(n.rows.length),((e,t)=>`\n      ${0==t?""+(t!=n.teamTableIdx?'<div id="divider"></div>':""):""+(t-1!=n.teamTableIdx&&t!=n.teamTableIdx?'<div id="divider"></div>':"")}\n\n      \n      ${t==n.teamTableIdx?`\n        <div class="table-row this-team" style="${"background-color: var(--"+f(i)+");"}"><div class="table-element table-position this-team" style="${"color: var(--"+f(i)+"-secondary);"}">${f(n.rows[t].position)}</div>\n          <div class="table-element table-team-name this-team" style="${"color: var(--"+f(i)+"-secondary);"}">${f(n.rows[t].name)}</div>\n          <div class="table-element table-gd this-team" style="${"color: var(--"+f(i)+"-secondary);"}">${f(n.rows[t].gd)}</div>\n          <div class="table-element table-points this-team" style="${"color: var(--"+f(i)+"-secondary);"}">${f(n.rows[t].points)}</div>\n        </div>`:`\n        <div class="table-row"><div class="table-element table-position">${f(n.rows[t].position)}</div>\n          <div class="table-element table-team-name">${f(n.rows[t].name)}</div>\n          <div class="table-element table-gd">${f(n.rows[t].gd)}</div>\n          <div class="table-element table-points">${f(n.rows[t].points)}</div>\n        </div>`}`))}\n    ${6!=n.teamTableIdx?'<div id="divider"></div>':""}`:""}</div>`})),W=w(((e,t,a,o)=>{let n;l((()=>{null!=r.upcoming[s].nextTeam&&(n=r.upcoming[s].nextTeam.replace(" FC","").toLowerCase().replace(/ /g,"-"))}));let{data:r,currentMatchday:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==r&&a.data(r),void 0===t.currentMatchday&&a.currentMatchday&&void 0!==i&&a.currentMatchday(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),""+(null!=r?""+(null==r.upcoming[s].nextTeam?`<div class="next-game-prediction row-graph"><div class="next-game-season-complete"><h1 class="next-game-title-text">${f(r.currentSeason)}/${f(r.currentSeason+1)} SEASON COMPLETE\n        </h1></div></div>`:`<div class="next-game-prediction row-graph" style="${"border: 6px solid var(--"+f(r.upcoming[s].nextTeam)+");"}">${null!=n?`<div class="next-game-title" style="${"background-color: var(--"+f(n)+");"}"><h1 class="next-game-title-text" style="${"color: var(--"+f(n)+"-secondary);"}">Next Game:\n            ${b(q,"Link").$$render(e,{to:"/"+n},{},{default:()=>`<div class="no-decoration" style="color: inherit">${f(r.upcoming[s].nextTeam)}</div>`})}<span class="parenthesis">(</span>${f(r.upcoming[s].atHome)}<span class="parenthesis">)</span></h1></div>`:""}</div>\n\n    <div class="next-game-values"><div class="predictions-and-logo"><div class="next-game-logo opposition-badge" style="${"background-image: url('"+f(r.logoURLs[r.upcoming[s].nextTeam])+"')"}"></div>\n        <div class="predictions"><div class="next-game-item">Current form:\n            <b>${f(r.form[r.upcoming[s].nextTeam][i].formRating5)}%</b></div>\n          <div class="next-game-item">Score prediction\n            <br>\n            <a class="predictions-link" href="/predictions"><b>${f(r.upcoming.prediction.scoreline)}</b></a>\n            <br>\n            <span class="accuracy-item">Predicting with accuracy:\n              <b>${f(r.upcoming.prediction[s].accuracy)}%</b></span><br>\n            <div class="accuracy-item">General results accuracy:\n              <b>${f(r.upcoming.prediction[s].resultsAccuracy)}%</b></div></div></div></div>\n      <div class="past-results">${0==r.upcoming[s].previousMatches.length?'<div class="next-game-item prev-results-title">No Previous Results\n          </div>':'<div class="next-game-item prev-results-title">Previous Results</div>'}\n\n        \n        ${g(r.upcoming[s].previousMatches,(e=>`<div class="${"next-game-item "+f(e.oppTeam)}"><div class="past-result"><div class="home-team">${f(e.homeTeam)}</div>\n              <div class="score">${f(e.homeGoals)} - ${f(e.awayGoals)}</div>\n              <div class="away-team">${f(e.awayTeam)}</div></div>\n            <div style="clear: both"></div>\n            <div class="past-result-date">${f(e.date)}</div>\n          </div>`))}</div></div>`):"")}));function Z(e){var t=e%100;return e+([,"st","nd","rd"][t>20?t%10:t]||"th")}function J(e,t,a,o){let n=Object.keys(e.seasonStats).sort((function(a,o){return e.seasonStats[o][t]-e.seasonStats[a][t]})).indexOf(a)+1;return o&&(n=21-n),n}const K=w(((e,t,a,o)=>{function n(){document.documentElement.style.setProperty("--ssp1-offset",-r.clientWidth/2+"px"),document.documentElement.style.setProperty("--ssp2-offset",-i.clientWidth/2+"px"),document.documentElement.style.setProperty("--ssp3-offset",-s.clientWidth/2+"px")}let r,i,s,d={xG:"",xC:"",cleanSheetRatio:""};l((()=>{d=function(e,t){return{xG:Z(J(e,"xG",t,!1)),xC:Z(J(e,"xC",t,!0)),cleanSheetRatio:Z(J(e,"cleanSheetRatio",t,!1))}}(c,u),window.addEventListener("resize",n),setTimeout((function(){n()}),0)}));let{data:c,fullTeamName:u}=t;return void 0===t.data&&a.data&&void 0!==c&&a.data(c),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==u&&a.fullTeamName(u),`<div class="season-stats"><div class="season-stat goals-per-game"><div class="season-stat-value">${f(c.seasonStats[u].xG)}\n      <div class="${"season-stat-position ssp-"+f(d.xG)}" id="ssp1"${x("this",r,0)}>${f(d.xG)}</div></div>\n      <div class="season-stat-text">goals per game</div></div>\n    <div class="season-stat conceded-per-game"><div class="season-stat-value">${f(c.seasonStats[u].xC)}\n        <div class="${"season-stat-position ssp-"+f(d.xC)}" id="ssp2"${x("this",i,0)}>${f(d.xC)}</div></div>\n      <div class="season-stat-text">conceded per game</div></div>\n    <div class="season-stat clean-sheet-ratio"><div class="season-stat-value">${f(c.seasonStats[u].cleanSheetRatio)}\n        <div class="${"season-stat-position ssp-"+f(d.cleanSheetRatio)}" id="ssp3"${x("this",s,0)}>${f(d.cleanSheetRatio)}</div></div>\n      <div class="season-stat-text">clean sheets</div></div></div>`})),Q=w(((e,t,a,o)=>{let{lastUpdated:n}=t;return void 0===t.lastUpdated&&a.lastUpdated&&void 0!==n&&a.lastUpdated(n),`<div class="teams-footer footer-text-colour"><a class="ko-fi" href="https://ko-fi.com/C0C069FOI" target="_blank"><img class="ko-fi-img" src="img/kofi.png" alt="">\n    <div class="ko-fi-text">Support Me</div></a>\n  <div class="teams-footer-bottom">${null!=n?`<div class="last-updated">${f(n)} UTC</div>`:""}\n    <div class="footer-details"><div class="footer-detail footer-text-colour">Data provided by\n        <a class="footer-text-colour underline" href="https://www.football-data.org/">football-data.org</a></div>\n      <div class="footer-detail footer-text-colour">Graphs created using\n        <a class="footer-text-colour underline" href="https://plotly.com/">Plotly</a></div>\n      <div class="footer-detail footer-text-colour">Font made from\n        <a class="footer-text-colour" href="http://www.onlinewebfonts.com">oNline Web Fonts</a>\n        is licensed by CC BY 3.0\n      </div></div>\n    <div class="footer-bottom"><div class="created-by footer-text-colour">Created by Tom Draper</div>\n      <div class="version footer-text-colour">v2.0</div></div></div></div>`}));function X(e){let t,a=e.atHome?"Home":"Away";return t=null!=e.score?`${e.team} (${a}) ${e.score}`:`${e.team} (${a})`,t}function ee(e,t){let a=[],o=[],n=[];for(let r=1;r<=38;r++){let i=e.fixtures[t][r];a.push(new Date(i.date));let l=e.teamRatings[i.team].totalRating;i.atHome&&(l*=1-e.homeAdvantages[i.team].totalHomeAdvantage),o.push(100*l);let s=X(i);n.push(s)}!function(e,t,a){let o=[];for(let n=0;n<e.length;n++)o.push({x:e[n],y:t[n],details:a[n]});o.sort((function(e,t){return e.x<t.x?-1:e.x==t.x?0:1}));for(let n=0;n<o.length;n++)e[n]=o[n].x,t[n]=o[n].y,a[n]=o[n].details}(a,o,n);let r=Date.now(),i=Array(a.length).fill(14);i=function(e,t,a,o){let n,r=Number.POSITIVE_INFINITY;for(let e=0;e<t.length;e++){let o=t[e]-a;0<o&&o<r&&(r=o,n=e)}return null!=n&&(e[n]=o),e}(i,a,r,26);let l=Array.from({length:38},((e,t)=>t+1)),s=Array.from(Array(11),((e,t)=>10*t)),d=new Date(a[0]);d.setDate(d.getDate()-10);let c=new Date(Math.max(a[a.length-1],r));return c.setDate(c.getDate()+10),{data:[{x:a,y:o,type:"scatter",mode:"lines+markers",text:n,line:{color:"#737373"},marker:{size:i,colorscale:[[0,"#01c626"],[.1,"#08a825"],[.2,"#0b7c20"],[.3,"#0a661b"],[.4,"#064411"],[.5,"#000000"],[.6,"#5b1d15"],[.7,"#85160f"],[.8,"#ad1a10"],[.9,"#db1a0d"],[1,"#fc1303"]],color:o},customdata:l,hovertemplate:"<b>%{text}</b><br>Matchday %{customdata}<br>%{x|%d %b %Y}<br>Team rating: <b> %{y:.1f}%</b><extra></extra>"}],layout:{title:!1,autosize:!0,margin:{r:20,l:50,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Team Rating"},gridcolor:"gray",showline:!1,zeroline:!1,fixedrange:!0,ticktext:s,tickvals:s},xaxis:{linecolor:"black",showgrid:!1,showline:!1,range:[d,c],fixedrange:!0},shapes:[{type:"line",x0:r,y0:-4,x1:r,y1:104,line:{color:"black",dash:"dot",width:1}}]},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}const te=w(((e,t,a,o)=>{let n,r;l((()=>{r=ee(i,s),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{data:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==i&&a.data(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`}));function ae(e,t,a,o){let n,r=Array.from({length:38},((e,t)=>t+1)),i=[];for(let t=1;t<=38;t++){let o=e.form[a][t].formRating5;i.push(100*o)}if(o){let e=a.replace(" FC","");e=e[0].toLowerCase()+e.slice(1),e=e.replace(/ ([A-Z])/g,"-$1").toLowerCase(),n={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else n={color:"#d3d3d3"};return{x:t,y:i,name:a,mode:"lines",line:n,text:r,hovertemplate:`<b>${a}</b><br>Matchday %{text}<br>%{x|%d %b %Y}<br>Form: <b>%{y:.1f}%</b><extra></extra>`,showlegend:!1}}function oe(e,t){let a=function(e){let t=[];for(let a=1;a<=38;a++){let o=[];for(let t of e.teamNames)o.push(e.fixtures[t][a].date);o=o.map((e=>new Date(e))),o=o.sort(),t.push(o[Math.floor(o.length/2)])}return t.sort((function(e,t){return e-t})),t}(e),o=[];for(let n=0;n<e.teamNames.length;n++)if(e.teamNames[n]!=t){let t=ae(e,a,e.teamNames[n],!1);o.push(t)}let n=ae(e,a,t,!0);o.push(n);let r=Array.from(Array(11),((e,t)=>10*t));return{data:o,layout:{title:!1,autosize:!0,margin:{r:20,l:50,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form Rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,ticktext:r,tickvals:r},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0}},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}const ne=w(((e,t,a,o)=>{let n,r;l((()=>{r=oe(i,s),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{data:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==i&&a.data(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`}));function re(e,t,a,o){let n,r=Array.from({length:38},((e,t)=>t+1)),i=[];for(let t=1;t<=38;t++){let o=e.form[a][t].position;i.push(o)}if(o){let e=a.replace(" FC","");e=e[0].toLowerCase()+e.slice(1),e=e.replace(/ ([A-Z])/g,"-$1").toLowerCase(),n={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else n={color:"#d3d3d3"};return{x:t,y:i,name:a,mode:"lines",line:n,text:r,hovertemplate:`<b>${a}</b><br>Matchday %{text}<br>%{x|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function ie(e,t){let a=function(e){let t=[];for(let a=1;a<=38;a++){let o=[];e.teamNames.forEach((t=>{o.push(e.fixtures[t][a].date)})),o=o.map((e=>new Date(e))),o=o.sort(),t.push(o[Math.floor(o.length/2)])}return t.sort((function(e,t){return e-t})),t}(e),o=[];for(let n=0;n<e.teamNames.length;n++)if(e.teamNames[n]!=t){let t=re(e,a,e.teamNames[n],!1);o.push(t)}let n=re(e,a,t,!0);o.push(n);let r=Array.from(Array(20),((e,t)=>t+1));return{data:o,layout:{title:!1,autosize:!0,margin:{r:20,l:50,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form Rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,autorange:"reversed",fixedrange:!0,ticktext:r,tickvals:r},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:[{type:"rect",x0:a[0],y0:4.5,x1:a[a.length-1],y1:.5,line:{width:0},fillcolor:"#77DD77",opacity:.3,layer:"below"},{type:"rect",x0:a[0],y0:6.5,x1:a[a.length-1],y1:4.5,line:{width:0},fillcolor:"#4CDEEE",opacity:.3,layer:"below"},{type:"rect",x0:a[0],y0:20.5,x1:a[a.length-1],y1:17.5,line:{width:0},fillcolor:"#C23B22",opacity:.3,layer:"below"}]},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}const le=w(((e,t,a,o)=>{let n,r;l((()=>{r=ie(i,s),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{data:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==i&&a.data(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`}));function se(e,t){let a=function(e){let t={};for(let a of e.teamNames)for(let o of Object.keys(e.form[a])){let[n,r,i]=e.form[a][o].score.split(" ");n=parseInt(n),i=parseInt(i),o in t?t[o]+=n+i:t[o]=n+i}for(let e of Object.keys(t))t[e]/=20;return t}(e),o=function(e){let t=[];for(let a=1;a<=38;a++){let o=[];for(let t of e.teamNames)o.push(e.fixtures[t][a].date);o=o.map((e=>new Date(e))),o=o.sort(),t.push(o[Math.floor(o.length/2)])}return t.sort((function(e,t){return e-t})),t}(e),n=Object.keys(a),[r,i]=function(e,t){let a={},o={};for(let n of Object.keys(e.form[t])){let[r,i,l]=e.form[t][n].score.split(" ");r=parseInt(r),l=parseInt(l),e.form[t][n].atHome?(a[n]=r,o[n]=l):(a[n]=l,o[n]=r)}return[a,o]}(e,t);return{data:[{name:"Scored",type:"bar",x:o,y:Object.values(r),text:n,marker:{color:"#77DD77"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"},{name:"Conceded",type:"bar",x:o,y:Object.values(i),text:n,marker:{color:"C23B22"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"},{name:"Avg",type:"line",x:o,y:Object.values(a),text:n,hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals<extra></extra>",line:{color:"#0080FF",width:2}}],layout:{title:!1,autosize:!0,margin:{r:20,l:50,t:0,b:15,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals Scored"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,showticklabels:!1},legend:{x:1,xanchor:"right",y:1}},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}const de=w(((e,t,a,o)=>{let n,r;l((()=>{r=se(i,s),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{data:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==i&&a.data(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`}));function ce(e,t){let a=function(e){let t=[];for(let a=1;a<=38;a++){let o=[];for(let t of e.teamNames)o.push(e.fixtures[t][a].date);o=o.map((e=>new Date(e))),o=o.sort(),t.push(o[Math.floor(o.length/2)])}return t.sort((function(e,t){return e-t})),t}(e),o=Object.keys(e.form[t]),[n,r]=function(e,t){let a=[],o=[];for(let n of Object.keys(e.form[t])){let[r,i,l]=e.form[t][n].score.split(" ");r=parseInt(r),l=parseInt(l),e.form[t][n].atHome?l>0?(a.push(1),o.push(0)):(o.push(1),a.push(0)):r>0?(a.push(1),o.push(0)):(o.push(1),a.push(0))}return[o,a]}(e,t);return{data:[{name:"Clean sheets",type:"bar",x:a,y:n,text:o,marker:{color:"#77DD77"},hovertemplate:"<b>Clean sheet<extra></extra>",showlegend:!1},{name:"Conceded",type:"bar",x:a,y:r,text:o,marker:{color:"C23B22"},hovertemplate:"<b>Goals conceded<extra></extra>",showlegend:!1}],layout:{title:!1,autosize:!0,height:60,margin:{r:20,l:50,t:0,b:40,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:""},showticklabels:!1,gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:[{type:"line",x0:a[0],y0:.5,x1:a[a.length-1],y1:.5,layer:"below",line:{color:"#d3d3d3",width:2}}]},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}const ue=w(((e,t,a,o)=>{let n,r;l((()=>{r=ce(i,s),new Plotly.newPlot(n,r.data,r.layout,r.config)}));let{data:i,fullTeamName:s}=t;return void 0===t.data&&a.data&&void 0!==i&&a.data(i),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==s&&a.fullTeamName(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`})),me=w(((e,t,a,o)=>{let n,r;l((()=>{r=function(){let e=Object.keys(i);return{data:[{x:Object.keys(i),y:Object.values(i),type:"bar",name:"Avg",marker:{color:"#d3d3d3"},line:{width:0},hovertemplate:"%{x} goals in %{y} games<extra></extra>",hoverinfo:"x+y"},{x:Object.keys(s),y:Object.values(s),type:"bar",name:"Goals scored",marker:{color:"#77DD77"},line:{width:0},hovertemplate:"%{x} goals in %{y} games<extra></extra>",hoverinfo:"x+y",opacity:.6}],layout:{title:!1,autosize:!0,margin:{r:0,l:50,t:0,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Frequency"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Goals Scored"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95}},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{goalFreq:i,teamScoredFreq:s}=t;return void 0===t.goalFreq&&a.goalFreq&&void 0!==i&&a.goalFreq(i),void 0===t.teamScoredFreq&&a.teamScoredFreq&&void 0!==s&&a.teamScoredFreq(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`})),ve=w(((e,t,a,o)=>{let n,r;l((()=>{r=function(){let e=Object.keys(i);return{data:[{x:Object.keys(i),y:Object.values(i),type:"bar",name:"Avg",marker:{color:"#d3d3d3"},line:{width:0},hovertemplate:"%{x} goals in %{y} games<extra></extra>",hoverinfo:"x+y"},{x:Object.keys(s),y:Object.values(s),type:"bar",name:"Goals conceded",marker:{color:"#C23B22"},line:{width:0},hovertemplate:"%{x} goals in %{y} games<extra></extra>",hoverinfo:"x+y",opacity:.6}],layout:{title:!1,autosize:!0,margin:{r:0,l:50,t:0,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Frequency"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Goals Conceded"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95}},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(),new Plotly.newPlot(n,r.data,r.layout,r.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}));let{goalFreq:i,teamConcededFreq:s}=t;return void 0===t.goalFreq&&a.goalFreq&&void 0!==i&&a.goalFreq(i),void 0===t.teamConcededFreq&&a.teamConcededFreq&&void 0!==s&&a.teamConcededFreq(s),`<div id="plotly"><div id="plotDiv"${x("this",n,0)}></div></div>`}));const fe=w(((e,t,a,o)=>{let n,r,i;l((()=>{n=function(e){let t={};for(let a of e.teamNames)for(let o of Object.keys(e.form[a])){let n=e.form[a][o].score;if("None - None"!=n){let[r,i,l]=n.split(" ");e.form[a][o].atHome&&(r in t?t[r]+=1:t[r]=1,l in t?t[l]+=1:t[l]=1)}}for(let e of Object.keys(t))t[e]/=20;return t}(s),r=function(e,t){let a={};for(let o of Object.keys(e.form[t])){let n=e.form[t][o].score;if("None - None"!=n){let[r,i,l]=n.split(" ");e.form[t][o].atHome?r in a?a[r]+=1:a[r]=1:l in a?a[l]+=1:a[l]=1}}return a}(s,d),i=function(e,t){let a={};for(let o of Object.keys(e.form[t])){let n=e.form[t][o].score;if("None - None"!=n){let[r,i,l]=n.split(" ");e.form[t][o].atHome?l in a?a[l]+=1:a[l]=1:r in a?a[r]+=1:a[r]=1}}return a}(s,d)}));let{data:s,fullTeamName:d}=t;return void 0===t.data&&a.data&&void 0!==s&&a.data(s),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==d&&a.fullTeamName(d),`<div class="two-graphs"><div class="graph freq-graph mini-graph">${null!=r?`${b(me,"GoalsScoredFreq").$$render(e,{goalFreq:n,teamScoredFreq:r},{},{})}`:""}</div>\n  <div class="graph freq-graph mini-graphh">${null!=i?`${b(ve,"GoalsConcededFreq").$$render(e,{goalFreq:n,teamConcededFreq:i},{},{})}`:""}</div></div>`}));function pe(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;for(let n of e.teamNames){let r=0,i=0;for(let t in e.standings[n]){let l=e.standings[n][t].gF;l>0&&(r+=l,l>a?a=l:l<o&&(o=l),i+=1)}let l=r/i;t[n]=l}return[t,[o,a]]}(e);return t=function(e,t){let[a,o]=t;for(let t in e)e[t]=(e[t]-a)/(o-a)*100;return e}(t,a),function(e){let t=0;for(let a in e)t+=e[a];e.avg=t/Object.keys(e).length}(t),t}function he(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;for(let n of e.teamNames){let r=0,i=0;for(let t in e.standings[n]){let l=e.standings[n][t].gA;l>0&&(r+=l,l>a?a=l:l<o&&(o=l),i+=1)}let l=r/i;t[n]=l}return[t,[o,a]]}(e);return t=function(e,t){let[a,o]=t;for(let t in e)e[t]=100-(e[t]-a)/(o-a)*100;return e}(t,a),function(e){let t=0;for(let a in e)t+=e[a];e.avg=t/Object.keys(e).length}(t),t}function ge(e,t){let a=e.indexOf(t);return a>-1&&e.splice(a,1),e}const ye=w(((e,t,a,o)=>{function n(e,t,a){return{name:e,type:"scatterpolar",r:t,theta:b,fill:"toself",marker:{color:a},hovertemplate:`<b>${e}</b><br>%{theta}: %{r}<extra></extra>`,hoveron:"points"}}function r(e){let t=function(e){let t=e.replace(" FC","");return t=t[0].toLowerCase()+t.slice(1),t=t.replace(/ /g,"-").toLowerCase(),getComputedStyle(document.documentElement).getPropertyValue(`--${t}`)}(e);return[n("Avg",[s.avg,d.avg,c.avg,u.avg,m.avg,v.avg],"#D3D3D3"),n(e,[s[e],d[e],c[e],u[e],m[e],v[e]],t)]}function i(e){s=pe(e),d=he(e),c=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let o of e.teamNames){let n=0;for(let t of Object.keys(e.form[o])){let a=e.form[o][t];if("None - None"!=a.score){let[e,t,o]=a.score.split(" ");a.atHome&&0==o?n+=1:a.atHome||0!=e||(n+=1)}}n>a&&(a=n),t[o]=n}let o=0;for(let e of Object.keys(t))t[e]=t[e]/a*100,o+=t[e];return t.avg=o/Object.keys(t).length,t}(e),u=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let o of e.teamNames){let n=0,r=null;for(let t of Object.keys(e.form[o])){let a=e.form[o][t];if("None - None"!=a.score){let e,[t,o,i]=a.score.split(" ");e=a.atHome&&t>i||!a.atHome&&t<i?"win":a.atHome&&t<i||!a.atHome&&t>i?"lost":"draw",null!=r&&r==e&&(n+=1),r=e}}n>a&&(a=n),t[o]=n}let o=0;for(let e of Object.keys(t))t[e]=t[e]/a*100,o+=t[e];return t.avg=o/Object.keys(t).length,t}(e),m=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let o of e.teamNames){let n=0,r=0;for(let t of Object.keys(e.form[o])){let a=e.form[o][t];if("None - None"!=a.score){let[e,t,o]=a.score.split(" ");a.atHome&&e>o||!a.atHome&&e<o?(r+=1,r>n&&(n=r)):r=0}}n>a&&(a=n),t[o]=n}let o=0;for(let e of Object.keys(t))t[e]=t[e]/a*100,o+=t[e];return t.avg=o/Object.keys(t).length,t}(e),v=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let o of e.teamNames){let n=["Manchester United FC","Liverpool FC","Manchester City FC","Arsenal FC","Chelsea FC","Tottenham Hotspurs FC"];n=ge(n,o);let r=0;for(let t of Object.keys(e.form[o])){let a=e.form[o][t];if("None - None"!=a.score&&n.includes(a.team)){let[e,t,o]=a.score.split(" ");(a.atHome&&e>o||!a.atHome&&e<o)&&(r+=1)}}r>a&&(a=r),t[o]=r}let o=0;for(let e of Object.keys(t))t[e]=t[e]/a*100,o+=t[e];return t.avg=o/Object.keys(t).length,t}(e)}let s,d,c,u,m,v,p,h,y,b=["Attack","Defence","Clean Sheets","Consistency","Win Streak","vs Big 6"];l((()=>{y=function(e,t){return i(e),h=r(t),{data:h,layout:{height:550,polar:{radialaxis:{visible:!0,range:[0,100]}},hover:"closest",margin:{t:25,b:25,l:75,r:75},showlegend:!1,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa"},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}($,w),new Plotly.newPlot(p,y.data,y.layout,y.config).then((e=>{e.children[0].children[0].classList.add("resizable-spider-chart")}))}));let{data:$,fullTeamName:w}=t;return void 0===t.data&&a.data&&void 0!==$&&a.data($),void 0===t.fullTeamName&&a.fullTeamName&&void 0!==w&&a.fullTeamName(w),`<div class="spider-chart"><div id="plotly"><div id="plotDiv"${x("this",p,0)}></div></div></div>\n<div class="spider-opp-team-selector">\n  <div class="spider-opp-team-btns"><button class="spider-opp-team-btn top-spider-opp-team-btn">${f($.teamNames[0].replace(" FC",""))}</button>\n    ${g($.teamNames,(e=>""+(e!=w?`<button class="spider-opp-team-btn">${f(e.replace(" FC",""))}</button>`:"")))}\n    <button class="spider-opp-team-btn bottom-spider-opp-team-btn">${f($.teamNames[$.teamNames.length-1].replace(" FC",""))}</button></div></div>`}));const be=w(((e,t,a,o)=>{let n,r,i="";l((()=>{var e;e=s.replace(/\-/g," "),i=e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ")+" FC",async function(e){const t=await fetch(e);return await t.json()}("https://pldashboard.herokuapp.com/teams").then((e=>{n=function(e,t){return Object.keys(e.form[t]).reduce(((a,o)=>e.form[t][a]>e.form[t][o]?a:o))}(e,i),r=e,console.log(r)})).then((()=>{window.dispatchEvent(new Event("resize"))}))}));let{team:s}=t;return void 0===t.team&&a.team&&void 0!==s&&a.team(s),`${e.head+=(e.title=`<title>${f(i)}</title>`,"")+'<meta name="description" content="Premier League Statistics Dashboard">',""}\n\n${b(_,"Router").$$render(e,{},{},{default:()=>`<div class="header" style="${"background-color: var(--"+f(s)+");"}"><div class="main-link title no-decoration" style="${"color: var(--"+f(s+"-secondary")+");"}">${f(i)}</div></div>\n\n  ${null!=r?`<div class="page-content"><div class="row"><div class="row-left position-and-badge" style="${"background-image: url('"+f(r.logoURLs[i])+"')"}"><div class="position">${f(r.standings[i][r.currentSeason].position)}</div></div>\n        <div class="fixtures-graph row-graph"><h1 class="lowered">Fixtures</h1>\n          <div class="graph mini-graph">${b(te,"Fixtures").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      <div class="row"><div class="row-left form-details">${b(V,"CurrentForm").$$render(e,{data:r,currentMatchday:n,fullTeamName:i},{},{})}\n          ${b(Y,"TableSnippet").$$render(e,{data:r,team:s,fullTeamName:i},{},{})}</div>\n        ${b(W,"NextGame").$$render(e,{data:r,currentMatchday:n,fullTeamName:i},{},{})}</div>\n\n      <div class="row"><div class="form-graph row-graph"><h1 class="lowered">Form Over Time</h1>\n          <div class="graph full-row-graph">${b(ne,"FormOverTime").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      <div class="row"><div class="position-over-time-graph row-graph"><h1 class="lowered">Position Over Time</h1>\n          <div class="graph full-row-graph">${b(le,"PositionOverTime").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      <div class="row no-bottom-margin"><div class="goals-scored-vs-conceded-graph row-graph"><h1 class="lowered">Goals Scored and Conceded</h1>\n          <div class="graph full-row-graph">${b(de,"GoalsScoredAndConceded").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      <div class="row"><div class="row-graph"><div class="clean-sheets graph full-row-graph">${b(ue,"CleanSheets").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      <div class="season-stats-row">${b(K,"SeasonStats").$$render(e,{data:r,fullTeamName:i},{},{})}</div>\n\n      <div class="row"><div class="goals-freq-row row-graph"><h1>Goals Per Game</h1>\n          ${b(fe,"GoalFrequencies").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div>\n\n      <div class="row"><div class="spider-chart-row row-graph"><div class="spider-chart-container">${b(ye,"Spider").$$render(e,{data:r,fullTeamName:i},{},{})}</div></div></div>\n\n      ${b(Q,"TeamsFooter").$$render(e,{lastUpdated:r.lastUpdated},{},{})}</div>`:'<div class="loading-spinner-container"><div class="loading-spinner"></div></div>'}`})}`}));function $e(e,t){return Math.round(e.homeGoals)==t.homeGoals&&Math.round(e.awayGoals)==t.awayGoals}function we(e,t){return e.homeGoals>e.awayGoals&&t.homeGoals>t.awayGoals||e.homeGoals==e.awayGoals&&t.homeGoals==t.awayGoals||e.homeGoals<e.awayGoals&&t.homeGoals<t.awayGoals}const xe=w(((e,t,a,o)=>{let n;return l((()=>{(async function(e){const t=await fetch(e);return await t.json()})("https://pldashboard.herokuapp.com/predictions").then((e=>{!function(e){e.predictions.sort(((e,t)=>new Date(t._id)-new Date(e._id)));for(let t=0;t<e.predictions.length;t++)e.predictions[t].predictions.sort(((e,t)=>new Date(e._id)-new Date(t._id)))}(e),function(e){for(let t=0;t<e.predictions.length;t++)for(let a=0;a<e.predictions[t].predictions.length;a++){let o=e.predictions[t].predictions[a];null!=o.actual&&($e(o.prediction,o.actual)?o.colour="green":we(o.prediction,o.actual)?o.colour="yellow":o.colour="red")}}(e),console.log(e),n=e,console.log(n.predictions)}))})),`${e.head+=(e.title="<title>Predictions</title>","")+'<meta name="description" content="Premier League Statistics Dashboard">',""}\n\n${b(_,"Router").$$render(e,{},{},{default:()=>`<div class="predictions-header">${b(q,"Link").$$render(e,{class:"predictions-title main-link",style:"text-decoration: none",to:"/predictions"},{},{default:()=>"Predictions"})}</div>\n\n  ${null!=n?`<div class="page-content"><div class="accuracy-display"><div class="accuracy"><span class="accuracy-item">Predicting with accuracy: <b>${f((100*n.accuracy.scoreAccuracy).toFixed(2))}%</b></span><br>\n          <div class="accuracy-item">General results accuracy: <b>${f((100*n.accuracy.resultAccuracy).toFixed(2))}%</b></div></div></div>\n\n      <div class="predictions-container"><div class="predictions">${null!=n.predictions?`${g(n.predictions,(({_id:e,predictions:t})=>`<div class="date">${f(e)}</div>\n              <div class="medium-predictions-divider"></div>\n              \n              ${g(t,(e=>`<button class="${"prediction-container "+f(e.colour)}"><div class="prediction prediction-item"><div class="prediction-label">Predicted:</div>\n                    <div class="prediction-value"><div class="prediction-initials">${f(e.home)}</div>\n                      <div class="prediction-score">${f(Math.round(e.prediction.homeGoals))} - ${f(Math.round(e.prediction.awayGoals))}</div>\n                      <div class="prediction-initials">${f(e.away)}</div>\n                    </div></div>\n                  ${null!=e.actual?`<div class="actual prediction-item"><div class="prediction-label">Actual:</div>\n                      <div class="prediction-value"><div class="prediction-initials">${f(e.home)}</div>\n                        <div class="prediction-score">${f(e.actual.homeGoals)} - ${f(e.actual.awayGoals)}</div>\n                        <div class="prediction-initials">${f(e.away)}</div></div>\n                    </div>`:`<div class="prediction-time">${f(function(e){let t=new Date(e);return t=t.toTimeString().slice(0,5),t}(e.datetime))}\n                    </div>`}\n\n                  \n                  ${null!=e.prediction?`<div class="prediction-details"${x("id",e._id,0)}><div class="detailed-predicted-score"><b>${f(e.prediction.homeGoals)} - ${f(e.prediction.awayGoals)}</b></div>\n                    </div>`:""}\n                </button>`))}\n              <div class="predictions-gap"></div>`))}`:""}</div></div></div>\n\n    <div class="predictions-footer footer-text-colour"><div class="method-description">Predictions are calculated using previous results and then adjusting by\n        recent form and home advantage.\n      </div>\n      </div>`:'<div class="loading-spinner-container"><div class="loading-spinner"></div></div>'}`})}`})),Fe=w(((e,t,a,o)=>{let{url:n=""}=t;return void 0===t.url&&a.url&&void 0!==n&&a.url(n),`${b(_,"Router").$$render(e,{url:n},{},{default:()=>`${b(R,"Route").$$render(e,{path:"/",component:H},{},{})}\n  ${b(R,"Route").$$render(e,{path:"/predictions",component:xe},{},{})}\n  ${b(R,"Route").$$render(e,{path:"/:team"},{},{default:({params:t})=>`${b(be,"Team").$$render(e,{team:t.team},{},{})}`})}`})}`}));module.exports=Fe;
