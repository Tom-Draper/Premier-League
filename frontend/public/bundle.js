!function(){"use strict";function t(){}function e(t,e){for(const a in e)t[a]=e[a];return t}function a(t){return t()}function s(){return Object.create(null)}function l(t){t.forEach(a)}function n(t){return"function"==typeof t}function r(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let o;function i(t,e){return o||(o=document.createElement("a")),o.href=e,t===o.href}function c(e,...a){if(null==e)return t;const s=e.subscribe(...a);return s.unsubscribe?()=>s.unsubscribe():s}function d(t,e,a){t.$$.on_destroy.push(c(e,a))}function f(t,e,a,s){if(t){const l=u(t,e,a,s);return t[0](l)}}function u(t,a,s,l){return t[1]&&l?e(s.ctx.slice(),t[1](l(a))):s.ctx}function h(t,e,a,s){if(t[2]&&s){const l=t[2](s(a));if(void 0===e.dirty)return l;if("object"==typeof l){const t=[],a=Math.max(e.dirty.length,l.length);for(let s=0;s<a;s+=1)t[s]=e.dirty[s]|l[s];return t}return e.dirty|l}return e.dirty}function m(t,e,a,s,l,n){if(l){const r=u(e,a,s,n);t.p(r,l)}}function p(t){if(t.ctx.length>32){const e=[],a=t.ctx.length/32;for(let t=0;t<a;t++)e[t]=-1;return e}return-1}function v(t){const e={};for(const a in t)"$"!==a[0]&&(e[a]=t[a]);return e}const g="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let y,$=!1;function b(t,e,a,s){for(;t<e;){const l=t+(e-t>>1);a(l)<=s?t=l+1:e=l}return t}function w(t,e){if($){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let a=0;a<e.length;a++){const s=e[a];void 0!==s.claim_order&&t.push(s)}e=t}const a=new Int32Array(e.length+1),s=new Int32Array(e.length);a[0]=-1;let l=0;for(let t=0;t<e.length;t++){const n=e[t].claim_order,r=(l>0&&e[a[l]].claim_order<=n?l+1:b(1,l,(t=>e[a[t]].claim_order),n))-1;s[t]=a[r]+1;const o=r+1;a[o]=t,l=Math.max(o,l)}const n=[],r=[];let o=e.length-1;for(let t=a[l]+1;0!=t;t=s[t-1]){for(n.push(e[t-1]);o>=t;o--)r.push(e[o]);o--}for(;o>=0;o--)r.push(e[o]);n.reverse(),r.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,a=0;e<r.length;e++){for(;a<n.length&&r[e].claim_order>=n[a].claim_order;)a++;const s=a<n.length?n[a]:null;t.insertBefore(r[e],s)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function x(t,e,a){$&&!a?w(t,e):e.parentNode===t&&e.nextSibling==a||t.insertBefore(e,a||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function D(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function V(t){return document.createElement(t)}function k(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function _(){return I(" ")}function T(){return I("")}function P(t,e,a,s){return t.addEventListener(e,a,s),()=>t.removeEventListener(e,a,s)}function G(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function A(t){return Array.from(t.childNodes)}function N(t,e,a,s,l=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const n=(()=>{for(let s=t.claim_info.last_index;s<t.length;s++){const n=t[s];if(e(n)){const e=a(n);return void 0===e?t.splice(s,1):t[s]=e,l||(t.claim_info.last_index=s),n}}for(let s=t.claim_info.last_index-1;s>=0;s--){const n=t[s];if(e(n)){const e=a(n);return void 0===e?t.splice(s,1):t[s]=e,l?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=s,n}}return s()})();return n.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,n}function z(t,e,a,s){return N(t,(t=>t.nodeName===e),(t=>{const e=[];for(let s=0;s<t.attributes.length;s++){const l=t.attributes[s];a[l.name]||e.push(l.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>s(e)))}function S(t,e,a){return z(t,e,a,V)}function M(t,e,a){return z(t,e,a,k)}function O(t,e){return N(t,(t=>3===t.nodeType),(t=>{const a=""+e;if(t.data.startsWith(a)){if(t.data.length!==a.length)return t.splitText(a.length)}else t.data=a}),(()=>I(e)),!0)}function B(t){return O(t," ")}function C(t,e){e=""+e,t.data!==e&&(t.data=e)}function L(t,e,a,s){null==a?t.style.removeProperty(e):t.style.setProperty(e,a,s?"important":"")}function j(t,e,a){t.classList[a?"add":"remove"](e)}function H(t,e){const a=[];let s=0;for(const l of e.childNodes)if(8===l.nodeType){const e=l.textContent.trim();e===`HEAD_${t}_END`?(s-=1,a.push(l)):e===`HEAD_${t}_START`&&(s+=1,a.push(l))}else s>0&&a.push(l);return a}function F(t,e){return new t(e)}function R(t){y=t}function U(){if(!y)throw new Error("Function called outside component initialization");return y}function q(t){U().$$.on_mount.push(t)}function Y(t,e){return U().$$.context.set(t,e),e}function W(t){return U().$$.context.get(t)}const X=[],J=[];let K=[];const Q=[],Z=Promise.resolve();let tt=!1;function et(t){K.push(t)}const at=new Set;let st=0;function lt(){if(0!==st)return;const t=y;do{try{for(;st<X.length;){const t=X[st];st++,R(t),nt(t.$$)}}catch(t){throw X.length=0,st=0,t}for(R(null),X.length=0,st=0;J.length;)J.pop()();for(let t=0;t<K.length;t+=1){const e=K[t];at.has(e)||(at.add(e),e())}K.length=0}while(X.length);for(;Q.length;)Q.pop()();tt=!1,at.clear(),R(t)}function nt(t){if(null!==t.fragment){t.update(),l(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(et)}}const rt=new Set;let ot;function it(){ot={r:0,c:[],p:ot}}function ct(){ot.r||l(ot.c),ot=ot.p}function dt(t,e){t&&t.i&&(rt.delete(t),t.i(e))}function ft(t,e,a,s){if(t&&t.o){if(rt.has(t))return;rt.add(t),ot.c.push((()=>{rt.delete(t),s&&(a&&t.d(1),s())})),t.o(e)}else s&&s()}function ut(t,e){const a=e.token={};function s(t,s,l,n){if(e.token!==a)return;e.resolved=n;let r=e.ctx;void 0!==l&&(r=r.slice(),r[l]=n);const o=t&&(e.current=t)(r);let i=!1;e.block&&(e.blocks?e.blocks.forEach(((t,a)=>{a!==s&&t&&(it(),ft(t,1,1,(()=>{e.blocks[a]===t&&(e.blocks[a]=null)})),ct())})):e.block.d(1),o.c(),dt(o,1),o.m(e.mount(),e.anchor),i=!0),e.block=o,e.blocks&&(e.blocks[s]=o),i&&lt()}if(!(l=t)||"object"!=typeof l&&"function"!=typeof l||"function"!=typeof l.then){if(e.current!==e.then)return s(e.then,1,e.value,t),!0;e.resolved=t}else{const a=U();if(t.then((t=>{R(a),s(e.then,1,e.value,t),R(null)}),(t=>{if(R(a),s(e.catch,2,e.error,t),R(null),!e.hasCatch)throw t})),e.current!==e.pending)return s(e.pending,0),!0}var l}function ht(t,e){t.d(1),e.delete(t.key)}function mt(t,e,a,s,n,r,o,i,c,d,f,u){let h=t.length,m=r.length,p=h;const v={};for(;p--;)v[t[p].key]=p;const g=[],y=new Map,$=new Map,b=[];for(p=m;p--;){const t=u(n,r,p),l=a(t);let i=o.get(l);i?s&&b.push((()=>i.p(t,e))):(i=d(l,t),i.c()),y.set(l,g[p]=i),l in v&&$.set(l,Math.abs(p-v[l]))}const w=new Set,x=new Set;function E(t){dt(t,1),t.m(i,f),o.set(t.key,t),f=t.first,m--}for(;h&&m;){const e=g[m-1],a=t[h-1],s=e.key,l=a.key;e===a?(f=e.first,h--,m--):y.has(l)?!o.has(s)||w.has(s)?E(e):x.has(l)?h--:$.get(s)>$.get(l)?(x.add(s),E(e)):(w.add(l),h--):(c(a,o),h--)}for(;h--;){const e=t[h];y.has(e.key)||c(e,o)}for(;m;)E(g[m-1]);return l(b),g}function pt(t){return"object"==typeof t&&null!==t?t:{}}function vt(t){t&&t.c()}function gt(t,e){t&&t.l(e)}function yt(t,e,s,r){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,s),r||et((()=>{const e=t.$$.on_mount.map(a).filter(n);t.$$.on_destroy?t.$$.on_destroy.push(...e):l(e),t.$$.on_mount=[]})),i.forEach(et)}function $t(t,e){const a=t.$$;null!==a.fragment&&(!function(t){const e=[],a=[];K.forEach((s=>-1===t.indexOf(s)?e.push(s):a.push(s))),a.forEach((t=>t())),K=e}(a.after_update),l(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function bt(t,e){-1===t.$$.dirty[0]&&(X.push(t),tt||(tt=!0,Z.then(lt)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function wt(e,a,n,r,o,i,c,d=[-1]){const f=y;R(e);const u=e.$$={fragment:null,ctx:[],props:i,update:t,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(f?f.$$.context:[])),callbacks:s(),dirty:d,skip_bound:!1,root:a.target||f.$$.root};c&&c(u.root);let h=!1;if(u.ctx=n?n(e,a.props||{},((t,a,...s)=>{const l=s.length?s[0]:a;return u.ctx&&o(u.ctx[t],u.ctx[t]=l)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](l),h&&bt(e,t)),a})):[],u.update(),h=!0,l(u.before_update),u.fragment=!!r&&r(u.ctx),a.target){if(a.hydrate){$=!0;const t=A(a.target);u.fragment&&u.fragment.l(t),t.forEach(E)}else u.fragment&&u.fragment.c();a.intro&&dt(e.$$.fragment),yt(e,a.target,a.anchor,a.customElement),$=!1,lt()}R(f)}class xt{$destroy(){$t(this,1),this.$destroy=t}$on(e,a){if(!n(a))return t;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(a),()=>{const t=s.indexOf(a);-1!==t&&s.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Et={},Dt={},Vt={},kt=/^:(.+)/,It=t=>t.replace(/(^\/+|\/+$)/g,"").split("/"),_t=t=>t.replace(/(^\/+|\/+$)/g,""),Tt=(t,e)=>({route:t,score:t.default?0:It(t.path).reduce(((t,e)=>(t+=4,""===e?t+=1:kt.test(e)?t+=2:"*"===e[0]?t-=5:t+=3,t)),0),index:e}),Pt=(t,e)=>{let a,s;const[l]=e.split("?"),n=It(l),r=""===n[0],o=(t=>t.map(Tt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index)))(t);for(let t=0,l=o.length;t<l;t++){const l=o[t].route;let i=!1;if(l.default){s={route:l,params:{},uri:e};continue}const c=It(l.path),d={},f=Math.max(n.length,c.length);let u=0;for(;u<f;u++){const t=c[u],e=n[u];if(t&&"*"===t[0]){d["*"===t?"*":t.slice(1)]=n.slice(u).map(decodeURIComponent).join("/");break}if(void 0===e){i=!0;break}const a=kt.exec(t);if(a&&!r){const t=decodeURIComponent(e);d[a[1]]=t}else if(t!==e){i=!0;break}}if(!i){a={route:l,params:d,uri:"/"+n.slice(0,u).join("/")};break}}return a||s||null},Gt=(t,e)=>`${_t("/"===e?t:`${_t(t)}/${_t(e)}`)}/`,At=()=>"undefined"!=typeof window&&"document"in window&&"location"in window,Nt=t=>({params:4&t}),zt=t=>({params:t[2]});function St(t){let e,a,s,l;const n=[Ot,Mt],r=[];function o(t,e){return t[0]?0:1}return e=o(t),a=r[e]=n[e](t),{c(){a.c(),s=T()},l(t){a.l(t),s=T()},m(t,a){r[e].m(t,a),x(t,s,a),l=!0},p(t,l){let i=e;e=o(t),e===i?r[e].p(t,l):(it(),ft(r[i],1,1,(()=>{r[i]=null})),ct(),a=r[e],a?a.p(t,l):(a=r[e]=n[e](t),a.c()),dt(a,1),a.m(s.parentNode,s))},i(t){l||(dt(a),l=!0)},o(t){ft(a),l=!1},d(t){r[e].d(t),t&&E(s)}}}function Mt(t){let e;const a=t[8].default,s=f(a,t,t[7],zt);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,a){s&&s.m(t,a),e=!0},p(t,l){s&&s.p&&(!e||132&l)&&m(s,a,t,t[7],e?h(a,t[7],l,Nt):p(t[7]),zt)},i(t){e||(dt(s,t),e=!0)},o(t){ft(s,t),e=!1},d(t){s&&s.d(t)}}}function Ot(t){let e,a,s,l={ctx:t,current:null,token:null,hasCatch:!1,pending:Lt,then:Ct,catch:Bt,value:12,blocks:[,,,]};return ut(a=t[0],l),{c(){e=T(),l.block.c()},l(t){e=T(),l.block.l(t)},m(t,a){x(t,e,a),l.block.m(t,l.anchor=a),l.mount=()=>e.parentNode,l.anchor=e,s=!0},p(e,s){t=e,l.ctx=t,1&s&&a!==(a=t[0])&&ut(a,l)||function(t,e,a){const s=e.slice(),{resolved:l}=t;t.current===t.then&&(s[t.value]=l),t.current===t.catch&&(s[t.error]=l),t.block.p(s,a)}(l,t,s)},i(t){s||(dt(l.block),s=!0)},o(t){for(let t=0;t<3;t+=1){ft(l.blocks[t])}s=!1},d(t){t&&E(e),l.block.d(t),l.token=null,l=null}}}function Bt(e){return{c:t,l:t,m:t,p:t,i:t,o:t,d:t}}function Ct(t){let a,s,l;const n=[t[2],t[3]];var r=t[12]?.default||t[12];function o(t){let a={};for(let t=0;t<n.length;t+=1)a=e(a,n[t]);return{props:a}}return r&&(a=F(r,o())),{c(){a&&vt(a.$$.fragment),s=T()},l(t){a&&gt(a.$$.fragment,t),s=T()},m(t,e){a&&yt(a,t,e),x(t,s,e),l=!0},p(t,e){const l=12&e?function(t,e){const a={},s={},l={$$scope:1};let n=t.length;for(;n--;){const r=t[n],o=e[n];if(o){for(const t in r)t in o||(s[t]=1);for(const t in o)l[t]||(a[t]=o[t],l[t]=1);t[n]=o}else for(const t in r)l[t]=1}for(const t in s)t in a||(a[t]=void 0);return a}(n,[4&e&&pt(t[2]),8&e&&pt(t[3])]):{};if(1&e&&r!==(r=t[12]?.default||t[12])){if(a){it();const t=a;ft(t.$$.fragment,1,0,(()=>{$t(t,1)})),ct()}r?(a=F(r,o()),vt(a.$$.fragment),dt(a.$$.fragment,1),yt(a,s.parentNode,s)):a=null}else r&&a.$set(l)},i(t){l||(a&&dt(a.$$.fragment,t),l=!0)},o(t){a&&ft(a.$$.fragment,t),l=!1},d(t){t&&E(s),a&&$t(a,t)}}}function Lt(e){return{c:t,l:t,m:t,p:t,i:t,o:t,d:t}}function jt(t){let e,a,s=t[1]&&t[1].route===t[5]&&St(t);return{c(){s&&s.c(),e=T()},l(t){s&&s.l(t),e=T()},m(t,l){s&&s.m(t,l),x(t,e,l),a=!0},p(t,[a]){t[1]&&t[1].route===t[5]?s?(s.p(t,a),2&a&&dt(s,1)):(s=St(t),s.c(),dt(s,1),s.m(e.parentNode,e)):s&&(it(),ft(s,1,1,(()=>{s=null})),ct())},i(t){a||(dt(s),a=!0)},o(t){ft(s),a=!1},d(t){s&&s.d(t),t&&E(e)}}}function Ht(t,a,s){let l,{$$slots:n={},$$scope:r}=a,{path:o=""}=a,{component:i=null}=a,c={},f={};const{registerRoute:u,unregisterRoute:h,activeRoute:m}=W(Dt);d(t,m,(t=>s(1,l=t)));const p={path:o,default:""===o};var g;return u(p),g=()=>{h(p)},U().$$.on_destroy.push(g),t.$$set=t=>{s(11,a=e(e({},a),v(t))),"path"in t&&s(6,o=t.path),"component"in t&&s(0,i=t.component),"$$scope"in t&&s(7,r=t.$$scope)},t.$$.update=()=>{if(l&&l.route===p){s(2,c=l.params);const{component:t,path:e,...n}=a;s(3,f=n),t&&(t.toString().startsWith("class ")?s(0,i=t):s(0,i=t())),At()&&window?.scrollTo(0,0)}},a=v(a),[i,l,c,f,m,p,o,r,n]}class Ft extends xt{constructor(t){super(),wt(this,t,Ht,jt,r,{path:6,component:0})}}const Rt=[];function Ut(e,a=t){let s;const l=new Set;function n(t){if(r(e,t)&&(e=t,s)){const t=!Rt.length;for(const t of l)t[1](),Rt.push(t,e);if(t){for(let t=0;t<Rt.length;t+=2)Rt[t][0](Rt[t+1]);Rt.length=0}}}return{set:n,update:function(t){n(t(e))},subscribe:function(r,o=t){const i=[r,o];return l.add(i),1===l.size&&(s=a(n)||t),r(e),()=>{l.delete(i),0===l.size&&s&&(s(),s=null)}}}}function qt(e,a,s){const r=!Array.isArray(e),o=r?[e]:e,i=a.length<2;return d=e=>{let s=!1;const d=[];let f=0,u=t;const h=()=>{if(f)return;u();const s=a(r?d[0]:d,e);i?e(s):u=n(s)?s:t},m=o.map(((t,e)=>c(t,(t=>{d[e]=t,f&=~(1<<e),s&&h()}),(()=>{f|=1<<e}))));return s=!0,h(),function(){l(m),u(),s=!1}},{subscribe:Ut(s,d).subscribe};var d}const Yt=t=>({...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}),Wt=(t=>{const e=[];let a=Yt(t);return{get location(){return a},listen(s){e.push(s);const l=()=>{a=Yt(t),s({location:a,action:"POP"})};return t.addEventListener("popstate",l),()=>{t.removeEventListener("popstate",l);const a=e.indexOf(s);e.splice(a,1)}},navigate(s,{state:l,replace:n=!1}={}){l={...l,key:Date.now()+""};try{n?t.history.replaceState(l,"",s):t.history.pushState(l,"",s)}catch(e){t.location[n?"replace":"assign"](s)}a=Yt(t),e.forEach((t=>t({location:a,action:"PUSH"}))),document.activeElement.blur()}}})(At()?window:((t="/")=>{let e=0;const a=[{pathname:t,search:""}],s=[];return{get location(){return a[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return a},get index(){return e},get state(){return s[e]},pushState(t,l,n){const[r,o=""]=n.split("?");e++,a.push({pathname:r,search:o}),s.push(t)},replaceState(t,l,n){const[r,o=""]=n.split("?");a[e]={pathname:r,search:o},s[e]=t}}}})()),Xt=t=>({route:2&t,location:1&t}),Jt=t=>({route:t[1]&&t[1].uri,location:t[0]});function Kt(t){let e;const a=t[12].default,s=f(a,t,t[11],Jt);return{c(){s&&s.c()},l(t){s&&s.l(t)},m(t,a){s&&s.m(t,a),e=!0},p(t,[l]){s&&s.p&&(!e||2051&l)&&m(s,a,t,t[11],e?h(a,t[11],l,Xt):p(t[11]),Jt)},i(t){e||(dt(s,t),e=!0)},o(t){ft(s,t),e=!1},d(t){s&&s.d(t)}}}function Qt(t,e,a){let s,l,n,r,{$$slots:o={},$$scope:i}=e,{basepath:c="/"}=e,{url:f=null}=e,{history:u=Wt}=e;Y(Vt,u);const h=W(Et),m=W(Dt),p=Ut([]);d(t,p,(t=>a(9,l=t)));const v=Ut(null);d(t,v,(t=>a(1,r=t)));let g=!1;const y=h||Ut(f?{pathname:f}:u.location);d(t,y,(t=>a(0,s=t)));const $=m?m.routerBase:Ut({path:c,uri:c});d(t,$,(t=>a(10,n=t)));const b=qt([$,v],(([t,e])=>{if(!e)return t;const{path:a}=t,{route:s,uri:l}=e;return{path:s.default?a:s.path.replace(/\*.*$/,""),uri:l}}));return h||(q((()=>u.listen((t=>{y.set(t.location)})))),Y(Et,y)),Y(Dt,{activeRoute:v,base:$,routerBase:b,registerRoute:t=>{const{path:e}=n;let{path:a}=t;if(t._path=a,t.path=Gt(e,a),"undefined"==typeof window){if(g)return;const e=Pt([t],s.pathname);e&&(v.set(e),g=!0)}else p.update((e=>[...e,t]))},unregisterRoute:t=>{p.update((e=>e.filter((e=>e!==t))))}}),t.$$set=t=>{"basepath"in t&&a(6,c=t.basepath),"url"in t&&a(7,f=t.url),"history"in t&&a(8,u=t.history),"$$scope"in t&&a(11,i=t.$$scope)},t.$$.update=()=>{if(1024&t.$$.dirty){const{path:t}=n;p.update((e=>e.map((e=>Object.assign(e,{path:Gt(t,e._path)})))))}if(513&t.$$.dirty){const t=Pt(l,s.pathname);v.set(t)}},[s,r,p,v,y,$,c,f,u,l,n,i,o]}class Zt extends xt{constructor(t){super(),wt(this,t,Qt,Kt,r,{basepath:6,url:7,history:8})}}function te(e){let a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z=ae(e[0][0])+"",M=ae(e[0][1])+"",j=ae(e[0][2])+"",H=ae(e[0][3])+"",F=ae(e[0][4])+"";return{c(){a=V("div"),s=V("div"),l=V("div"),n=I(z),r=_(),o=V("div"),i=V("div"),c=V("div"),d=I(M),f=_(),u=V("div"),h=V("div"),m=V("div"),p=I(j),v=_(),g=V("div"),y=V("div"),$=V("div"),b=I(H),D=_(),k=V("div"),T=V("div"),P=V("div"),N=I(F),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{id:!0,style:!0,class:!0});var w=A(s);l=S(w,"DIV",{class:!0});var x=A(l);n=O(x,z),x.forEach(E),w.forEach(E),e.forEach(E),r=B(t),o=S(t,"DIV",{class:!0});var V=A(o);i=S(V,"DIV",{id:!0,style:!0,class:!0});var I=A(i);c=S(I,"DIV",{class:!0});var _=A(c);d=O(_,M),_.forEach(E),I.forEach(E),V.forEach(E),f=B(t),u=S(t,"DIV",{class:!0});var G=A(u);h=S(G,"DIV",{id:!0,style:!0,class:!0});var C=A(h);m=S(C,"DIV",{class:!0});var L=A(m);p=O(L,j),L.forEach(E),C.forEach(E),G.forEach(E),v=B(t),g=S(t,"DIV",{class:!0});var R=A(g);y=S(R,"DIV",{id:!0,style:!0,class:!0});var U=A(y);$=S(U,"DIV",{class:!0});var q=A($);b=O(q,H),q.forEach(E),U.forEach(E),R.forEach(E),D=B(t),k=S(t,"DIV",{class:!0});var Y=A(k);T=S(Y,"DIV",{id:!0,style:!0,class:!0});var W=A(T);P=S(W,"DIV",{class:!0});var X=A(P);N=O(X,F),X.forEach(E),W.forEach(E),Y.forEach(E),this.h()},h(){G(l,"class","result svelte-3zk90i"),G(s,"id","formTile"),L(s,"background",ee(e[0][0],e[1][0])),G(s,"class","svelte-3zk90i"),G(a,"class","icon pos-0 svelte-3zk90i"),G(c,"class","result svelte-3zk90i"),G(i,"id","formTile"),L(i,"background",ee(e[0][1],e[1][1])),G(i,"class","svelte-3zk90i"),G(o,"class","icon pos-1 svelte-3zk90i"),G(m,"class","result svelte-3zk90i"),G(h,"id","formTile"),L(h,"background",ee(e[0][2],e[1][2])),G(h,"class","svelte-3zk90i"),G(u,"class","icon pos-2 svelte-3zk90i"),G($,"class","result svelte-3zk90i"),G(y,"id","formTile"),L(y,"background",ee(e[0][3],e[1][3])),G(y,"class","svelte-3zk90i"),G(g,"class","icon pos-3 svelte-3zk90i"),G(P,"class","result svelte-3zk90i"),G(T,"id","formTile"),L(T,"background",ee(e[0][4],e[1][4])),G(T,"class","svelte-3zk90i"),G(k,"class","icon pos-4 svelte-3zk90i")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),x(t,r,e),x(t,o,e),w(o,i),w(i,c),w(c,d),x(t,f,e),x(t,u,e),w(u,h),w(h,m),w(m,p),x(t,v,e),x(t,g,e),w(g,y),w(y,$),w($,b),x(t,D,e),x(t,k,e),w(k,T),w(T,P),w(P,N)},p(t,[e]){1&e&&z!==(z=ae(t[0][0])+"")&&C(n,z),3&e&&L(s,"background",ee(t[0][0],t[1][0])),1&e&&M!==(M=ae(t[0][1])+"")&&C(d,M),3&e&&L(i,"background",ee(t[0][1],t[1][1])),1&e&&j!==(j=ae(t[0][2])+"")&&C(p,j),3&e&&L(h,"background",ee(t[0][2],t[1][2])),1&e&&H!==(H=ae(t[0][3])+"")&&C(b,H),3&e&&L(y,"background",ee(t[0][3],t[1][3])),1&e&&F!==(F=ae(t[0][4])+"")&&C(N,F),3&e&&L(T,"background",ee(t[0][4],t[1][4]))},i:t,o:t,d(t){t&&E(a),t&&E(r),t&&E(o),t&&E(f),t&&E(u),t&&E(v),t&&E(g),t&&E(D),t&&E(k)}}}function ee(t,e){switch(t){case"W":return e?"linear-gradient(30deg, var(--green), #2bd2ff, #fa8bff)":"#00fe87";case"D":return"#ffdd00";case"L":return"#f83027";default:return"#d6d6d6"}}function ae(t){switch(t){case"W":case"D":case"L":return t;default:return""}}function se(t,e,a){let{form:s,starTeams:l}=e;return t.$$set=t=>{"form"in t&&a(0,s=t.form),"starTeams"in t&&a(1,l=t.starTeams)},[s,l]}class le extends xt{constructor(t){super(),wt(this,t,se,te,r,{form:0,starTeams:1})}}function ne(t){switch(t){case"Brighton and Hove Albion":return"BHA";case"Manchester City":return"MCI";case"Manchester United":return"MUN";case"Aston Villa":return"AVL";case"Sheffield United":return"SHU";case"West Bromwich Albion":return"WBA";case"West Ham United":return"WHU"}return t.slice(0,3).toUpperCase()}let re={"Wolverhampton Wanderers":"Wolves","Tottenham Hotspur":"Spurs","Leeds United":"Leeds","West Ham United":"West Ham","Brighton and Hove Albion":"Brighton"};function oe(t){return t in re?re[t]:t}function ie(t){return t.toLowerCase().replace(/ /g,"-")}function ce(t,e,a){return e in t&&null!=t[e][a][1]}function de(t){let e=ie(t);return getComputedStyle(document.documentElement).getPropertyValue(`--${e}`)}function fe(t,e){let a=[];for(let s in t.form[e][t._id])null!=t.form[e][t._id][s].score&&a.push(s);return a}function ue(t,e){let a=Object.keys(t.form[e][t._id]);for(let s=a.length-1;s>=0;s--)if(null!=t.form[e][t._id][a[s]].score)return a[s];return"1"}function he(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b=t[5][0]+"",D=t[5][1]+"",k=t[5][2]+"",T=t[5][3]+"",P=t[5][4]+"";return a=new le({props:{form:t[3]+",",starTeams:t[4]}}),{c(){e=V("div"),vt(a.$$.fragment),s=_(),l=V("div"),n=V("div"),r=I(b),o=_(),i=V("div"),c=I(D),d=_(),f=V("div"),u=I(k),h=_(),m=V("div"),p=I(T),v=_(),g=V("div"),y=I(P),this.h()},l(t){e=S(t,"DIV",{class:!0});var $=A(e);gt(a.$$.fragment,$),$.forEach(E),s=B(t),l=S(t,"DIV",{class:!0});var w=A(l);n=S(w,"DIV",{class:!0});var x=A(n);r=O(x,b),x.forEach(E),o=B(w),i=S(w,"DIV",{class:!0});var V=A(i);c=O(V,D),V.forEach(E),d=B(w),f=S(w,"DIV",{class:!0});var I=A(f);u=O(I,k),I.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var _=A(m);p=O(_,T),_.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var G=A(g);y=O(G,P),G.forEach(E),w.forEach(E),this.h()},h(){G(e,"class","current-form-row icon-row svelte-1ljxuqy"),G(n,"class","icon-name pos-0 svelte-1ljxuqy"),G(i,"class","icon-name pos-1 svelte-1ljxuqy"),G(f,"class","icon-name pos-2 svelte-1ljxuqy"),G(m,"class","icon-name pos-3 svelte-1ljxuqy"),G(g,"class","icon-name pos-4 svelte-1ljxuqy"),G(l,"class","current-form-row name-row svelte-1ljxuqy")},m(t,b){x(t,e,b),yt(a,e,null),x(t,s,b),x(t,l,b),w(l,n),w(n,r),w(l,o),w(l,i),w(i,c),w(l,d),w(l,f),w(f,u),w(l,h),w(l,m),w(m,p),w(l,v),w(l,g),w(g,y),$=!0},p(t,e){const s={};8&e&&(s.form=t[3]+","),16&e&&(s.starTeams=t[4]),a.$set(s),(!$||32&e)&&b!==(b=t[5][0]+"")&&C(r,b),(!$||32&e)&&D!==(D=t[5][1]+"")&&C(c,D),(!$||32&e)&&k!==(k=t[5][2]+"")&&C(u,k),(!$||32&e)&&T!==(T=t[5][3]+"")&&C(p,T),(!$||32&e)&&P!==(P=t[5][4]+"")&&C(y,P)},i(t){$||(dt(a.$$.fragment,t),$=!0)},o(t){ft(a.$$.fragment,t),$=!1},d(t){t&&E(e),$t(a),t&&E(s),t&&E(l)}}}function me(e){let a;return{c(){a=I("None")},l(t){a=O(t,"None")},m(t,e){x(t,a,e)},p:t,d(t){t&&E(a)}}}function pe(t){let e,a,s,l=(100*t[0].form[t[2]][t[0]._id][t[1]].formRating5).toFixed(1)+"";return{c(){e=V("span"),a=I(l),s=I("%"),this.h()},l(t){e=S(t,"SPAN",{class:!0});var n=A(e);a=O(n,l),s=O(n,"%"),n.forEach(E),this.h()},h(){G(e,"class","current-form-value svelte-1ljxuqy")},m(t,l){x(t,e,l),w(e,a),w(e,s)},p(t,e){7&e&&l!==(l=(100*t[0].form[t[2]][t[0]._id][t[1]].formRating5).toFixed(1)+"")&&C(a,l)},d(t){t&&E(e)}}}function ve(t){let e,a,s,l,n=null!=t[5]&&he(t);function r(t,e){return null!=t[1]?pe:me}let o=r(t),i=o(t);return{c(){n&&n.c(),e=_(),a=V("div"),s=I("Current form:\r\n  "),i.c(),this.h()},l(t){n&&n.l(t),e=B(t),a=S(t,"DIV",{class:!0});var l=A(a);s=O(l,"Current form:\r\n  "),i.l(l),l.forEach(E),this.h()},h(){G(a,"class","current-form svelte-1ljxuqy")},m(t,r){n&&n.m(t,r),x(t,e,r),x(t,a,r),w(a,s),i.m(a,null),l=!0},p(t,[s]){null!=t[5]?n?(n.p(t,s),32&s&&dt(n,1)):(n=he(t),n.c(),dt(n,1),n.m(e.parentNode,e)):n&&(it(),ft(n,1,1,(()=>{n=null})),ct()),o===(o=r(t))&&i?i.p(t,s):(i.d(1),i=o(t),i&&(i.c(),i.m(a,null)))},i(t){l||(dt(n),l=!0)},o(t){ft(n),l=!1},d(t){n&&n.d(t),t&&E(e),t&&E(a),i.d()}}}function ge(t,e,a){function s(){let t=function(t,e){return Object.keys(t.form[e][t._id]).sort((function(a,s){return new Date(t.form[e][t._id][a].date)-new Date(t.form[e][t._id][s].date)}))}(o,c),e=function(t,e,a,s){let l=[];for(let n=a.length-1;n>=0&&(null!=t.form[e][t._id][a[n]].score&&l.push(a[n]),!(l.length>=s));n--);return l}(o,c,t,5);a(3,l=function(t,e){let a=[];Object.keys(t.form[e][t._id][i]).length>0&&null!=t.form[e][t._id][i].form5&&(a=t.form[e][t._id][i].form5.split(""));for(let t=a.length;t<5;t++)a.unshift("N");return a.join("")}(o,c)),a(4,n=function(t,e,a){let s=[];for(let l of a){let a=t.form[e][t._id][l].team;s.unshift(t.teamRatings[a].totalRating>.75)}for(let t=s.length;t<5;t++)s.unshift(!1);return s}(o,c,e)),a(5,r=function(t,e,a){let s=[];for(let l of a)s.unshift(ne(t.form[e][t._id][l].team));for(let t=s.length;t<5;t++)s.unshift("");return s}(o,c,e))}let l,n,r,{data:o,currentMatchday:i,team:c}=e;return t.$$set=t=>{"data"in t&&a(0,o=t.data),"currentMatchday"in t&&a(1,i=t.currentMatchday),"team"in t&&a(2,c=t.team)},t.$$.update=()=>{4&t.$$.dirty&&c&&s()},[o,i,c,l,n,r]}class ye extends xt{constructor(t){super(),wt(this,t,ge,ve,r,{data:0,currentMatchday:1,team:2})}}function $e(t,e,a){const s=t.slice();return s[7]=e[a],s[9]=a,s}function be(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g=t[2].rows,y=[];for(let e=0;e<g.length;e+=1)y[e]=ke($e(t,g,e));let $=6!=t[2].teamTableIdx&&Ie();return{c(){e=V("div"),a=_(),s=V("div"),l=V("div"),n=_(),r=V("div"),o=I("Team"),i=_(),c=V("div"),d=I("GD"),f=_(),u=V("div"),h=I("Points"),m=_();for(let t=0;t<y.length;t+=1)y[t].c();p=_(),$&&$.c(),v=T(),this.h()},l(t){e=S(t,"DIV",{class:!0}),A(e).forEach(E),a=B(t),s=S(t,"DIV",{class:!0});var g=A(s);l=S(g,"DIV",{class:!0}),A(l).forEach(E),n=B(g),r=S(g,"DIV",{class:!0});var b=A(r);o=O(b,"Team"),b.forEach(E),i=B(g),c=S(g,"DIV",{class:!0});var w=A(c);d=O(w,"GD"),w.forEach(E),f=B(g),u=S(g,"DIV",{class:!0});var x=A(u);h=O(x,"Points"),x.forEach(E),g.forEach(E),m=B(t);for(let e=0;e<y.length;e+=1)y[e].l(t);p=B(t),$&&$.l(t),v=T(),this.h()},h(){G(e,"class","divider"),G(l,"class","table-element table-position column-title svelte-1pwy3vt"),G(r,"class","table-element table-team-name column-title svelte-1pwy3vt"),G(c,"class","table-element table-gd column-title svelte-1pwy3vt"),G(u,"class","table-element table-points column-title svelte-1pwy3vt"),G(s,"class","table-row svelte-1pwy3vt")},m(t,g){x(t,e,g),x(t,a,g),x(t,s,g),w(s,l),w(s,n),w(s,r),w(r,o),w(s,i),w(s,c),w(c,d),w(s,f),w(s,u),w(u,h),x(t,m,g);for(let e=0;e<y.length;e+=1)y[e]&&y[e].m(t,g);x(t,p,g),$&&$.m(t,g),x(t,v,g)},p(t,e){if(7&e){let a;for(g=t[2].rows,a=0;a<g.length;a+=1){const s=$e(t,g,a);y[a]?y[a].p(s,e):(y[a]=ke(s),y[a].c(),y[a].m(p.parentNode,p))}for(;a<y.length;a+=1)y[a].d(1);y.length=g.length}6!=t[2].teamTableIdx?$||($=Ie(),$.c(),$.m(v.parentNode,v)):$&&($.d(1),$=null)},d(t){t&&E(e),t&&E(a),t&&E(s),t&&E(m),D(y,t),t&&E(p),$&&$.d(t),t&&E(v)}}}function we(e){let a;return{c(){a=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0,class:!0}),A(a).forEach(E),this.h()},h(){G(a,"id","divider"),G(a,"class","svelte-1pwy3vt")},m(t,e){x(t,a,e)},p:t,d(t){t&&E(a)}}}function xe(t){let e,a=t[9]!=t[2].teamTableIdx&&Ee();return{c(){a&&a.c(),e=T()},l(t){a&&a.l(t),e=T()},m(t,s){a&&a.m(t,s),x(t,e,s)},p(t,s){t[9]!=t[2].teamTableIdx?a||(a=Ee(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&E(e)}}}function Ee(t){let e;return{c(){e=V("div"),this.h()},l(t){e=S(t,"DIV",{id:!0,class:!0}),A(e).forEach(E),this.h()},h(){G(e,"id","divider"),G(e,"class","svelte-1pwy3vt")},m(t,a){x(t,e,a)},d(t){t&&E(e)}}}function De(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p=t[7].position+"",v=oe(t[7].name)+"",g=t[7].gd+"",y=t[7].points+"";function $(){return t[5](t[7])}return{c(){e=V("div"),a=V("div"),s=I(p),l=_(),n=V("button"),r=I(v),o=_(),i=V("div"),c=I(g),d=_(),f=V("div"),u=I(y),this.h()},l(t){e=S(t,"DIV",{class:!0});var h=A(e);a=S(h,"DIV",{class:!0});var m=A(a);s=O(m,p),m.forEach(E),l=B(h),n=S(h,"BUTTON",{class:!0});var $=A(n);r=O($,v),$.forEach(E),o=B(h),i=S(h,"DIV",{class:!0});var b=A(i);c=O(b,g),b.forEach(E),d=B(h),f=S(h,"DIV",{class:!0});var w=A(f);u=O(w,y),w.forEach(E),h.forEach(E),this.h()},h(){G(a,"class","table-element table-position svelte-1pwy3vt"),G(n,"class","table-element table-team-name svelte-1pwy3vt"),G(i,"class","table-element table-gd svelte-1pwy3vt"),G(f,"class","table-element table-points svelte-1pwy3vt"),G(e,"class","table-row svelte-1pwy3vt")},m(t,p){x(t,e,p),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(e,o),w(e,i),w(i,c),w(e,d),w(e,f),w(f,u),h||(m=P(n,"click",$),h=!0)},p(e,a){t=e,4&a&&p!==(p=t[7].position+"")&&C(s,p),4&a&&v!==(v=oe(t[7].name)+"")&&C(r,v),4&a&&g!==(g=t[7].gd+"")&&C(c,g),4&a&&y!==(y=t[7].points+"")&&C(u,y)},d(t){t&&E(e),h=!1,m()}}}function Ve(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m=t[7].position+"",p=oe(t[7].name)+"",v=t[7].gd+"",g=t[7].points+"";return{c(){e=V("div"),a=V("div"),s=I(m),l=_(),n=V("a"),r=I(p),i=_(),c=V("div"),d=I(v),f=_(),u=V("div"),h=I(g),this.h()},l(t){e=S(t,"DIV",{class:!0,style:!0});var o=A(e);a=S(o,"DIV",{class:!0,style:!0});var y=A(a);s=O(y,m),y.forEach(E),l=B(o),n=S(o,"A",{href:!0,class:!0,style:!0});var $=A(n);r=O($,p),$.forEach(E),i=B(o),c=S(o,"DIV",{class:!0,style:!0});var b=A(c);d=O(b,v),b.forEach(E),f=B(o),u=S(o,"DIV",{class:!0,style:!0});var w=A(u);h=O(w,g),w.forEach(E),o.forEach(E),this.h()},h(){G(a,"class","table-element table-position this-team svelte-1pwy3vt"),L(a,"color","var(--"+t[0]+"-secondary)"),G(n,"href",o="/"+t[0]),G(n,"class","table-element table-team-name this-team svelte-1pwy3vt"),L(n,"color","var(--"+t[0]+"-secondary)"),G(c,"class","table-element table-gd this-team svelte-1pwy3vt"),L(c,"color","var(--"+t[0]+"-secondary)"),G(u,"class","table-element table-points this-team svelte-1pwy3vt"),L(u,"color","var(--"+t[0]+"-secondary)"),G(e,"class","table-row this-team svelte-1pwy3vt"),L(e,"background-color","var(--"+t[0]+")")},m(t,o){x(t,e,o),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(e,i),w(e,c),w(c,d),w(e,f),w(e,u),w(u,h)},p(t,l){4&l&&m!==(m=t[7].position+"")&&C(s,m),1&l&&L(a,"color","var(--"+t[0]+"-secondary)"),4&l&&p!==(p=oe(t[7].name)+"")&&C(r,p),1&l&&o!==(o="/"+t[0])&&G(n,"href",o),1&l&&L(n,"color","var(--"+t[0]+"-secondary)"),4&l&&v!==(v=t[7].gd+"")&&C(d,v),1&l&&L(c,"color","var(--"+t[0]+"-secondary)"),4&l&&g!==(g=t[7].points+"")&&C(h,g),1&l&&L(u,"color","var(--"+t[0]+"-secondary)"),1&l&&L(e,"background-color","var(--"+t[0]+")")},d(t){t&&E(e)}}}function ke(t){let e,a;function s(t,e){return 0===t[9]?xe:t[9]-1!=t[2].teamTableIdx&&t[9]!=t[2].teamTableIdx?we:void 0}let l=s(t),n=l&&l(t);function r(t,e){return t[9]===t[2].teamTableIdx?Ve:De}let o=r(t),i=o(t);return{c(){n&&n.c(),e=_(),i.c(),a=T()},l(t){n&&n.l(t),e=B(t),i.l(t),a=T()},m(t,s){n&&n.m(t,s),x(t,e,s),i.m(t,s),x(t,a,s)},p(t,c){l===(l=s(t))&&n?n.p(t,c):(n&&n.d(1),n=l&&l(t),n&&(n.c(),n.m(e.parentNode,e))),o===(o=r(t))&&i?i.p(t,c):(i.d(1),i=o(t),i&&(i.c(),i.m(a.parentNode,a)))},d(t){n&&n.d(t),t&&E(e),i.d(t),t&&E(a)}}}function Ie(t){let e;return{c(){e=V("div"),this.h()},l(t){e=S(t,"DIV",{id:!0,class:!0}),A(e).forEach(E),this.h()},h(){G(e,"id","divider"),G(e,"class","svelte-1pwy3vt")},m(t,a){x(t,e,a)},d(t){t&&E(e)}}}function _e(e){let a,s=null!=e[2]&&be(e);return{c(){a=V("div"),s&&s.c(),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s&&s.l(e),e.forEach(E),this.h()},h(){G(a,"class","table-snippet svelte-1pwy3vt")},m(t,e){x(t,a,e),s&&s.m(a,null)},p(t,[e]){null!=t[2]?s?s.p(t,e):(s=be(t),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&E(a),s&&s.d()}}}function Te(t,e,a){let s,{data:l,hyphenatedTeam:n,team:r,switchTeam:o}=e;return t.$$set=t=>{"data"in t&&a(3,l=t.data),"hyphenatedTeam"in t&&a(0,n=t.hyphenatedTeam),"team"in t&&a(4,r=t.team),"switchTeam"in t&&a(1,o=t.switchTeam)},t.$$.update=()=>{16&t.$$.dirty&&r&&function(){let t,e=Object.keys(l.standings).sort((function(t,e){return l.standings[t][l._id].position-l.standings[e][l._id].position})),[n,o]=function(t,e){let a=t.indexOf(e),s=a-3,l=a+4;return s<0&&(l-=s,s=0),l>t.length-1&&(s-=l-t.length,l=t.length),[s,l]}(e,r),i=[];for(let a=n;a<o;a++)e[a]===r&&(t=a-n),i.push({name:e[a],position:l.standings[e[a]][l._id].position,points:l.standings[e[a]][l._id].points,gd:l.standings[e[a]][l._id].gD});a(2,s={teamTableIdx:t,rows:i})}()},[n,o,s,l,r,t=>{o(ie(t.name))}]}class Pe extends xt{constructor(t){super(),wt(this,t,Te,_e,r,{data:3,hyphenatedTeam:0,team:4,switchTeam:1})}}function Ge(t){let e=t%100;return[,"st","nd","rd"][e>20?e%10:e]||"th"}function Ae(t){let e=ie(t);return`background: var(--${e}); color: var(--${e}-secondary);`}function Ne(t){return t.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ").replace("And","and")}function ze(t,e,a){const s=t.slice();return s[4]=e[a],s}function Se(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,T,N,z,M,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,tt,et,at,st=oe(t[0].upcoming[t[1]].nextTeam)+"",lt=t[0].upcoming[t[1]].atHome?"Home":"Away",nt=t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position+"",rt=Ge(t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position)+"",ot=(100*t[0].form[t[0].upcoming[t[1]].nextTeam][t[0]._id][ue(t[0],t[0].upcoming[t[1]].nextTeam)].formRating5).toFixed(1)+"",it=t[0].upcoming[t[1]].prediction+"";function ct(t,e){return 0===t[0].upcoming[t[1]].prevMatches.length?Be:Oe}let dt=ct(t),ft=dt(t),ut=t[0].upcoming[t[1]].prevMatches,ht=[];for(let e=0;e<ut.length;e+=1)ht[e]=Ce(ze(t,ut,e));return{c(){e=V("div"),a=V("div"),s=V("h1"),l=I("Next Game: \r\n        "),n=V("button"),r=I(st),o=I(" "),i=I("\r\n        ("),c=I(lt),d=I(")"),f=_(),u=V("div"),h=V("div"),m=V("div"),p=_(),v=V("div"),g=V("div"),y=V("div"),$=I(nt),b=V("span"),k=I(rt),T=_(),N=V("div"),z=I("Current form:\r\n            "),M=V("span"),L=I(ot),j=I("%"),H=_(),F=V("div"),R=I("Score prediction\r\n            "),U=V("br"),q=_(),Y=V("a"),W=V("b"),X=I(it),J=_(),K=V("br"),Q=_(),Z=V("div"),ft.c(),tt=_();for(let t=0;t<ht.length;t+=1)ht[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var w=A(e);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"H1",{class:!0});var D=A(s);l=O(D,"Next Game: \r\n        "),n=S(D,"BUTTON",{class:!0});var V=A(n);r=O(V,st),o=O(V," "),V.forEach(E),i=O(D,"\r\n        ("),c=O(D,lt),d=O(D,")"),D.forEach(E),x.forEach(E),f=B(w),u=S(w,"DIV",{class:!0});var I=A(u);h=S(I,"DIV",{class:!0});var _=A(h);m=S(_,"DIV",{class:!0}),A(m).forEach(E),p=B(_),v=S(_,"DIV",{class:!0});var P=A(v);g=S(P,"DIV",{class:!0});var G=A(g);y=S(G,"DIV",{class:!0});var C=A(y);$=O(C,nt),b=S(C,"SPAN",{class:!0});var et=A(b);k=O(et,rt),et.forEach(E),C.forEach(E),G.forEach(E),T=B(P),N=S(P,"DIV",{class:!0});var at=A(N);z=O(at,"Current form:\r\n            "),M=S(at,"SPAN",{class:!0});var ct=A(M);L=O(ct,ot),j=O(ct,"%"),ct.forEach(E),at.forEach(E),H=B(P),F=S(P,"DIV",{class:!0});var dt=A(F);R=O(dt,"Score prediction\r\n            "),U=S(dt,"BR",{}),q=B(dt),Y=S(dt,"A",{class:!0,href:!0});var ut=A(Y);W=S(ut,"B",{});var mt=A(W);X=O(mt,it),mt.forEach(E),ut.forEach(E),J=B(dt),K=S(dt,"BR",{}),dt.forEach(E),P.forEach(E),_.forEach(E),Q=B(I),Z=S(I,"DIV",{class:!0});var pt=A(Z);ft.l(pt),tt=B(pt);for(let t=0;t<ht.length;t+=1)ht[t].l(pt);pt.forEach(E),I.forEach(E),w.forEach(E),this.h()},h(){G(n,"class","next-game-team-btn svelte-1s9shv6"),G(s,"class","next-game-title-text svelte-1s9shv6"),G(a,"class","next-game-title svelte-1s9shv6"),G(m,"class","next-game-position svelte-1s9shv6"),G(b,"class","ordinal-position svelte-1s9shv6"),G(y,"class","next-game-position svelte-1s9shv6"),G(g,"class","next-game-item svelte-1s9shv6"),G(M,"class","current-form-value svelte-1s9shv6"),G(N,"class","next-game-item current-form svelte-1s9shv6"),G(Y,"class","predictions-link svelte-1s9shv6"),G(Y,"href","/predictions"),G(F,"class","next-game-item svelte-1s9shv6"),G(v,"class","predictions"),G(h,"class","predictions-and-logo svelte-1s9shv6"),G(Z,"class","past-results svelte-1s9shv6"),G(u,"class","next-game-values svelte-1s9shv6"),G(e,"class","next-game-prediction svelte-1s9shv6")},m(E,D){x(E,e,D),w(e,a),w(a,s),w(s,l),w(s,n),w(n,r),w(n,o),w(s,i),w(s,c),w(s,d),w(e,f),w(e,u),w(u,h),w(h,m),w(h,p),w(h,v),w(v,g),w(g,y),w(y,$),w(y,b),w(b,k),w(v,T),w(v,N),w(N,z),w(N,M),w(M,L),w(M,j),w(v,H),w(v,F),w(F,R),w(F,U),w(F,q),w(F,Y),w(Y,W),w(W,X),w(F,J),w(F,K),w(u,Q),w(u,Z),ft.m(Z,null),w(Z,tt);for(let t=0;t<ht.length;t+=1)ht[t]&&ht[t].m(Z,null);et||(at=P(n,"click",t[3]),et=!0)},p(t,e){if(3&e&&st!==(st=oe(t[0].upcoming[t[1]].nextTeam)+"")&&C(r,st),3&e&&lt!==(lt=t[0].upcoming[t[1]].atHome?"Home":"Away")&&C(c,lt),3&e&&nt!==(nt=t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position+"")&&C($,nt),3&e&&rt!==(rt=Ge(t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position)+"")&&C(k,rt),3&e&&ot!==(ot=(100*t[0].form[t[0].upcoming[t[1]].nextTeam][t[0]._id][ue(t[0],t[0].upcoming[t[1]].nextTeam)].formRating5).toFixed(1)+"")&&C(L,ot),3&e&&it!==(it=t[0].upcoming[t[1]].prediction+"")&&C(X,it),dt!==(dt=ct(t))&&(ft.d(1),ft=dt(t),ft&&(ft.c(),ft.m(Z,tt))),3&e){let a;for(ut=t[0].upcoming[t[1]].prevMatches,a=0;a<ut.length;a+=1){const s=ze(t,ut,a);ht[a]?ht[a].p(s,e):(ht[a]=Ce(s),ht[a].c(),ht[a].m(Z,null))}for(;a<ht.length;a+=1)ht[a].d(1);ht.length=ut.length}},d(t){t&&E(e),ft.d(),D(ht,t),et=!1,at()}}}function Me(t){let e,a,s,l,n,r,o,i=t[0]._id+"",c=t[0]._id+1+"";return{c(){e=V("div"),a=V("div"),s=V("h1"),l=I(i),n=I("/"),r=I(c),o=I(" SEASON COMPLETE"),this.h()},l(t){e=S(t,"DIV",{class:!0});var d=A(e);a=S(d,"DIV",{class:!0});var f=A(a);s=S(f,"H1",{class:!0});var u=A(s);l=O(u,i),n=O(u,"/"),r=O(u,c),o=O(u," SEASON COMPLETE"),u.forEach(E),f.forEach(E),d.forEach(E),this.h()},h(){G(s,"class","next-game-title-text svelte-1s9shv6"),G(a,"class","next-game-season-complete svelte-1s9shv6"),G(e,"class","next-game-prediction-complete svelte-1s9shv6")},m(t,i){x(t,e,i),w(e,a),w(a,s),w(s,l),w(s,n),w(s,r),w(s,o)},p(t,e){1&e&&i!==(i=t[0]._id+"")&&C(l,i),1&e&&c!==(c=t[0]._id+1+"")&&C(r,c)},d(t){t&&E(e)}}}function Oe(t){let e,a;return{c(){e=V("div"),a=I("Previous results"),this.h()},l(t){e=S(t,"DIV",{class:!0});var s=A(e);a=O(s,"Previous results"),s.forEach(E),this.h()},h(){G(e,"class","next-game-item prev-results-title svelte-1s9shv6")},m(t,s){x(t,e,s),w(e,a)},d(t){t&&E(e)}}}function Be(t){let e,a;return{c(){e=V("div"),a=I("No previous results"),this.h()},l(t){e=S(t,"DIV",{class:!0});var s=A(e);a=O(s,"No previous results"),s.forEach(E),this.h()},h(){G(e,"class","next-game-item prev-results-title no-prev-results svelte-1s9shv6")},m(t,s){x(t,e,s),w(e,a)},d(t){t&&E(e)}}}function Ce(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z,M,j,H=new Date(t[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"",F=ne(t[4].homeTeam)+"",R=t[4].homeGoals+"",U=t[4].awayGoals+"",q=ne(t[4].awayTeam)+"";return{c(){e=V("div"),a=V("div"),s=I(H),l=_(),n=V("div"),r=V("div"),o=V("div"),i=V("div"),c=I(F),f=_(),u=V("div"),h=V("div"),m=I(R),v=_(),g=V("div"),y=V("div"),$=V("div"),b=I(U),k=_(),T=V("div"),P=I(q),z=_(),M=V("div"),j=_(),this.h()},l(t){e=S(t,"DIV",{class:!0});var d=A(e);a=S(d,"DIV",{class:!0});var p=A(a);s=O(p,H),p.forEach(E),l=B(d),n=S(d,"DIV",{class:!0});var w=A(n);r=S(w,"DIV",{class:!0});var x=A(r);o=S(x,"DIV",{class:!0});var D=A(o);i=S(D,"DIV",{class:!0,style:!0});var V=A(i);c=O(V,F),V.forEach(E),f=B(D),u=S(D,"DIV",{class:!0,style:!0});var I=A(u);h=S(I,"DIV",{class:!0});var _=A(h);m=O(_,R),_.forEach(E),I.forEach(E),D.forEach(E),v=B(x),g=S(x,"DIV",{class:!0});var G=A(g);y=S(G,"DIV",{class:!0,style:!0});var N=A(y);$=S(N,"DIV",{class:!0});var C=A($);b=O(C,U),C.forEach(E),N.forEach(E),k=B(G),T=S(G,"DIV",{class:!0,style:!0});var L=A(T);P=O(L,q),L.forEach(E),G.forEach(E),x.forEach(E),z=B(w),M=S(w,"DIV",{style:!0}),A(M).forEach(E),w.forEach(E),j=B(d),d.forEach(E),this.h()},h(){G(a,"class","past-result-date result-details svelte-1s9shv6"),G(i,"class","home-team svelte-1s9shv6"),G(i,"style",d=Ae(t[4].homeTeam)),G(h,"class","home-goals svelte-1s9shv6"),G(u,"class","goals-container svelte-1s9shv6"),G(u,"style",p=Ae(je(t[4],!0))),G(o,"class","left-side svelte-1s9shv6"),G($,"class","away-goals svelte-1s9shv6"),G(y,"class","goals-container svelte-1s9shv6"),G(y,"style",D=Ae(je(t[4],!1))),G(T,"class","away-team svelte-1s9shv6"),G(T,"style",N=Ae(t[4].awayTeam)),G(g,"class","right-side svelte-1s9shv6"),G(r,"class","past-result svelte-1s9shv6"),L(M,"clear","both"),G(n,"class","next-game-item result-details svelte-1s9shv6"),G(e,"class","next-game-item-container")},m(t,d){x(t,e,d),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(r,o),w(o,i),w(i,c),w(o,f),w(o,u),w(u,h),w(h,m),w(r,v),w(r,g),w(g,y),w(y,$),w($,b),w(g,k),w(g,T),w(T,P),w(n,z),w(n,M),w(e,j)},p(t,e){3&e&&H!==(H=new Date(t[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"")&&C(s,H),3&e&&F!==(F=ne(t[4].homeTeam)+"")&&C(c,F),3&e&&d!==(d=Ae(t[4].homeTeam))&&G(i,"style",d),3&e&&R!==(R=t[4].homeGoals+"")&&C(m,R),3&e&&p!==(p=Ae(je(t[4],!0)))&&G(u,"style",p),3&e&&U!==(U=t[4].awayGoals+"")&&C(b,U),3&e&&D!==(D=Ae(je(t[4],!1)))&&G(y,"style",D),3&e&&q!==(q=ne(t[4].awayTeam)+"")&&C(P,q),3&e&&N!==(N=Ae(t[4].awayTeam))&&G(T,"style",N)},d(t){t&&E(e)}}}function Le(e){let a;function s(t,e){return null===t[0].upcoming[t[1]].nextTeam?Me:Se}let l=s(e),n=l(e);return{c(){n.c(),a=T()},l(t){n.l(t),a=T()},m(t,e){n.m(t,e),x(t,a,e)},p(t,[e]){l===(l=s(t))&&n?n.p(t,e):(n.d(1),n=l(t),n&&(n.c(),n.m(a.parentNode,a)))},i:t,o:t,d(t){n.d(t),t&&E(a)}}}function je(t,e){return e?t.homeGoals<t.awayGoals?t.awayTeam:t.homeTeam:t.homeGoals>t.awayGoals?t.homeTeam:t.awayTeam}function He(t,e,a){let{data:s,team:l,switchTeam:n}=e;return t.$$set=t=>{"data"in t&&a(0,s=t.data),"team"in t&&a(1,l=t.team),"switchTeam"in t&&a(2,n=t.switchTeam)},[s,l,n,()=>{n(ie(s.upcoming[l].nextTeam))}]}class Fe extends xt{constructor(t){super(),wt(this,t,He,Le,r,{data:0,team:1,switchTeam:2})}}function Re(t,e){return Math.round(t.homeGoals)===e.homeGoals&&Math.round(t.awayGoals)===e.awayGoals}function Ue(t,e){return Math.round(t.homeGoals)>Math.round(t.awayGoals)&&Math.round(e.homeGoals)>Math.round(e.awayGoals)||Math.round(t.homeGoals)===Math.round(t.awayGoals)&&Math.round(e.homeGoals)===Math.round(e.awayGoals)||Math.round(t.homeGoals)<Math.round(t.awayGoals)&&Math.round(e.homeGoals)<Math.round(e.awayGoals)}function qe(t,e,a){return 0===e&&a||0===t&&!a}function Ye(t,e,a){return a?t:e}function We(t,e,a){return a?e:t}function Xe(t,e,a){return 0===t&&a||0===e&&!a}function Je(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z,M,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,tt,et,at,st,lt=t[2].xG+"",nt=t[1][t[0]].xG.toFixed(2)+"",rt=t[2].xG+"",ot=t[2].xC+"",it=t[1][t[0]].xC.toFixed(2)+"",ct=t[2].xC+"",dt=t[2].cleanSheetRatio+"",ft=t[1][t[0]].cleanSheetRatio.toFixed(2)+"",ut=t[2].cleanSheetRatio+"";return{c(){e=V("div"),a=V("div"),s=V("div"),l=V("div"),n=I(lt),r=_(),o=V("div"),i=I(nt),c=_(),d=V("div"),f=I(rt),h=_(),m=V("div"),p=I("goals per game"),v=_(),g=V("div"),y=V("div"),$=V("div"),b=I(ot),D=_(),k=V("div"),T=I(it),P=_(),N=V("div"),z=I(ct),L=_(),j=V("div"),H=I("conceded per game"),F=_(),R=V("div"),U=V("div"),q=V("div"),Y=I(dt),W=_(),X=V("div"),J=I(ft),K=_(),Q=V("div"),Z=I(ut),et=_(),at=V("div"),st=I("clean sheets"),this.h()},l(t){e=S(t,"DIV",{class:!0});var u=A(e);a=S(u,"DIV",{class:!0});var w=A(a);s=S(w,"DIV",{class:!0});var x=A(s);l=S(x,"DIV",{class:!0});var V=A(l);n=O(V,lt),V.forEach(E),r=B(x),o=S(x,"DIV",{class:!0});var I=A(o);i=O(I,nt),I.forEach(E),c=B(x),d=S(x,"DIV",{class:!0});var _=A(d);f=O(_,rt),_.forEach(E),x.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var G=A(m);p=O(G,"goals per game"),G.forEach(E),w.forEach(E),v=B(u),g=S(u,"DIV",{class:!0});var M=A(g);y=S(M,"DIV",{class:!0});var C=A(y);$=S(C,"DIV",{class:!0});var tt=A($);b=O(tt,ot),tt.forEach(E),D=B(C),k=S(C,"DIV",{class:!0});var ht=A(k);T=O(ht,it),ht.forEach(E),P=B(C),N=S(C,"DIV",{class:!0});var mt=A(N);z=O(mt,ct),mt.forEach(E),C.forEach(E),L=B(M),j=S(M,"DIV",{class:!0});var pt=A(j);H=O(pt,"conceded per game"),pt.forEach(E),M.forEach(E),F=B(u),R=S(u,"DIV",{class:!0});var vt=A(R);U=S(vt,"DIV",{class:!0});var gt=A(U);q=S(gt,"DIV",{class:!0});var yt=A(q);Y=O(yt,dt),yt.forEach(E),W=B(gt),X=S(gt,"DIV",{class:!0});var $t=A(X);J=O($t,ft),$t.forEach(E),K=B(gt),Q=S(gt,"DIV",{class:!0});var bt=A(Q);Z=O(bt,ut),bt.forEach(E),gt.forEach(E),et=B(vt),at=S(vt,"DIV",{class:!0});var wt=A(at);st=O(wt,"clean sheets"),wt.forEach(E),vt.forEach(E),u.forEach(E),this.h()},h(){G(l,"class","season-stat-position hidden svelte-hgcuuq"),G(o,"class","season-stat-number"),G(d,"class",u="season-stat-position ssp-"+t[2].xG+" svelte-hgcuuq"),G(s,"class","season-stat-value svelte-hgcuuq"),G(m,"class","season-stat-text svelte-hgcuuq"),G(a,"class","season-stat goals-per-game svelte-hgcuuq"),G($,"class","season-stat-position hidden svelte-hgcuuq"),G(k,"class","season-stat-number"),G(N,"class",M="season-stat-position ssp-"+t[2].xC+" svelte-hgcuuq"),G(y,"class","season-stat-value svelte-hgcuuq"),G(j,"class","season-stat-text svelte-hgcuuq"),G(g,"class","season-stat conceded-per-game svelte-hgcuuq"),G(q,"class","season-stat-position hidden svelte-hgcuuq"),G(X,"class","season-stat-number"),G(Q,"class",tt="season-stat-position ssp-"+t[2].cleanSheetRatio+" svelte-hgcuuq"),G(U,"class","season-stat-value svelte-hgcuuq"),G(at,"class","season-stat-text svelte-hgcuuq"),G(R,"class","season-stat clean-sheet-ratio svelte-hgcuuq"),G(e,"class","season-stats svelte-hgcuuq")},m(t,u){x(t,e,u),w(e,a),w(a,s),w(s,l),w(l,n),w(s,r),w(s,o),w(o,i),w(s,c),w(s,d),w(d,f),w(a,h),w(a,m),w(m,p),w(e,v),w(e,g),w(g,y),w(y,$),w($,b),w(y,D),w(y,k),w(k,T),w(y,P),w(y,N),w(N,z),w(g,L),w(g,j),w(j,H),w(e,F),w(e,R),w(R,U),w(U,q),w(q,Y),w(U,W),w(U,X),w(X,J),w(U,K),w(U,Q),w(Q,Z),w(R,et),w(R,at),w(at,st)},p(t,e){4&e&&lt!==(lt=t[2].xG+"")&&C(n,lt),3&e&&nt!==(nt=t[1][t[0]].xG.toFixed(2)+"")&&C(i,nt),4&e&&rt!==(rt=t[2].xG+"")&&C(f,rt),4&e&&u!==(u="season-stat-position ssp-"+t[2].xG+" svelte-hgcuuq")&&G(d,"class",u),4&e&&ot!==(ot=t[2].xC+"")&&C(b,ot),3&e&&it!==(it=t[1][t[0]].xC.toFixed(2)+"")&&C(T,it),4&e&&ct!==(ct=t[2].xC+"")&&C(z,ct),4&e&&M!==(M="season-stat-position ssp-"+t[2].xC+" svelte-hgcuuq")&&G(N,"class",M),4&e&&dt!==(dt=t[2].cleanSheetRatio+"")&&C(Y,dt),3&e&&ft!==(ft=t[1][t[0]].cleanSheetRatio.toFixed(2)+"")&&C(J,ft),4&e&&ut!==(ut=t[2].cleanSheetRatio+"")&&C(Z,ut),4&e&&tt!==(tt="season-stat-position ssp-"+t[2].cleanSheetRatio+" svelte-hgcuuq")&&G(Q,"class",tt)},d(t){t&&E(e)}}}function Ke(e){let a,s=null!=e[1]&&Je(e);return{c(){s&&s.c(),a=T()},l(t){s&&s.l(t),a=T()},m(t,e){s&&s.m(t,e),x(t,a,e)},p(t,[e]){null!=t[1]?s?s.p(t,e):(s=Je(t),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i:t,o:t,d(t){s&&s.d(t),t&&E(a)}}}function Qe(t,e,a,s){let l=Object.keys(t).sort((function(a,s){return t[s][e]-t[a][e]})).indexOf(a)+1;return s&&(l=21-l),l}function Ze(t,e,a){function s(t,e){a(2,r=function(t,e){let a=Qe(t,"xG",e,!1),s=Qe(t,"xC",e,!0),l=Qe(t,"cleanSheetRatio",e,!1);return{xG:`${a}${Ge(a)}`,xC:`${s}${Ge(s)}`,cleanSheetRatio:`${l}${Ge(l)}`}}(t,e))}function l(t,e,a,s){if(a in t.form)for(let l of Object.keys(t.form[a][s])){let n=t.form[a][s][l].score;if(null!=n){let r=t.form[a][s][l].atHome;qe(n.homeGoals,n.awayGoals,r)&&(e[a].cleanSheetRatio+=1),Xe(n.homeGoals,n.awayGoals,r)&&(e[a].noGoalRatio+=1),e[a].xG+=Ye(n.homeGoals,n.awayGoals,r),e[a].xC+=We(n.homeGoals,n.awayGoals,r),e[a].played+=1}}}let n,r={xG:"",xC:"",cleanSheetRatio:""},o=!1;q((()=>{a(1,n=function(t){let e={};for(let a of Object.keys(t.standings))e[a]={cleanSheetRatio:0,noGoalRatio:0,xC:0,xG:0,played:0},l(t,e,a,t._id),l(t,e,a,t._id-1),e[a].played>0&&(e[a].xG/=e[a].played,e[a].xC/=e[a].played,e[a].cleanSheetRatio/=e[a].played,e[a].noGoalRatio/=e[a].played);return e}(i)),s(n,c),o=!0}));let{data:i,team:c}=e;return t.$$set=t=>{"data"in t&&a(3,i=t.data),"team"in t&&a(0,c=t.team)},t.$$.update=()=>{1&t.$$.dirty&&c&&o&&s(n,c)},[c,n,r,i]}class ta extends xt{constructor(t){super(),wt(this,t,Ze,Ke,r,{data:3,team:0})}}function ea(t){let e,a,s,l,n=new Date(t[0]).toLocaleString()+"";return{c(){e=V("div"),a=I("Last updated: "),s=I(n),l=I(" UTC"),this.h()},l(t){e=S(t,"DIV",{class:!0});var r=A(e);a=O(r,"Last updated: "),s=O(r,n),l=O(r," UTC"),r.forEach(E),this.h()},h(){G(e,"class","last-updated no-select svelte-1rovgg1")},m(t,n){x(t,e,n),w(e,a),w(e,s),w(e,l)},p(t,e){1&e&&n!==(n=new Date(t[0]).toLocaleString()+"")&&C(s,n)},d(t){t&&E(e)}}}function aa(e){let a,s,l,n,r,o,c,d,f,u,h,m=null!=e[0]&&ea(e);return{c(){a=V("div"),s=V("div"),l=V("a"),n=V("img"),o=_(),m&&m.c(),c=_(),d=V("a"),f=V("span"),u=I("pl"),h=I("dashboard"),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var r=A(s);l=S(r,"A",{href:!0,target:!0,class:!0});var i=A(l);n=S(i,"IMG",{src:!0,alt:!0,class:!0}),i.forEach(E),o=B(r),m&&m.l(r),c=B(r),d=S(r,"A",{href:!0,class:!0});var p=A(d);f=S(p,"SPAN",{class:!0});var v=A(f);u=O(v,"pl"),v.forEach(E),h=O(p,"dashboard"),p.forEach(E),r.forEach(E),e.forEach(E),this.h()},h(){i(n.src,r="/img/github.png")||G(n,"src","/img/github.png"),G(n,"alt","GitHub"),G(n,"class","github-img svelte-1rovgg1"),G(l,"href","https://github.com/tom-draper/pldashboard"),G(l,"target","_blank"),G(l,"class","github svelte-1rovgg1"),G(f,"class","pl svelte-1rovgg1"),G(d,"href","https://pldashboard.com/home"),G(d,"class","version no-select svelte-1rovgg1"),G(s,"class","teams-footer-bottom svelte-1rovgg1"),G(a,"class","teams-footer footer-text-colour svelte-1rovgg1")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),w(s,o),m&&m.m(s,null),w(s,c),w(s,d),w(d,f),w(f,u),w(d,h)},p(t,[e]){null!=t[0]?m?m.p(t,e):(m=ea(t),m.c(),m.m(s,c)):m&&(m.d(1),m=null)},i:t,o:t,d(t){t&&E(a),m&&m.d()}}}function sa(t,e,a){let{lastUpdated:s}=e;return t.$$set=t=>{"lastUpdated"in t&&a(0,s=t.lastUpdated)},[s]}class la extends xt{constructor(t){super(),wt(this,t,sa,aa,r,{lastUpdated:0})}}function na(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function ra(t,e){let a=Array.from(Array(11),((t,e)=>10*e)),[s,l]=function(t){let e=new Date(t[0]);e.setDate(e.getDate()-7);let a=new Date(t[t.length-1]);return a.setDate(a.getDate()+7),[e,a]}(t),n=function(t,e){let a=null;return t<=e&&(a={type:"line",x0:t,y0:-4,x1:t,y1:104,line:{color:"black",dash:"dot",width:1}}),a}(e,l);return{title:!1,autosize:!0,margin:{r:20,l:60,t:5,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Team rating"},gridcolor:"#d6d6d6",showline:!1,zeroline:!1,fixedrange:!0,ticktext:a,tickvals:a},xaxis:{linecolor:"black",showgrid:!1,showline:!1,range:[s,l],fixedrange:!0},shapes:[n],dragmode:!1}}function oa(t,e,a){function s(t,e){let a,s,l;return e.atHome?(s=oe(t),l=oe(e.team)):(s=oe(e.team),l=oe(t)),a=null!=e.score?function(t,e,a,s){return`${t} ${a} - ${s} ${e}`}(s,l,e.score.homeGoals,e.score.awayGoals):`${s} vs ${l}`,a}function l(t,e,a){let[l,n,r]=function(t,e){let a=[],l=[],n=[];for(let r=1;r<=38;r++){let o=t.fixtures[e][r];a.push(new Date(o.date));let i=t.teamRatings[o.team].totalRating;o.atHome&&(i*=1-t.homeAdvantages[o.team].totalHomeAdvantage),l.push(100*i);let c=s(e,o);n.push(c)}return[a,l,n]}(t,e);!function(t,e,a){let s=[];for(let l=0;l<t.length;l++)s.push({x:t[l],y:e[l],details:a[l]});s.sort((function(t,e){return t.x<e.x?-1:t.x==e.x?0:1}));for(let l=0;l<s.length;l++)t[l]=s[l].x,e[l]=s[l].y,a[l]=s[l].details}(l,n,r);let o=Array.from({length:38},((t,e)=>e+1)),i=Array(l.length).fill(13);return i=function(t,e,a,s){let l,n=Number.POSITIVE_INFINITY;for(let t=0;t<e.length;t++){let s=e[t]-a;0<s&&s<n&&(n=s,l=t)}return null!=l&&(t[l]=s),t}(i,l,a,26),{x:l,y:n,type:"scatter",mode:"lines+markers",text:r,line:{color:"#737373"},marker:{size:i,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:n,opacity:1,line:{width:1}},customdata:o,hovertemplate:"<b>%{text}</b><br>Matchday %{customdata}<br>%{x|%d %b %Y}<br>Team rating: <b> %{y:.1f}%</b><extra></extra>"}}function n(){if(c){let t={"yaxis.title":null,"margin.l":20,"yaxis.color":"#fafafa"},e=i.data[0].marker.size;for(let t=0;t<e.length;t++)e[t]=Math.round(e[t]/1.7);let a={marker:{size:e,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=e,Plotly.update(o,a,t,0)}}function r(){i=function(t,e){let a=Date.now(),s=l(t,e,a);return{data:[s],layout:ra(s.x,a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let o,i,c=!1;q((()=>{r(),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){let t=l(d,f,Date.now());i.data[0]=t,Plotly.redraw(o),u&&n()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Team rating"},"margin.l":60,"yaxis.color":"black"},e=i.data[0].marker.size;for(let t=0;t<e.length;t++)e[t]=Math.round(1.7*e[t]);let a={marker:{size:e,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=e,Plotly.update(o,a,t,0)}}(),24&t.$$.dirty&&c&&u&&n()},[o,d,f,u,c,function(t){J[t?"unshift":"push"]((()=>{o=t,a(0,o)}))}]}class ia extends xt{constructor(t){super(),wt(this,t,oa,na,r,{data:1,team:2,mobileView:3})}}function ca(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[7](s)},p:t,i:t,o:t,d(t){t&&E(a),e[7](null)}}}function da(t,e,a){function s(t,e,a){let s=[],l=[];for(let a in t.form[e][t._id])null!=t.form[e][t._id][a].score&&(l.push(a),s.push(new Date(t.form[e][t._id][a].date)));let n,r=[];for(let a of l){let s=t.form[e][t._id][a].formRating5;r.push(100*s)}if(a){let t=ie(e);n={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else n={color:"#d3d3d3"};return{x:l,y:r,name:e,mode:"lines",line:n,text:s,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Form: <b>%{y:.1f}%</b><extra></extra>`,showlegend:!1}}function l(t,e){let a=[],l=Object.keys(t.standings);for(let n=0;n<l.length;n++)if(l[n]!=e){let e=s(t,l[n],!1);a.push(e)}let n=s(t,e,!0);return a.push(n),a}function n(){let t=Array.from(Array(11),((t,e)=>10*e));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,ticktext:t,tickvals:t,range:[-1,101]},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,range:[h[0],h[h.length-1]]},dragmode:!1}}function r(){if(d){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(i,{},t)}}function o(t,e){return{data:l(t,e),layout:n(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let i,c,d=!1;q((()=>{c=o(f,u),new Plotly.newPlot(i,c.data,c.layout,c.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),setTimeout((()=>{a(1,m=!0),window.dispatchEvent(new Event("resize"))}),50),a(6,d=!0)}));let{data:f,team:u,playedDates:h,lazyLoad:m,mobileView:p}=e;return t.$$set=t=>{"data"in t&&a(2,f=t.data),"team"in t&&a(3,u=t.team),"playedDates"in t&&a(4,h=t.playedDates),"lazyLoad"in t&&a(1,m=t.lazyLoad),"mobileView"in t&&a(5,p=t.mobileView)},t.$$.update=()=>{8&t.$$.dirty&&u&&function(){if(d){let t=o(f,u);for(let e=0;e<20;e++)c.data[e]=t.data[e];c.layout.xaxis.range[0]=h[0],c.layout.xaxis.range[1]=h[h.length-1],Plotly.redraw(i),p&&r()}}(),32&t.$$.dirty&&!p&&function(){if(d){let t={"yaxis.title":{text:"Form rating"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(i,{},t)}}(),96&t.$$.dirty&&d&&p&&r()},[i,m,f,u,h,p,d,function(t){J[t?"unshift":"push"]((()=>{i=t,a(0,i)}))}]}class fa extends xt{constructor(t){super(),wt(this,t,da,ca,r,{data:2,team:3,playedDates:4,lazyLoad:1,mobileView:5})}}function ua(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function ha(t,e,a){function s(t,e,a){let s=Object.keys(t.form[e][t._id]),l=function(t,e,a){let s=[];for(let l=0;l<a.length;l++){let n=t.form[e][t._id][a[l]].date;s.push(n)}return s}(t,e,s),n=function(t,e,a){let s=[];for(let l=0;l<a.length;l++){let n=t.form[e][t._id][a[l]].position;s.push(n)}return s}(t,e,s),r=function(t,e){let a;if(e){let e=ie(t);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else a={color:"#d3d3d3"};return a}(e,a);return{x:s,y:n,name:e,mode:"lines",line:r,text:l,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function l(t,e){let a=[],l=Object.keys(t.standings);for(let n=0;n<l.length;n++)if(l[n]!=e){let e=s(t,l[n],!1);a.push(e)}let n=s(t,e,!0);return a.push(n),a}function n(){let t=Object.keys(u.form[h][u._id]);return[{type:"rect",x0:t[0],y0:4.5,x1:t[t.length-1],y1:.5,line:{width:0},fillcolor:"#00fe87",opacity:.2,layer:"below"},{type:"rect",x0:t[0],y0:6.5,x1:t[t.length-1],y1:4.5,line:{width:0},fillcolor:"#02efff",opacity:.2,layer:"below"},{type:"rect",x0:t[0],y0:20.5,x1:t[t.length-1],y1:17.5,line:{width:0},fillcolor:"#f83027",opacity:.2,layer:"below"}]}function r(){let t=Array.from(Array(20),((t,e)=>e+1));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Position"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,autorange:"reversed",fixedrange:!0,ticktext:t,tickvals:t,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:n(),dragmode:!1}}function o(){if(f){let t={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((t,e)=>e+2)),"margin.l":20,"margin.t":5};Plotly.update(c,{},t)}}function i(t,e){return{data:l(t,e),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let c,d,f=!1;q((()=>{d=i(u,h),new Plotly.newPlot(c,d.data,d.layout,d.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,f=!0)}));let{data:u,team:h,mobileView:m}=e;return t.$$set=t=>{"data"in t&&a(1,u=t.data),"team"in t&&a(2,h=t.team),"mobileView"in t&&a(3,m=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&h&&function(){if(f){let t=i(u,h);for(let e=0;e<20;e++)d.data[e]=t.data[e];d.layout.shapes=n(),Plotly.redraw(c),m&&o()}}(),8&t.$$.dirty&&!m&&function(){if(f){let t={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((t,e)=>e+1)),"margin.l":60,"margin.t":15};Plotly.update(c,{},t)}}(),24&t.$$.dirty&&f&&m&&o()},[c,u,h,m,f,function(t){J[t?"unshift":"push"]((()=>{c=t,a(0,c)}))}]}class ma extends xt{constructor(t){super(),wt(this,t,ha,ua,r,{data:1,team:2,mobileView:3})}}function pa(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function va(t,e,a){function s(t,e,a){let s=Object.keys(t.form[e][t._id]),l=function(t,e,a){let s=[];for(let l=0;l<a.length;l++){let n=t.form[e][t._id][a[l]].date;s.push(n)}return s}(t,e,s),n=function(t,e,a){let s=[];for(let l of a){let a=t.form[e][t._id][l].cumPoints;s.push(a)}return s}(t,e,s),r=function(t,e){let a;if(e){let e=ie(t);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else a={color:"#d3d3d3"};return a}(e,a);return{x:s,y:n,name:e,mode:"lines",line:r,text:l,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function l(t,e){let a=[],l=Object.keys(t.standings);for(let n=0;n<l.length;n++)if(l[n]!=e){let e=s(t,l[n],!1);a.push(e)}let n=s(t,e,!0);return a.push(n),a}function n(){if(c){let t={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((t,e)=>e+2)),"margin.l":20,"margin.t":5};Plotly.update(o,{},t)}}function r(t,e){return{data:l(t,e),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Points"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let o,i,c=!1;q((()=>{i=r(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){let t=r(d,f);for(let e=0;e<20;e++)i.data[e]=t.data[e];Plotly.redraw(o),u&&n()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((t,e)=>e+1)),"margin.l":60,"margin.t":15};Plotly.update(o,{},t)}}(),24&t.$$.dirty&&c&&u&&n()},[o,d,f,u,c,function(t){J[t?"unshift":"push"]((()=>{o=t,a(0,o)}))}]}class ga extends xt{constructor(t){super(),wt(this,t,va,pa,r,{data:1,team:2,mobileView:3})}}function ya(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[6](s)},p:t,i:t,o:t,d(t){t&&E(a),e[6](null)}}}function $a(t){let e={};for(let a of Object.keys(t.standings))for(let s of Object.keys(t.form[a][t._id])){let l=t.form[a][t._id][s].score;null!=l&&(s in e?e[s]+=l.homeGoals+l.awayGoals:e[s]=l.homeGoals+l.awayGoals)}for(let t of Object.keys(e))e[t]/=20;return e}function ba(t,e){let a={},s={};for(let l of Object.keys(t.form[e][t._id])){let n=t.form[e][t._id][l].score;null!=n&&(t.form[e][t._id][l].atHome?(a[l]=n.homeGoals,s[l]=n.awayGoals):(a[l]=n.awayGoals,s[l]=n.homeGoals))}return[a,s]}function wa(t,e,a){return{name:"Avg",type:"line",x:t,y:Object.values(e),text:a,line:{color:"#0080FF",width:2},hovertemplate:"<b>Matchday %{text}</b><br>%{y:.1f} goals<extra></extra>"}}function xa(t,e,a){return{name:"Scored",type:"bar",x:t,y:Object.values(e),text:a,marker:{color:"#00fe87"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function Ea(t,e,a){return{name:"Conceded",type:"bar",x:t,y:Object.values(e),text:a,marker:{color:"#f83027"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function Da(t,e,a){function s(){if(r){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(l,{},t)}}let l,n,r=!1;q((()=>{n=function(t,e){let[a,s]=ba(t,e),l=$a(t),n=Object.keys(l);return{data:[xa(c,a,n),Ea(c,s,n),wa(c,l,n)],layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:15,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,rangemode:"nonnegative",visible:!0,tickformat:"d"},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,showticklabels:!1},legend:{x:1,xanchor:"right",y:1},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(o,i),new Plotly.newPlot(l,n.data,n.layout,n.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(5,r=!0)}));let{data:o,team:i,playedDates:c,mobileView:d}=e;return t.$$set=t=>{"data"in t&&a(1,o=t.data),"team"in t&&a(2,i=t.team),"playedDates"in t&&a(3,c=t.playedDates),"mobileView"in t&&a(4,d=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&i&&function(){if(r){let[t,e]=ba(o,i),a=$a(o),r=Object.keys(a),f=xa(c,t,r),u=Ea(c,e,r),h=wa(c,a,r);n.data[0]=f,n.data[1]=u,n.data[2]=h,Plotly.redraw(l),d&&s()}}(),16&t.$$.dirty&&!d&&function(){if(r){let t={"yaxis.title":{text:"Goals"},"yaxis.visible":!0,"margin.l":60};Plotly.update(l,{},t)}}(),48&t.$$.dirty&&r&&d&&s()},[l,o,i,c,d,r,function(t){J[t?"unshift":"push"]((()=>{l=t,a(0,l)}))}]}class Va extends xt{constructor(t){super(),wt(this,t,Da,ya,r,{data:1,team:2,playedDates:3,mobileView:4})}}function ka(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[6](s)},p:t,i:t,o:t,d(t){t&&E(a),e[6](null)}}}function Ia(t,e,a,s){let[l,n]=function(t,e){let a=[],s=[];for(let l of Object.keys(t.form[e][t._id])){let n=t.form[e][t._id][l].score;null!=n&&(t.form[e][t._id][l].atHome?n.awayGoals>0?(a.push(1),s.push(0)):(s.push(1),a.push(0)):n.homeGoals>0?(a.push(1),s.push(0)):(s.push(1),a.push(0)))}return[s,a]}(t,e);return[{name:"Clean sheets",type:"bar",x:a,y:l,text:s,marker:{color:"#00fe87"},hovertemplate:"<b>Clean sheet<extra></extra>",showlegend:!1},{name:"Conceded",type:"bar",x:a,y:n,text:s,marker:{color:"#f83027"},hovertemplate:"<b>Goals conceded<extra></extra>",showlegend:!1}]}function _a(t){return{name:"Avg",type:"line",x:t,y:Array(t.length).fill(1.1),line:{color:"#FAFAFA",width:1},marker:{size:1},hoverinfo:"skip"}}function Ta(t,e,a){function s(){return{type:"line",x0:f[0],y0:.5,x1:f[f.length-1],y1:.5,layer:"below",line:{color:"#d3d3d3",width:2}}}function l(t){return{title:!1,autosize:!0,height:60,margin:{r:20,l:60,t:0,b:40,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{showticklabels:!1,gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:f,ticktext:t},shapes:[s()],dragmode:!1,showlegend:!1}}function n(){if(i){let t={"margin.l":20};Plotly.update(r,{},t)}}let r,o,i=!1;q((()=>{o=function(t,e){let a=fe(t,e),[s,n]=Ia(t,e,f,a);return{data:[s,n,_a(s.x)],layout:l(a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(c,d),new Plotly.newPlot(r,o.data,o.layout,o.config),a(5,i=!0)}));let{data:c,team:d,playedDates:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,c=t.data),"team"in t&&a(2,d=t.team),"playedDates"in t&&a(3,f=t.playedDates),"mobileView"in t&&a(4,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&d&&function(){if(i){let t=fe(c,d),[e,a]=Ia(c,d,f,t),l=_a(e.x);o.data[0]=e,o.data[1]=a,o.data[2]=l;for(let e=0;e<t.length;e++)o.layout.xaxis.ticktext[e]=t[e];o.layout.shapes[0]=s(),Plotly.redraw(r),u&&n()}}(),16&t.$$.dirty&&!u&&function(){if(i){let t={"margin.l":60};Plotly.update(r,{},t)}}(),48&t.$$.dirty&&i&&u&&n()},[r,c,d,f,u,i,function(t){J[t?"unshift":"push"]((()=>{r=t,a(0,r)}))}]}class Pa extends xt{constructor(t){super(),wt(this,t,Ta,ka,r,{data:1,team:2,playedDates:3,mobileView:4})}}function Ga(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[8](s)},p:t,i:t,o:t,d(t){t&&E(a),e[8](null)}}}function Aa(t,e,a){function s(){let t=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Scored"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:t,tickvals:t},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function l(){if(i){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(r,{},t)}}function n(){o={data:d(),layout:s(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(r,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let r,o,i=!1;q((()=>{n(),a(7,i=!0)}));let{team:c,getScoredBars:d,getScoredTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=e;return t.$$set=t=>{"team"in t&&a(1,c=t.team),"getScoredBars"in t&&a(2,d=t.getScoredBars),"getScoredTeamBars"in t&&a(3,f=t.getScoredTeamBars),"getXLabels"in t&&a(4,u=t.getXLabels),"getYAxisLayout"in t&&a(5,h=t.getYAxisLayout),"mobileView"in t&&a(6,m=t.mobileView)},t.$$.update=()=>{2&t.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(r,{yaxis:h()}),Plotly.redraw(r),m&&l()),64&t.$$.dirty&&!m&&function(){if(i){let t={"yaxis.title":{text:"Scored"},"yaxis.visible":!0,"margin.l":60};Plotly.update(r,{},t)}}(),192&t.$$.dirty&&i&&m&&l()},[r,c,d,f,u,h,m,i,function(t){J[t?"unshift":"push"]((()=>{r=t,a(0,r)}))}]}class Na extends xt{constructor(t){super(),wt(this,t,Aa,Ga,r,{team:1,getScoredBars:2,getScoredTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function za(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[8](s)},p:t,i:t,o:t,d(t){t&&E(a),e[8](null)}}}function Sa(t,e,a){function s(){let t=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Conceded"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:t,tickvals:t},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function l(){if(i){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(r,{},t)}}function n(){o={data:d(),layout:s(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(r,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let r,o,i=!1;q((()=>{n(),a(7,i=!0)}));let{team:c,getConcededBars:d,getConcededTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=e;return t.$$set=t=>{"team"in t&&a(1,c=t.team),"getConcededBars"in t&&a(2,d=t.getConcededBars),"getConcededTeamBars"in t&&a(3,f=t.getConcededTeamBars),"getXLabels"in t&&a(4,u=t.getXLabels),"getYAxisLayout"in t&&a(5,h=t.getYAxisLayout),"mobileView"in t&&a(6,m=t.mobileView)},t.$$.update=()=>{2&t.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(r,{yaxis:h()}),Plotly.redraw(r),m&&l()),64&t.$$.dirty&&!m&&function(){if(i){let t={"yaxis.title":{text:"Conceded"},"yaxis.visible":!0,"margin.l":60};Plotly.update(r,{},t)}}(),192&t.$$.dirty&&i&&m&&l()},[r,c,d,f,u,h,m,i,function(t){J[t?"unshift":"push"]((()=>{r=t,a(0,r)}))}]}class Ma extends xt{constructor(t){super(),wt(this,t,Sa,za,r,{team:1,getConcededBars:2,getConcededTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function Oa(t){let e,a,s,l,n,r;return a=new Na({props:{team:t[0],getScoredBars:t[3],getScoredTeamBars:t[5],getXLabels:t[7],getYAxisLayout:t[8],mobileView:t[1]}}),n=new Ma({props:{team:t[0],getConcededBars:t[4],getConcededTeamBars:t[6],getXLabels:t[7],getYAxisLayout:t[8],mobileView:t[1]}}),{c(){e=V("div"),vt(a.$$.fragment),s=_(),l=V("div"),vt(n.$$.fragment),this.h()},l(t){e=S(t,"DIV",{class:!0});var r=A(e);gt(a.$$.fragment,r),r.forEach(E),s=B(t),l=S(t,"DIV",{class:!0});var o=A(l);gt(n.$$.fragment,o),o.forEach(E),this.h()},h(){G(e,"class","graph freq-graph mini-graph svelte-fqqlfs"),G(l,"class","graph freq-graph mini-graph svelte-fqqlfs")},m(t,o){x(t,e,o),yt(a,e,null),x(t,s,o),x(t,l,o),yt(n,l,null),r=!0},p(t,e){const s={};1&e&&(s.team=t[0]),2&e&&(s.mobileView=t[1]),a.$set(s);const l={};1&e&&(l.team=t[0]),2&e&&(l.mobileView=t[1]),n.$set(l)},i(t){r||(dt(a.$$.fragment,t),dt(n.$$.fragment,t),r=!0)},o(t){ft(a.$$.fragment,t),ft(n.$$.fragment,t),r=!1},d(t){t&&E(e),$t(a),t&&E(s),t&&E(l),$t(n)}}}function Ba(t){let e,a,s=t[2]&&Oa(t);return{c(){e=V("div"),s&&s.c(),this.h()},l(t){e=S(t,"DIV",{class:!0});var a=A(e);s&&s.l(a),a.forEach(E),this.h()},h(){G(e,"class","two-graphs svelte-fqqlfs")},m(t,l){x(t,e,l),s&&s.m(e,null),a=!0},p(t,[a]){t[2]?s?(s.p(t,a),4&a&&dt(s,1)):(s=Oa(t),s.c(),dt(s,1),s.m(e,null)):s&&(it(),ft(s,1,1,(()=>{s=null})),ct())},i(t){a||(dt(s),a=!0)},o(t){ft(s),a=!1},d(t){t&&E(e),s&&s.d()}}}function Ca(t,e,a){let s="Score";return"Conceded"===e&&(s="Concede"),{x:Object.keys(t),y:Object.values(t),type:"bar",name:e,marker:{color:a},hovertemplate:`${s} %{x} with probability <b>%{y:.2f}</b><extra></extra>`,line:{width:0},hoverinfo:"x+y",opacity:.5}}function La(t,e,a,s){if(s in t.form)for(let l of Object.keys(t.form[s][a])){let n=t.form[s][a][l].score;null!=n&&(t.form[s][a][l].atHome?n.homeGoals in e?e[n.homeGoals]+=1:e[n.homeGoals]=1:n.awayGoals in e?e[n.awayGoals]+=1:e[n.awayGoals]=1)}}function ja(t){let e=function(t){let e=0;for(let a in t){let t=parseInt(a);t>e&&(e=t)}return e}(t);for(let a=1;a<e;a++)a in t||(t[a]=0)}function Ha(t,e){let a={};return La(t,a,t._id,e),La(t,a,t._id-1,e),ja(a),a}function Fa(t,e,a,s){if(s in t.form)for(let l of Object.keys(t.form[s][a])){let n=t.form[s][a][l].score;null!=n&&(t.form[s][a][l].atHome?n.awayGoals in e?e[n.awayGoals]+=1:e[n.awayGoals]=1:n.homeGoals in e?e[n.homeGoals]+=1:e[n.homeGoals]=1)}}function Ra(t,e){let a={};return Fa(t,a,t._id,e),Fa(t,a,t._id-1,e),ja(a),a}function Ua(t,e){for(let a of Object.values(t))a>e&&(e=a);return e}function qa(t,e,a){let s=0;return s=Ua(t,s),s=Ua(e,s),s=Ua(a,s),s}function Ya(t){let e=0;for(let a in t)e+=t[a];return e}function Wa(t,e,a){let s=Ya(t),l=Ya(e);for(let t in e)e[t]*=s/l;let n=Ya(a);for(let t in a)a[t]*=s/n}function Xa(t){let e=Ya(t);for(let a in t)t[a]/=e}function Ja(t,e,a){function s(t,e,a){return[{x:Object.keys(o),y:Object.values(o),type:"bar",name:"Avg",marker:{color:"#C6C6C6"},line:{width:0},hovertemplate:"Average %{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},Ca(t,e,a)]}let l=["#00fe87","#aef23e","#ffdd00","#ff9000","#f83027"],n=(r=l,r.slice().reverse()).concat(["#00fe87","#00fe87","#00fe87","#00fe87","#00fe87"]);var r;let o,i,c,d,f=l.concat(["#f83027","#f83027","#f83027","#f83027","#f83027"]);let u=!1;q((()=>{o=function(t){let e={};for(let a of Object.keys(t.standings))La(t,e,t._id,a),La(t,e,t._id-1,a);ja(e);for(let t of Object.keys(e))e[t]/=20;return e}(h),i=Ha(h,m),c=Ra(h,m),Wa(o,i,c),function(t,e,a){Xa(t),Xa(e),Xa(a)}(o,i,c),d=qa(o,i,c),a(2,u=!0)}));let{data:h,team:m,mobileView:p}=e;return t.$$set=t=>{"data"in t&&a(9,h=t.data),"team"in t&&a(0,m=t.team),"mobileView"in t&&a(1,p=t.mobileView)},t.$$.update=()=>{1&t.$$.dirty&&m&&u&&(i=Ha(h,m),c=Ra(h,m),Wa(o,i,c),Xa(i),Xa(c),d=qa(o,i,c))},[m,p,u,function(){return s(i,"Scored",n)},function(){return s(c,"Conceded",f)},function(){return Ca(i,"Scored",n)},function(){return Ca(c,"Conceded",f)},function(){return Object.keys(o)},function(){return{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,autorange:!1,range:[0,d]}},h]}class Ka extends xt{constructor(t){super(),wt(this,t,Ja,Ba,r,{data:9,team:0,mobileView:1})}}function Qa(t,e,a){const s=t.slice();return s[31]=e[a],s}function Za(t){let e,a,s,l,n=oe(t[31])+"";return{c(){e=V("button"),a=I(n),this.h()},l(t){e=S(t,"BUTTON",{class:!0});var s=A(e);a=O(s,n),s.forEach(E),this.h()},h(){G(e,"class","spider-opp-team-btn svelte-2ss1ik")},m(n,r){x(n,e,r),w(e,a),s||(l=P(e,"click",t[6]),s=!0)},p(t,e){2&e[0]&&n!==(n=oe(t[31])+"")&&C(a,n)},d(t){t&&E(e),s=!1,l()}}}function ts(t){let e,a=t[31]!=t[0]&&Za(t);return{c(){a&&a.c(),e=T()},l(t){a&&a.l(t),e=T()},m(t,s){a&&a.m(t,s),x(t,e,s)},p(t,s){t[31]!=t[0]?a?a.p(t,s):(a=Za(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&E(e)}}}function es(e){let a,s,l,n,r,o,i=e[1],c=[];for(let t=0;t<i.length;t+=1)c[t]=ts(Qa(e,i,t));return{c(){a=V("div"),s=V("div"),l=V("div"),n=_(),r=V("div"),o=V("div");for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{id:!0});var i=A(s);l=S(i,"DIV",{id:!0}),A(l).forEach(E),i.forEach(E),e.forEach(E),n=B(t),r=S(t,"DIV",{class:!0});var d=A(r);o=S(d,"DIV",{class:!0,id:!0});var f=A(o);for(let t=0;t<c.length;t+=1)c[t].l(f);f.forEach(E),d.forEach(E),this.h()},h(){G(l,"id","plotDiv"),G(s,"id","plotly"),G(a,"class","spider-chart svelte-2ss1ik"),G(o,"class","spider-opp-team-btns svelte-2ss1ik"),G(o,"id","spider-opp-teams"),G(r,"class","spider-opp-team-selector svelte-2ss1ik")},m(t,i){x(t,a,i),w(a,s),w(s,l),e[5](l),x(t,n,i),x(t,r,i),w(r,o);for(let t=0;t<c.length;t+=1)c[t]&&c[t].m(o,null)},p(t,e){if(11&e[0]){let a;for(i=t[1],a=0;a<i.length;a+=1){const s=Qa(t,i,a);c[a]?c[a].p(s,e):(c[a]=ts(s),c[a].c(),c[a].m(o,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=i.length}},i:t,o:t,d(t){t&&E(a),e[5](null),t&&E(n),t&&E(r),D(c,t)}}}const as=3;function ss(t,e){let a=0;for(let s in t)t[s]=t[s]/e*100,a+=t[s];return a/Object.keys(t).length}function ls(t){let e=0;for(let a in t)e+=t[a];return e/Object.keys(t).length}function ns(t){let[e,a]=function(t){let e={},a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(let l of Object.keys(t.standings)){let n=0,r=0;for(let e in t.standings[l]){let o=t.standings[l][e].gF,i=t.standings[l][e].played;if(o>0&&(n+=o,r+=i),38===i){let t=o/i;t>a?a=t:t<s&&(s=t)}}let o=null;r>0&&(o=n/r),e[l]=o}return[e,[s,a]]}(t);return e=function(t,e){let[a,s]=e;for(let e in t)null===t[e]?t[e]=0:t[e]=(t[e]-a)/(s-a)*100;return t}(e,a),e.avg=ls(e),e}function rs(t){let[e,a]=function(t){let e={},a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(let l of Object.keys(t.standings)){let n=0,r=0;for(let e in t.standings[l]){let o=t.standings[l][e].gA,i=t.standings[l][e].played;if(o>0&&(n+=o,r+=i),38===i){let t=o/i;t>a?a=t:t<s&&(s=t)}}let o=null;r>0&&(o=n/r),e[l]=o}return[e,[s,a]]}(t);return e=function(t,e){let[a,s]=e;for(let e in t)null===t[e]?t[e]=0:t[e]=100-(t[e]-a)/(s-a)*100;return t}(e,a),e.avg=ls(e),e}function os(t,e,a){let s=0;for(let l in t[e][a]){let n=t[e][a][l];null!=n.score&&(n.atHome&&0===n.score.awayGoals?s+=1:n.atHome||0!==n.score.homeGoals||(s+=1))}return s}function is(t,e,a){let s=0,l=null;for(let n in t[e][a]){let r=t[e][a][n];if(null!=r.score){let t;t=r.atHome&&r.score.homeGoals>r.score.awayGoals||!r.atHome&&r.score.homeGoals<r.score.awayGoals?"win":r.atHome&&r.score.homeGoals<r.score.awayGoals||!r.atHome&&r.score.homeGoals>r.score.awayGoals?"lost":"draw",null!=l&&l===t&&(s+=1),l=t}}return s}function cs(t,e,a){let s=0,l=0;for(let n in t[e][a]){let r=t[e][a][n];null!=r.score&&(r.atHome&&r.score.homeGoals>r.score.awayGoals||!r.atHome&&r.score.homeGoals<r.score.awayGoals?(l+=1,l>s&&(s=l)):l=0)}return s}function ds(t,e,a){return 38===t.standings[e][a].played}function fs(t,e){let a=t.indexOf(e);return a>-1&&t.splice(a,1),t}function us(t,e,a,s){let l=0,n=0;for(let r in t[e][a]){let o=t[e][a][r];null!=o.score&&s.includes(o.team)&&(o.atHome&&o.score.homeGoals>o.score.awayGoals||!o.atHome&&o.score.homeGoals<o.score.awayGoals?l+=3:o.score.homeGoals===o.score.awayGoals&&(l+=1),n+=1)}return[l,n]}function hs(t,e,a){function s(){let t=r();v.data.unshift(t)}function l(t){let e=(a=t.innerHTML,Object.values(re).includes(a)?Object.keys(re).find((t=>re[t]===a)):a);var a;if(""===t.style.background){let a=ie(e);t.style.background=`var(--${a})`,t.style.color=`var(--${a}-secondary)`}else t.style.background="",t.style.color="black";0===$.length&&v.data.splice(0,1),$.includes(e)?(!function(t){for(let e=0;e<v.data.length;e++)if(v.data[e].name===t){v.data.splice(e,1);break}1===$.length&&s(),Plotly.redraw(p)}(e),fs($,e)):(!function(t){let e={name:t,type:"scatterpolar",r:[c[t],d[t],f[t],u[t],h[t],m[t]],theta:g,fill:"toself",marker:{color:de(t)}};v.data.push(e),Plotly.redraw(p)}(e),$.push(e))}function n(t,e,a){return{name:t,type:"scatterpolar",r:e,theta:g,fill:"toself",marker:{color:a},hovertemplate:`<b>${t}</b><br>%{theta}: %{r}<extra></extra>`,hoveron:"points"}}function r(){return n("Avg",[c.avg,d.avg,f.avg,u.avg,h.avg,m.avg],"#ADADAD")}function o(t){let e=r(),a=function(t){return n(t,[c[t],d[t],f[t],u[t],h[t],m[t]],de(t))}(t);return[e,a]}function i(t){c=ns(t),d=rs(t),f=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(t.standings)){let l=0;for(let e=0;e<as;e++){let n=os(t.form,s,t._id-e);ds(t,s,t._id-e)&&n>a&&(a=n),l+=n}e[s]=l}return e.avg=ss(e,a*as),e}(t),u=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(t.standings)){let l=0;for(let e=0;e<as;e++){let n=is(t.form,s,t._id-e);ds(t,s,t._id-e)&&n>a&&(a=n),l+=n}e[s]=l}return e.avg=ss(e,a*as),e}(t),h=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(t.standings)){let l=0;for(let e=0;e<as;e++){let n=cs(t.form,s,t._id-e);ds(t,s,t._id-e)&&n>a&&(a=n),l+=n}e[s]=l}return e.avg=ss(e,a*as),e}(t),m=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(t.standings)){let l=0,n=0;for(let e=0;e<as;e++){let[r,o]=us(t.form,s,t._id-e,fs(y,s));if(0===o)continue;let i=o/o;ds(t,s,t._id-e)&&i>a&&(a=i),l+=r,n+=o}let r=l/n;e[s]=r}return e.avg=ss(e,a*as),e}(t)}let c,d,f,u,h,m,p,v,g=["Attack","Defence","Clean sheets","Consistency","Win streak","Vs big 6"],y=["Manchester United","Liverpool","Manchester City","Arsenal","Chelsea","Tottenham Hotspur"],$=[],b=!1;function w(){if(b){let t=o(E);!function(t){let e=t.length;for(let a=0;a<e;a++)t.pop()}(v.data),v.data.push(t[0]),v.data.push(t[1]),function(){for(let t=0;t<$.length;t++){for(let t=0;t<v.data.length;t++)if(v.data[t].name===$[t]&&$[t]!=E){v.data.splice(t,1);break}1===$.length&&s(),fs($,$[t])}Plotly.redraw(p)}(),function(){let t=document.getElementById("spider-opp-teams");for(let e=0;e<t.children.length;e++){let a=t.children[e];""!=a.style.background&&(a.style.background="",a.style.color="black")}}(),setTimeout((()=>{document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn")}),0)}}q((()=>{v=function(t,e){return i(t),{data:o(e),layout:{height:550,polar:{radialaxis:{visible:!0,range:[0,100]}},hover:"closest",margin:{t:25,b:25,l:75,r:75},showlegend:!1,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(x,E),new Plotly.newPlot(p,v.data,v.layout,v.config).then((t=>{t.children[0].children[0].classList.add("resizable-spider-chart")})),document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn"),b=!0}));let{data:x,team:E,teams:D}=e;return t.$$set=t=>{"data"in t&&a(4,x=t.data),"team"in t&&a(0,E=t.team),"teams"in t&&a(1,D=t.teams)},t.$$.update=()=>{1&t.$$.dirty[0]&&E&&w()},[E,D,p,l,x,function(t){J[t?"unshift":"push"]((()=>{p=t,a(2,p)}))},t=>{l(t.target)}]}class ms extends xt{constructor(t){super(),wt(this,t,hs,es,r,{data:4,team:0,teams:1},null,[-1,-1])}}function ps(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function vs(t,e,a,s){for(let l in e[a][s]){let n=e[a][s][l].score;if(null!=n){let r;r=e[a][s][l].atHome?n.homeGoals+" - "+n.awayGoals:n.awayGoals+" - "+n.homeGoals,r in t?t[r][0]+=1:t[r]=[1]}}}function gs(t,e,a,s){for(let l in e[a][s]){let n=e[a][s][l].score;if(null!=n){let r;r=e[a][s][l].atHome?n.homeGoals+" - "+n.awayGoals:n.awayGoals+" - "+n.homeGoals,t[r][1]+=1}}}function ys(t){let e=Object.entries(t).sort(((t,e)=>e[1][0]-t[1][0])),a=[],s=[],l=[];for(let t=0;t<e.length;t++)a.push(e[t][0]),s.push(e[t][1][0]),l.push(e[t][1][1]);return[{x:a,y:s,type:"bar",name:"Avg",marker:{color:"#C6C6C6"},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},{x:a,y:l,type:"bar",name:"Scorelines",marker:{color:function(t){let e=[];for(let a of t){let[t,s,l]=a.split(" "),n=parseInt(t),r=parseInt(l);n>r?e.push("#00fe87"):n<r?e.push("#f83027"):e.push("#ffdd00")}return e}(a)},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y",opacity:.5}]}function $s(t){let e=0,a=0;for(let s in t)e+=t[s][0],a+=t[s][1];for(let s in t)t[s][1]*=e/a}function bs(t){let e=0,a=0;for(let s in t)e+=t[s][0],a+=t[s][1];for(let s in t)t[s][0]/=e,t[s][1]/=a}function ws(t,e,a){function s(t,e,a){for(let t in a)1===a[t].length&&a[t].push(0);gs(a,t.form,e,t._id),ce(t.form,e,t._id-1)&&gs(a,t.form,e,t._id-1),ce(t.form,e,t._id-2)&&gs(a,t.form,e,t._id-2)}function l(){if(c){let t={"yaxis.title":null,"yaxis.visible":!1,"xaxis.tickfont.size":5,"margin.l":20};Plotly.update(r,{},t)}}function n(t,e){return i=function(t){let e={};for(let a in t.form)for(let s=0;s<3;s++)(0===s||ce(t.form,a,t._id-s))&&vs(e,t.form,a,t._id-s);return e}(t),s(t,e,i),$s(i),bs(i),{data:ys(i),layout:{title:!1,autosize:!0,margin:{r:20,l:65,t:15,b:60,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Scoreline"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},legend:{x:1,xanchor:"right",y:.95},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let r,o,i,c=!1;q((()=>{o=n(d,f),new Plotly.newPlot(r,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){!function(t){for(let e in t)t[e][1]=0}(i),s(d,f,i),$s(i),bs(i);let t=ys(i);o.data[1]=t[1],Plotly.redraw(r),u&&l()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Probability"},"yaxis.visible":!0,"xaxis.tickfont.size":12,"margin.l":65};Plotly.update(r,{},t)}}(),24&t.$$.dirty&&c&&u&&l()},[r,d,f,u,c,function(t){J[t?"unshift":"push"]((()=>{r=t,a(0,r)}))}]}class xs extends xt{constructor(t){super(),wt(this,t,ws,ps,r,{data:1,team:2,mobileView:3})}}function Es(t,e,a){const s=t.slice();return s[9]=e[a],s[8]=a,s}function Ds(t,e,a){const s=t.slice();return s[6]=e[a],s[8]=a,s}function Vs(t){let e,a=[],s=new Map,l=t[1];const n=t=>t[9];for(let e=0;e<l.length;e+=1){let r=Es(t,l,e),o=n(r);s.set(o,a[e]=Ts(o,r))}return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=T()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=T()},m(t,s){for(let e=0;e<a.length;e+=1)a[e]&&a[e].m(t,s);x(t,e,s)},p(t,r){15&r&&(l=t[1],a=mt(a,r,n,1,t,l,s,e.parentNode,ht,Ts,e,Es))},d(t){for(let e=0;e<a.length;e+=1)a[e].d(t);t&&E(e)}}}function ks(t){let e,a=t[4],s=[];for(let e=0;e<a.length;e+=1)s[e]=Ps(Ds(t,a,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=T()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=T()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);x(t,e,a)},p(t,l){if(16&l){let n;for(a=t[4],n=0;n<a.length;n+=1){const r=Ds(t,a,n);s[n]?s[n].p(r,l):(s[n]=Ps(r),s[n].c(),s[n].m(e.parentNode,e))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(t){D(s,t),t&&E(e)}}}function Is(t){let e,a,s,l,n,r,o,i=t[2](t[9])+"";function c(){return t[5](t[9])}return{c(){e=V("button"),a=V("div"),s=V("div"),l=I(i),n=_(),this.h()},l(t){e=S(t,"BUTTON",{class:!0});var r=A(e);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);l=O(c,i),c.forEach(E),o.forEach(E),n=B(r),r.forEach(E),this.h()},h(){G(s,"class","team-name svelte-drmk5t"),G(a,"class","team-container svelte-drmk5t"),G(e,"class","team-link svelte-drmk5t")},m(t,i){x(t,e,i),w(e,a),w(a,s),w(s,l),w(e,n),r||(o=P(e,"click",c),r=!0)},p(e,a){t=e,6&a&&i!==(i=t[2](t[9])+"")&&C(l,i)},d(t){t&&E(e),r=!1,o()}}}function _s(t){let e,a,s,l,n,r,o,i=t[2](t[9])+"";return{c(){e=V("a"),a=V("div"),s=V("div"),l=I(i),r=_(),this.h()},l(t){e=S(t,"A",{href:!0,class:!0});var n=A(e);a=S(n,"DIV",{class:!0,style:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);l=O(c,i),c.forEach(E),o.forEach(E),r=B(n),n.forEach(E),this.h()},h(){G(s,"class","this-team-name svelte-drmk5t"),G(a,"class","this-team-container svelte-drmk5t"),G(a,"style",n=Ae(t[9])),G(e,"href",o="/"+ie(t[9])),G(e,"class","team-link")},m(t,n){x(t,e,n),w(e,a),w(a,s),w(s,l),w(e,r)},p(t,s){6&s&&i!==(i=t[2](t[9])+"")&&C(l,i),2&s&&n!==(n=Ae(t[9]))&&G(a,"style",n),2&s&&o!==(o="/"+ie(t[9]))&&G(e,"href",o)},d(t){t&&E(e)}}}function Ts(t,e){let a,s,l;function n(t,e){return 3&e&&(s=null),null==s&&(s=!(ie(t[9])!==t[0])),s?_s:Is}let r=n(e,-1),o=r(e);return{key:t,first:null,c(){a=T(),o.c(),l=T(),this.h()},l(t){a=T(),o.l(t),l=T(),this.h()},h(){this.first=a},m(t,e){x(t,a,e),o.m(t,e),x(t,l,e)},p(t,a){r===(r=n(e=t,a))&&o?o.p(e,a):(o.d(1),o=r(e),o&&(o.c(),o.m(l.parentNode,l)))},d(t){t&&E(a),o.d(t),t&&E(l)}}}function Ps(e){let a;return{c(){a=V("div"),this.h()},l(t){a=S(t,"DIV",{class:!0,style:!0}),A(a).forEach(E),this.h()},h(){G(a,"class","placeholder svelte-drmk5t"),L(a,"width",e[6]+"%")},m(t,e){x(t,a,e)},p:t,d(t){t&&E(a)}}}function Gs(e){let a,s,l,n,r,o,c,d,f,u,h,m,p,v,g;function y(t,e){return 0===t[1].length?ks:Vs}let $=y(e),b=$(e);return{c(){a=V("nav"),s=V("div"),l=V("a"),n=V("span"),r=I("pl"),o=I("dashboard"),c=_(),d=V("div"),b.c(),f=_(),u=V("div"),h=V("button"),m=V("img"),this.h()},l(t){a=S(t,"NAV",{id:!0,class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var i=A(s);l=S(i,"A",{href:!0,class:!0});var p=A(l);n=S(p,"SPAN",{style:!0});var v=A(n);r=O(v,"pl"),v.forEach(E),o=O(p,"dashboard"),p.forEach(E),i.forEach(E),c=B(e),d=S(e,"DIV",{class:!0});var g=A(d);b.l(g),g.forEach(E),f=B(e),u=S(e,"DIV",{class:!0});var y=A(u);h=S(y,"BUTTON",{class:!0});var $=A(h);m=S($,"IMG",{src:!0,alt:!0,class:!0}),$.forEach(E),y.forEach(E),e.forEach(E),this.h()},h(){L(n,"color","var(--green)"),G(l,"href","/home"),G(l,"class","svelte-drmk5t"),G(s,"class","title no-selection svelte-drmk5t"),G(d,"class","team-links svelte-drmk5t"),i(m.src,p="img/arrow-bar-left.svg")||G(m,"src","img/arrow-bar-left.svg"),G(m,"alt",""),G(m,"class","svelte-drmk5t"),G(h,"class","close-btn svelte-drmk5t"),G(u,"class","close"),G(a,"id","navBar"),G(a,"class","svelte-drmk5t")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),w(n,r),w(l,o),w(a,c),w(a,d),b.m(d,null),w(a,f),w(a,u),w(u,h),w(h,m),v||(g=P(h,"click",As),v=!0)},p(t,[e]){$===($=y(t))&&b?b.p(t,e):(b.d(1),b=$(t),b&&(b.c(),b.m(d,null)))},i:t,o:t,d(t){t&&E(a),b.d(),v=!1,g()}}}function As(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function Ns(t,e,a){let s=[];for(let t=0;t<20;t++)s.push(35+5*Math.floor(8*Math.random()));let{team:l,teams:n,toAlias:r,switchTeam:o}=e;return t.$$set=t=>{"team"in t&&a(0,l=t.team),"teams"in t&&a(1,n=t.teams),"toAlias"in t&&a(2,r=t.toAlias),"switchTeam"in t&&a(3,o=t.switchTeam)},[l,n,r,o,s,t=>{o(ie(t))}]}class zs extends xt{constructor(t){super(),wt(this,t,Ns,Gs,r,{team:0,teams:1,toAlias:2,switchTeam:3})}}function Ss(t,e,a){const s=t.slice();return s[13]=e[a],s[15]=a,s}function Ms(t,e,a){const s=t.slice();return s[16]=e[a],s[18]=a,s}function Os(t,e,a){const s=t.slice();return s[15]=e[a],s[18]=a,s}function Bs(t,e,a){const s=t.slice();return s[13]=e[a],s[18]=a,s}function Cs(t,e,a){const s=t.slice();return s[13]=e[a],s[18]=a,s}function Ls(t,e,a){const s=t.slice();return s[16]=e[a],s[18]=a,s}function js(t){let e,a,s,l,n=t[2],r=[];for(let e=0;e<n.length;e+=1)r[e]=Fs(Ls(t,n,e));return{c(){e=V("div"),a=V("div"),s=I("Upcoming"),l=_();for(let t=0;t<r.length;t+=1)r[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var n=A(e);a=S(n,"DIV",{class:!0});var o=A(a);s=O(o,"Upcoming"),o.forEach(E),l=B(n);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(E),this.h()},h(){G(a,"class","upcoming-title svelte-1sfmcda"),G(e,"class","upcoming-matches svelte-1sfmcda")},m(t,n){x(t,e,n),w(e,a),w(a,s),w(e,l);for(let t=0;t<r.length;t+=1)r[t]&&r[t].m(e,null)},p(t,a){if(4&a){let s;for(n=t[2],s=0;s<n.length;s+=1){const l=Ls(t,n,s);r[s]?r[s].p(l,a):(r[s]=Fs(l),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(t){t&&E(e),D(r,t)}}}function Hs(t){let e,a,s=t[16].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"";return{c(){e=V("div"),a=I(s),this.h()},l(t){e=S(t,"DIV",{class:!0});var l=A(e);a=O(l,s),l.forEach(E),this.h()},h(){G(e,"class","upcoming-match-date svelte-1sfmcda")},m(t,s){x(t,e,s),w(e,a)},p(t,e){4&e&&s!==(s=t[16].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&C(a,s)},d(t){t&&E(e)}}}function Fs(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v=0===t[18]||t[16].time.getDate()!=t[2][t[18]-1].time.getDate(),g=ne(t[16].home)+"",y=ne(t[16].away)+"",$=t[16].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"",b=v&&Hs(t);return{c(){b&&b.c(),e=_(),a=V("div"),s=V("div"),l=V("div"),n=I(g),o=_(),i=V("div"),c=I(y),f=_(),u=V("div"),h=V("div"),m=I($),p=_(),this.h()},l(t){b&&b.l(t),e=B(t),a=S(t,"DIV",{class:!0});var r=A(a);s=S(r,"DIV",{class:!0});var d=A(s);l=S(d,"DIV",{class:!0,style:!0});var v=A(l);n=O(v,g),v.forEach(E),o=B(d),i=S(d,"DIV",{class:!0,style:!0});var w=A(i);c=O(w,y),w.forEach(E),d.forEach(E),r.forEach(E),f=B(t),u=S(t,"DIV",{class:!0});var x=A(u);h=S(x,"DIV",{class:!0});var D=A(h);m=O(D,$),D.forEach(E),p=B(x),x.forEach(E),this.h()},h(){G(l,"class","upcoming-match-home svelte-1sfmcda"),G(l,"style",r=Ae(t[16].home)),G(i,"class","upcoming-match-away svelte-1sfmcda"),G(i,"style",d=Ae(t[16].away)),G(s,"class","upcoming-match-teams svelte-1sfmcda"),G(a,"class","upcoming-match svelte-1sfmcda"),G(h,"class","upcoming-match-time svelte-1sfmcda"),G(u,"class","upcoming-match-time-container svelte-1sfmcda")},m(t,r){b&&b.m(t,r),x(t,e,r),x(t,a,r),w(a,s),w(s,l),w(l,n),w(s,o),w(s,i),w(i,c),x(t,f,r),x(t,u,r),w(u,h),w(h,m),w(u,p)},p(t,a){4&a&&(v=0===t[18]||t[16].time.getDate()!=t[2][t[18]-1].time.getDate()),v?b?b.p(t,a):(b=Hs(t),b.c(),b.m(e.parentNode,e)):b&&(b.d(1),b=null),4&a&&g!==(g=ne(t[16].home)+"")&&C(n,g),4&a&&r!==(r=Ae(t[16].home))&&G(l,"style",r),4&a&&y!==(y=ne(t[16].away)+"")&&C(c,y),4&a&&d!==(d=Ae(t[16].away))&&G(i,"style",d),4&a&&$!==($=t[16].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"")&&C(m,$)},d(t){b&&b.d(t),t&&E(e),t&&E(a),t&&E(f),t&&E(u)}}}function Rs(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,T,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z=t[3],tt=[];for(let e=0;e<Z.length;e+=1)tt[e]=Us(Cs(t,Z,e));return{c(){e=V("div"),a=V("div"),s=I("Standings"),l=_(),n=V("div"),r=V("div"),o=V("div"),i=_(),c=V("div"),d=_(),f=V("div"),u=I("W"),h=_(),m=V("div"),p=I("D"),v=_(),g=V("div"),y=I("L"),$=_(),b=V("div"),k=I("GF"),T=_(),P=V("div"),N=I("GA"),z=_(),M=V("div"),C=I("GD"),L=_(),j=V("div"),H=I("Played"),F=_(),R=V("div"),U=I("Points"),q=_(),Y=V("div"),W=I("Rating"),X=_(),J=V("div"),K=I("Form"),Q=_();for(let t=0;t<tt.length;t+=1)tt[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var w=A(e);a=S(w,"DIV",{class:!0});var x=A(a);s=O(x,"Standings"),x.forEach(E),l=B(w),n=S(w,"DIV",{class:!0});var D=A(n);r=S(D,"DIV",{class:!0});var V=A(r);o=S(V,"DIV",{class:!0}),A(o).forEach(E),i=B(V),c=S(V,"DIV",{class:!0}),A(c).forEach(E),d=B(V),f=S(V,"DIV",{class:!0});var I=A(f);u=O(I,"W"),I.forEach(E),h=B(V),m=S(V,"DIV",{class:!0});var _=A(m);p=O(_,"D"),_.forEach(E),v=B(V),g=S(V,"DIV",{class:!0});var G=A(g);y=O(G,"L"),G.forEach(E),$=B(V),b=S(V,"DIV",{class:!0});var Z=A(b);k=O(Z,"GF"),Z.forEach(E),T=B(V),P=S(V,"DIV",{class:!0});var et=A(P);N=O(et,"GA"),et.forEach(E),z=B(V),M=S(V,"DIV",{class:!0});var at=A(M);C=O(at,"GD"),at.forEach(E),L=B(V),j=S(V,"DIV",{class:!0});var st=A(j);H=O(st,"Played"),st.forEach(E),F=B(V),R=S(V,"DIV",{class:!0});var lt=A(R);U=O(lt,"Points"),lt.forEach(E),q=B(V),Y=S(V,"DIV",{class:!0});var nt=A(Y);W=O(nt,"Rating"),nt.forEach(E),X=B(V),J=S(V,"DIV",{class:!0});var rt=A(J);K=O(rt,"Form"),rt.forEach(E),V.forEach(E),Q=B(D);for(let t=0;t<tt.length;t+=1)tt[t].l(D);D.forEach(E),w.forEach(E),this.h()},h(){G(a,"class","standings-title svelte-1sfmcda"),G(o,"class","standings-position svelte-1sfmcda"),G(c,"class","standings-team-name svelte-1sfmcda"),G(f,"class","standings-won bold svelte-1sfmcda"),G(m,"class","standings-drawn bold svelte-1sfmcda"),G(g,"class","standings-lost bold svelte-1sfmcda"),G(b,"class","standings-gf bold svelte-1sfmcda"),G(P,"class","standings-ga bold svelte-1sfmcda"),G(M,"class","standings-gd bold svelte-1sfmcda"),G(j,"class","standings-played bold svelte-1sfmcda"),G(R,"class","standings-points bold svelte-1sfmcda"),G(Y,"class","standings-rating bold svelte-1sfmcda"),G(J,"class","standings-form bold svelte-1sfmcda"),G(r,"class","table-row svelte-1sfmcda"),G(n,"class","standings svelte-1sfmcda"),G(e,"class","standings-table")},m(t,E){x(t,e,E),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(r,o),w(r,i),w(r,c),w(r,d),w(r,f),w(f,u),w(r,h),w(r,m),w(m,p),w(r,v),w(r,g),w(g,y),w(r,$),w(r,b),w(b,k),w(r,T),w(r,P),w(P,N),w(r,z),w(r,M),w(M,C),w(r,L),w(r,j),w(j,H),w(r,F),w(r,R),w(R,U),w(r,q),w(r,Y),w(Y,W),w(r,X),w(r,J),w(J,K),w(n,Q);for(let t=0;t<tt.length;t+=1)tt[t]&&tt[t].m(n,null)},p(t,e){if(9&e){let a;for(Z=t[3],a=0;a<Z.length;a+=1){const s=Cs(t,Z,a);tt[a]?tt[a].p(s,e):(tt[a]=Us(s),tt[a].c(),tt[a].m(n,null))}for(;a<tt.length;a+=1)tt[a].d(1);tt.length=Z.length}},d(t){t&&E(e),D(tt,t)}}}function Us(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z,M,L,j,H,F,R,U,q,Y,W,X,J=t[13].position+"",K=t[13].team+"",Q=t[13].won+"",Z=t[13].drawn+"",tt=t[13].lost+"",et=t[13].gF+"",at=t[13].gA+"",st=t[13].gD+"",lt=t[13].played+"",nt=t[13].points+"",rt=t[0].teamRatings[t[13].team].totalRating.toFixed(2)+"",ot=(Object.keys(t[0].form[t[13].team][t[0]._id]).length>0&&null!=t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[7]))]&&null!=t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[8]))].formRating5?t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[9]))].formRating5.toFixed(2):"")+"";return{c(){e=V("div"),a=V("div"),s=I(J),l=_(),n=V("div"),r=I(K),o=_(),i=V("div"),c=I(Q),d=_(),f=V("div"),u=I(Z),h=_(),m=V("div"),p=I(tt),v=_(),g=V("div"),y=I(et),$=_(),b=V("div"),D=I(at),k=_(),T=V("div"),P=I(st),N=_(),z=V("div"),M=I(lt),L=_(),j=V("div"),H=I(nt),F=_(),R=V("div"),U=I(rt),q=_(),Y=V("div"),W=I(ot),X=_(),this.h()},l(t){e=S(t,"DIV",{class:!0});var w=A(e);a=S(w,"DIV",{class:!0});var x=A(a);s=O(x,J),x.forEach(E),l=B(w),n=S(w,"DIV",{class:!0});var V=A(n);r=O(V,K),V.forEach(E),o=B(w),i=S(w,"DIV",{class:!0});var I=A(i);c=O(I,Q),I.forEach(E),d=B(w),f=S(w,"DIV",{class:!0});var _=A(f);u=O(_,Z),_.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var G=A(m);p=O(G,tt),G.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var C=A(g);y=O(C,et),C.forEach(E),$=B(w),b=S(w,"DIV",{class:!0});var it=A(b);D=O(it,at),it.forEach(E),k=B(w),T=S(w,"DIV",{class:!0});var ct=A(T);P=O(ct,st),ct.forEach(E),N=B(w),z=S(w,"DIV",{class:!0});var dt=A(z);M=O(dt,lt),dt.forEach(E),L=B(w),j=S(w,"DIV",{class:!0});var ft=A(j);H=O(ft,nt),ft.forEach(E),F=B(w),R=S(w,"DIV",{class:!0});var ut=A(R);U=O(ut,rt),ut.forEach(E),q=B(w),Y=S(w,"DIV",{class:!0});var ht=A(Y);W=O(ht,ot),ht.forEach(E),X=B(w),w.forEach(E),this.h()},h(){G(a,"class","standings-position svelte-1sfmcda"),G(n,"class","standings-team-name svelte-1sfmcda"),G(i,"class","standings-won svelte-1sfmcda"),G(f,"class","standings-drawn svelte-1sfmcda"),G(m,"class","standings-lost svelte-1sfmcda"),G(g,"class","standings-gf svelte-1sfmcda"),G(b,"class","standings-ga svelte-1sfmcda"),G(T,"class","standings-gd svelte-1sfmcda"),G(z,"class","standings-played svelte-1sfmcda"),G(j,"class","standings-points svelte-1sfmcda"),G(R,"class","standings-rating svelte-1sfmcda"),G(Y,"class","standings-form svelte-1sfmcda"),G(e,"class","table-row "+(t[18]%2==0?"grey-row":"")+" "+(t[18]<4?"cl":"")+" "+(t[18]>3&&t[18]<6?"el":"")+" "+(t[18]>16?"relegation":"")+" svelte-1sfmcda")},m(t,E){x(t,e,E),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(e,o),w(e,i),w(i,c),w(e,d),w(e,f),w(f,u),w(e,h),w(e,m),w(m,p),w(e,v),w(e,g),w(g,y),w(e,$),w(e,b),w(b,D),w(e,k),w(e,T),w(T,P),w(e,N),w(e,z),w(z,M),w(e,L),w(e,j),w(j,H),w(e,F),w(e,R),w(R,U),w(e,q),w(e,Y),w(Y,W),w(e,X)},p(t,e){8&e&&J!==(J=t[13].position+"")&&C(s,J),8&e&&K!==(K=t[13].team+"")&&C(r,K),8&e&&Q!==(Q=t[13].won+"")&&C(c,Q),8&e&&Z!==(Z=t[13].drawn+"")&&C(u,Z),8&e&&tt!==(tt=t[13].lost+"")&&C(p,tt),8&e&&et!==(et=t[13].gF+"")&&C(y,et),8&e&&at!==(at=t[13].gA+"")&&C(D,at),8&e&&st!==(st=t[13].gD+"")&&C(P,st),8&e&&lt!==(lt=t[13].played+"")&&C(M,lt),8&e&&nt!==(nt=t[13].points+"")&&C(H,nt),9&e&&rt!==(rt=t[0].teamRatings[t[13].team].totalRating.toFixed(2)+"")&&C(U,rt),9&e&&ot!==(ot=(Object.keys(t[0].form[t[13].team][t[0]._id]).length>0&&null!=t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[7]))]&&null!=t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[8]))].formRating5?t[0].form[t[13].team][t[0]._id][Math.max(...Object.keys(t[0].form[t[13].team][t[0]._id]).map(t[9]))].formRating5.toFixed(2):"")+"")&&C(W,ot)},d(t){t&&E(e)}}}function qs(t){let e,a,s,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,T=t[1],N=[];for(let e=0;e<T.length;e+=1)N[e]=Ys(Bs(t,T,e));let z=Array(38),M=[];for(let e=0;e<z.length;e+=1)M[e]=Ws(Os(t,z,e));let C=t[1],L=[];for(let e=0;e<C.length;e+=1)L[e]=Js(Ss(t,C,e));return{c(){e=V("div"),a=V("div"),s=V("button"),n=I("Rating"),o=_(),i=V("div"),c=V("button"),d=I("Form"),u=_(),h=V("div"),m=V("div");for(let t=0;t<N.length;t+=1)N[t].c();p=_(),v=V("div"),g=V("div"),y=V("div");for(let t=0;t<M.length;t+=1)M[t].c();$=_();for(let t=0;t<L.length;t+=1)L[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var l=A(e);a=S(l,"DIV",{class:!0});var r=A(a);s=S(r,"BUTTON",{id:!0,class:!0});var f=A(s);n=O(f,"Rating"),f.forEach(E),r.forEach(E),o=B(l),i=S(l,"DIV",{class:!0});var b=A(i);c=S(b,"BUTTON",{id:!0,class:!0});var w=A(c);d=O(w,"Form"),w.forEach(E),b.forEach(E),l.forEach(E),u=B(t),h=S(t,"DIV",{class:!0});var x=A(h);m=S(x,"DIV",{class:!0});var D=A(m);for(let t=0;t<N.length;t+=1)N[t].l(D);D.forEach(E),p=B(x),v=S(x,"DIV",{class:!0});var V=A(v);g=S(V,"DIV",{class:!0});var k=A(g);y=S(k,"DIV",{class:!0});var I=A(y);for(let t=0;t<M.length;t+=1)M[t].l(I);I.forEach(E),k.forEach(E),$=B(V);for(let t=0;t<L.length;t+=1)L[t].l(V);V.forEach(E),x.forEach(E),this.h()},h(){G(s,"id","rating-scale-btn"),G(s,"class",r="scale-btn "+("rating"===t[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(a,"class","scale-team-ratings svelte-1sfmcda"),G(c,"id","form-scale-btn"),G(c,"class",f="scale-btn "+("form"===t[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(i,"class","scale-team-form svelte-1sfmcda"),G(e,"class","scale-btns svelte-1sfmcda"),G(m,"class","fixtures-teams-container svelte-1sfmcda"),G(y,"class","fixtures-matches svelte-1sfmcda"),G(g,"class","fixtures-table-row svelte-1sfmcda"),G(v,"class","fixtures-matches-container svelte-1sfmcda"),G(h,"class","fixtures-table svelte-1sfmcda")},m(l,r){x(l,e,r),w(e,a),w(a,s),w(s,n),w(e,o),w(e,i),w(i,c),w(c,d),x(l,u,r),x(l,h,r),w(h,m);for(let t=0;t<N.length;t+=1)N[t]&&N[t].m(m,null);w(h,p),w(h,v),w(v,g),w(g,y);for(let t=0;t<M.length;t+=1)M[t]&&M[t].m(y,null);w(v,$);for(let t=0;t<L.length;t+=1)L[t]&&L[t].m(v,null);b||(k=[P(s,"click",t[5]),P(c,"click",t[6])],b=!0)},p(t,e){if(16&e&&r!==(r="scale-btn "+("rating"===t[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(s,"class",r),16&e&&f!==(f="scale-btn "+("form"===t[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(c,"class",f),2&e){let a;for(T=t[1],a=0;a<T.length;a+=1){const s=Bs(t,T,a);N[a]?N[a].p(s,e):(N[a]=Ys(s),N[a].c(),N[a].m(m,null))}for(;a<N.length;a+=1)N[a].d(1);N.length=T.length}if(2&e){let a;for(C=t[1],a=0;a<C.length;a+=1){const s=Ss(t,C,a);L[a]?L[a].p(s,e):(L[a]=Js(s),L[a].c(),L[a].m(v,null))}for(;a<L.length;a+=1)L[a].d(1);L.length=C.length}},d(t){t&&E(e),t&&E(u),t&&E(h),D(N,t),D(M,t),D(L,t),b=!1,l(k)}}}function Ys(t){let e,a,s,l,n,r=ne(t[13].team)+"";return{c(){e=V("div"),a=V("div"),s=I(r),n=_(),this.h()},l(t){e=S(t,"DIV",{class:!0});var l=A(e);a=S(l,"DIV",{class:!0,style:!0});var o=A(a);s=O(o,r),o.forEach(E),n=B(l),l.forEach(E),this.h()},h(){G(a,"class","fixtures-team svelte-1sfmcda"),G(a,"style",l=Ae(t[13].team)+" "+(0===t[18]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(t[18]===t[1].length-1?"border-radius: 0 0 0 4px;":"")),G(e,"class","fixtures-table-row svelte-1sfmcda")},m(t,l){x(t,e,l),w(e,a),w(a,s),w(e,n)},p(t,e){2&e&&r!==(r=ne(t[13].team)+"")&&C(s,r),2&e&&l!==(l=Ae(t[13].team)+" "+(0===t[18]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(t[18]===t[1].length-1?"border-radius: 0 0 0 4px;":""))&&G(a,"style",l)},d(t){t&&E(e)}}}function Ws(e){let a,s,l=e[18]+1+"";return{c(){a=V("div"),s=I(l),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=O(e,l),e.forEach(E),this.h()},h(){G(a,"class","match svelte-1sfmcda")},m(t,e){x(t,a,e),w(a,s)},p:t,d(t){t&&E(a)}}}function Xs(t){let e,a,s,l,n,r=`${ne(t[16].team)} (${t[16].atHome?"H":"A"}`;return{c(){e=V("div"),a=I(r),s=I(")\r\n                    "),this.h()},l(t){e=S(t,"DIV",{class:!0,style:!0,title:!0});var l=A(e);a=O(l,r),s=O(l,")\r\n                    "),l.forEach(E),this.h()},h(){G(e,"class","match svelte-1sfmcda"),G(e,"style",l="background: "+t[16].colour+"; "+("FINISHED"==t[16].status?"filter: grayscale(100%)":"")+" "+(t[18]===t[13].matches.length-1?"border-right: 2px solid black":"")),G(e,"title",n=t[16].date)},m(t,l){x(t,e,l),w(e,a),w(e,s)},p(t,s){2&s&&r!==(r=`${ne(t[16].team)} (${t[16].atHome?"H":"A"}`)&&C(a,r),2&s&&l!==(l="background: "+t[16].colour+"; "+("FINISHED"==t[16].status?"filter: grayscale(100%)":"")+" "+(t[18]===t[13].matches.length-1?"border-right: 2px solid black":""))&&G(e,"style",l),2&s&&n!==(n=t[16].date)&&G(e,"title",n)},d(t){t&&E(e)}}}function Js(t){let e,a,s,l=t[13].matches,n=[];for(let e=0;e<l.length;e+=1)n[e]=Xs(Ms(t,l,e));return{c(){e=V("div"),a=V("div");for(let t=0;t<n.length;t+=1)n[t].c();s=_(),this.h()},l(t){e=S(t,"DIV",{class:!0});var l=A(e);a=S(l,"DIV",{class:!0});var r=A(a);for(let t=0;t<n.length;t+=1)n[t].l(r);r.forEach(E),s=B(l),l.forEach(E),this.h()},h(){G(a,"class","fixtures-matches svelte-1sfmcda"),G(e,"class","fixtures-table-row svelte-1sfmcda")},m(t,l){x(t,e,l),w(e,a);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(a,null);w(e,s)},p(t,e){if(2&e){let s;for(l=t[13].matches,s=0;s<l.length;s+=1){const r=Ms(t,l,s);n[s]?n[s].p(r,e):(n[s]=Xs(r),n[s].c(),n[s].m(a,null))}for(;s<n.length;s+=1)n[s].d(1);n.length=l.length}},d(t){t&&E(e),D(n,t)}}}function Ks(e){let a,s,l,n,r,o,i,c,d,f,u,h,m=null!=e[2]&&js(e),p=null!=e[3]&&Rs(e),v=null!=e[1]&&qs(e);return{c(){a=V("div"),s=V("div"),l=V("div"),n=V("div"),m&&m.c(),r=_(),o=V("div"),p&&p.c(),i=_(),c=V("div"),d=V("div"),f=V("div"),u=I("Fixtures"),h=_(),v&&v.c(),this.h()},l(t){a=S(t,"DIV",{id:!0,class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var g=A(s);l=S(g,"DIV",{class:!0});var y=A(l);n=S(y,"DIV",{class:!0});var $=A(n);m&&m.l($),$.forEach(E),y.forEach(E),r=B(g),o=S(g,"DIV",{class:!0});var b=A(o);p&&p.l(b),b.forEach(E),g.forEach(E),i=B(e),c=S(e,"DIV",{class:!0});var w=A(c);d=S(w,"DIV",{class:!0});var x=A(d);f=S(x,"DIV",{class:!0});var D=A(f);u=O(D,"Fixtures"),D.forEach(E),h=B(x),v&&v.l(x),x.forEach(E),w.forEach(E),e.forEach(E),this.h()},h(){G(n,"class","upcoming-matches-container"),G(l,"class","left svelte-1sfmcda"),G(o,"class","standings-container svelte-1sfmcda"),G(s,"class","row svelte-1sfmcda"),G(f,"class","fixtures-title svelte-1sfmcda"),G(d,"class","fixtures svelte-1sfmcda"),G(c,"class","row svelte-1sfmcda"),G(a,"id","page-content"),G(a,"class","svelte-1sfmcda")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),m&&m.m(n,null),w(s,r),w(s,o),p&&p.m(o,null),w(a,i),w(a,c),w(c,d),w(d,f),w(f,u),w(d,h),v&&v.m(d,null)},p(t,[e]){null!=t[2]?m?m.p(t,e):(m=js(t),m.c(),m.m(n,null)):m&&(m.d(1),m=null),null!=t[3]?p?p.p(t,e):(p=Rs(t),p.c(),p.m(o,null)):p&&(p.d(1),p=null),null!=t[1]?v?v.p(t,e):(v=qs(t),v.c(),v.m(d,null)):v&&(v.d(1),v=null)},i:t,o:t,d(t){t&&E(a),m&&m.d(),p&&p.d(),v&&v.d()}}}function Qs(t){return t<.05?"#00fe87":t<.1?"#63fb6e":t<.15?"#8df755":t<.2?"#aef23e":t<.25?"#cbec27":t<.3?"#e6e50f":t<.35?"#ffdd00":t<.4?"#ffc400":t<.45?"#ffab00":t<.5?"#ff9000":t<.55?"#ff7400":t<.6?"#ff5618":"#f83027"}function Zs(t,e,a){let s,l,n,r="rating";q((()=>{a(2,s=function(){let t=[];for(let e in o.upcoming){let a=new Date(o.upcoming[e].date);o.upcoming[e].atHome&&t.push({time:a,home:e,away:o.upcoming[e].nextTeam})}return t.sort(((t,e)=>t.time-e.time)),t}()),a(3,l=function(){let t=[];for(let e in o.standings){let a=Object(o.standings[e][o._id]);a.team=e,t.push(a)}return t.sort(((t,e)=>t.position-e.position)),t}()),a(1,n=function(t){let e=[];for(let a of t){let t=[];for(let e in o.fixtures[a.team]){let s=o.fixtures[a.team][e],l=s.atHome?0:o.homeAdvantages[s.team].totalHomeAdvantage;t.push({team:s.team,date:s.date,atHome:s.atHome,status:s.status,colour:Qs(o.teamRatings[s.team].totalRating+l)})}e.push({team:a.team,matches:t})}return e}(l))}));let{data:o}=e;return t.$$set=t=>{"data"in t&&a(0,o=t.data)},t.$$.update=()=>{t.$$.dirty},[o,n,s,l,r,function(){if("rating"!==r){a(4,r="rating");for(let t of n)for(let e of t.matches){let t=e.atHome?0:o.homeAdvantages[e.team].totalHomeAdvantage;e.colour=Qs(o.teamRatings[e.team].totalRating+t)}a(1,n)}},function(){if("form"!==r){a(4,r="form");for(let e of n)for(let a of e.matches){let s=.5,l=Object.keys(o.form[e.team][o._id]).reverse(),n=a.atHome?0:o.homeAdvantages[a.team].totalHomeAdvantage;for(let t of l)null!=o.form[a.team][o._id][t].formRating5&&(s=o.form[a.team][o._id][t].formRating5);a.colour=(t=s+n)<.2?"#00fe87":t<.25?"#63fb6e":t<.35?"#8df755":t<.4?"#aef23e":t<.45?"#cbec27":t<.5?"#e6e50f":t<.55?"#ffdd00":t<.6?"#ffc400":t<.65?"#ffab00":t<.7?"#ff9000":t<.75?"#ff7400":t<.8?"#ff5618":"#f83027"}var t;a(1,n)}},t=>parseInt(t),t=>parseInt(t),t=>parseInt(t)]}class tl extends xt{constructor(t){super(),wt(this,t,Zs,Ks,r,{data:0})}}function el(t,e,a){const s=t.slice();return s[11]=e[a],s[13]=a,s}function al(t){let e,a=t[2],s=[];for(let e=0;e<a.length;e+=1)s[e]=ol(el(t,a,e));return{c(){e=V("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var a=A(e);for(let t=0;t<s.length;t+=1)s[t].l(a);a.forEach(E),this.h()},h(){G(e,"class","team-links svelte-1oblb1s")},m(t,a){x(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,l){if(15&l){let n;for(a=t[2],n=0;n<a.length;n+=1){const r=el(t,a,n);s[n]?s[n].p(r,l):(s[n]=ol(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(t){t&&E(e),D(s,t)}}}function sl(t){let e;function a(t,e){return 0===t[13]||1===t[13]&&null===t[2][0]?rl:t[13]===t[2].length-1||t[13]===t[2].length-2&&null===t[2][t[2].length-1]?nl:ll}let s=a(t),l=s(t);return{c(){l.c(),e=T()},l(t){l.l(t),e=T()},m(t,a){l.m(t,a),x(t,e,a)},p(t,n){s===(s=a(t))&&l?l.p(t,n):(l.d(1),l=s(t),l&&(l.c(),l.m(e.parentNode,e)))},d(t){l.d(t),t&&E(e)}}}function ll(t){let e,a,s,l,n=t[1](t[0][t[13]])+"";function r(){return t[9](t[11])}return{c(){e=V("button"),a=I(n),this.h()},l(t){e=S(t,"BUTTON",{style:!0,class:!0});var s=A(e);a=O(s,n),s.forEach(E),this.h()},h(){L(e,"color","var(--"+t[11]+"-secondary)"),L(e,"background-color","var(--"+t[11]+")"),G(e,"class","team-link svelte-1oblb1s")},m(t,n){x(t,e,n),w(e,a),s||(l=P(e,"click",r),s=!0)},p(s,l){t=s,3&l&&n!==(n=t[1](t[0][t[13]])+"")&&C(a,n),4&l&&L(e,"color","var(--"+t[11]+"-secondary)"),4&l&&L(e,"background-color","var(--"+t[11]+")")},d(t){t&&E(e),s=!1,l()}}}function nl(t){let e,a,s,l,n=t[1](t[0][t[13]])+"";function r(){return t[8](t[13])}return{c(){e=V("button"),a=I(n),this.h()},l(t){e=S(t,"BUTTON",{style:!0,class:!0});var s=A(e);a=O(s,n),s.forEach(E),this.h()},h(){L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),L(e,"background-color","var(--"+t[2][t[13]]+")"),G(e,"class","team-link last-team svelte-1oblb1s")},m(t,n){x(t,e,n),w(e,a),s||(l=P(e,"click",r),s=!0)},p(s,l){t=s,3&l&&n!==(n=t[1](t[0][t[13]])+"")&&C(a,n),4&l&&L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),4&l&&L(e,"background-color","var(--"+t[2][t[13]]+")")},d(t){t&&E(e),s=!1,l()}}}function rl(t){let e,a,s,l,n=t[1](t[0][t[13]])+"";function r(){return t[7](t[13])}return{c(){e=V("button"),a=I(n),this.h()},l(t){e=S(t,"BUTTON",{style:!0,class:!0});var s=A(e);a=O(s,n),s.forEach(E),this.h()},h(){L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),L(e,"background-color","var(--"+t[2][t[13]]+")"),G(e,"class","team-link first-team svelte-1oblb1s")},m(t,n){x(t,e,n),w(e,a),s||(l=P(e,"click",r),s=!0)},p(s,l){t=s,3&l&&n!==(n=t[1](t[0][t[13]])+"")&&C(a,n),4&l&&L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),4&l&&L(e,"background-color","var(--"+t[2][t[13]]+")")},d(t){t&&E(e),s=!1,l()}}}function ol(t){let e,a=null!=t[11]&&sl(t);return{c(){a&&a.c(),e=T()},l(t){a&&a.l(t),e=T()},m(t,s){a&&a.m(t,s),x(t,e,s)},p(t,s){null!=t[11]?a?a.p(t,s):(a=sl(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&E(e)}}}function il(e){let a,s=null!=e[2]&&al(e);return{c(){a=V("nav"),s&&s.c(),this.h()},l(t){a=S(t,"NAV",{id:!0,style:!0,class:!0});var e=A(a);s&&s.l(e),e.forEach(E),this.h()},h(){G(a,"id","mobileNav"),L(a,"width","0%"),G(a,"class","svelte-1oblb1s")},m(t,e){x(t,a,e),s&&s.m(a,null)},p(t,[e]){null!=t[2]?s?s.p(t,e):(s=al(t),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&E(a),s&&s.d()}}}function cl(t,e,a){function s(t){i(t),window.scrollTo(0,0),c()}let l,{hyphenatedTeam:n,teams:r,toAlias:o,switchTeam:i,toggleMobileNav:c}=e;return t.$$set=t=>{"hyphenatedTeam"in t&&a(4,n=t.hyphenatedTeam),"teams"in t&&a(0,r=t.teams),"toAlias"in t&&a(1,o=t.toAlias),"switchTeam"in t&&a(5,i=t.switchTeam),"toggleMobileNav"in t&&a(6,c=t.toggleMobileNav)},t.$$.update=()=>{17&t.$$.dirty&&n&&r.length>0&&function(){let t=[];for(let e=0;e<r.length;e++){let a=ie(r[e]);a!=n?t.push(a):t.push(null)}a(2,l=t)}()},[r,o,l,s,n,i,c,t=>{s(l[t])},t=>{s(l[t])},t=>{s(t)}]}class dl extends xt{constructor(t){super(),wt(this,t,cl,il,r,{hyphenatedTeam:4,teams:0,toAlias:1,switchTeam:5,toggleMobileNav:6})}}function fl(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function ul(t,e,a){return{x:t,y:e,type:"scatter",fill:"tozeroy",mode:"lines",name:"Scored",text:a,line:{color:"#00fe87"},hovertemplate:"%{text|%d %b %Y}<br>Avg scored: <b>%{y:.1f}</b><extra></extra>"}}function hl(t,e,a){return{x:t,y:e,type:"scatter",fill:"tozeroy",mode:"lines",name:"Conceded",text:a,line:{color:"#f83027"},hovertemplate:"%{text|%d %b %Y}<br>Avg conceded: <b>%{y:.1f}</b><extra></extra>"}}function ml(t,e){const a=new Date(t),s=new Date(e),l=a.getTime()-s.getTime();return Math.round(l/864e5)}function pl(t,e){let a=function(t,e,a){let s=[],l=t.form[e][t._id-a][1].date,n=0;for(let r=a-1;r>=0;r--){let a=t.form[e][t._id-r];for(let t of Object.keys(a)){let e=a[t];if(null!=e.score){let a,r;e.atHome?(a=e.score.homeGoals,r=e.score.awayGoals):(a=e.score.awayGoals,r=e.score.homeGoals),s.push({date:e.date,days:ml(e.date,l)-n,matchday:t,scored:a,conceded:r})}}if(r>0){let a=t.form[e][t._id-r][38].date;n+=ml(t.form[e][t._id-r+1][1].date,a),n-=14}}return s}(t,e,3);a.sort((function(t,e){return t.days<e.days?-1:t.days===e.days?0:1}));let s=[],l=[],n=[],r=[],o=[],i=[],c=[];for(let e=0;e<a.length;e++){if(s.push(a[e].date),l.push(a[e].days),e%38==37)n.push(a[e].days+7),r.push((e%38+1).toString()),o.push(a[e].days);else if(e%38==0)r.push((e%38+1).toString()),o.push(a[e].days);else if(e%38==19||e===a.length-1){let s=t._id-3+1+Math.floor(e/38);if(s!=t._id||"19"!=a[e].matchday){let t=`${String(s).slice(2)}/${String(s+1).slice(2)}`;r.push(t),o.push(a[e].days)}}i.push(a[e].scored),c.push(a[e].conceded)}for(let t=0;t<s.length;t++){let e=t-1,a=1;for(;e>t-5&&e>=0;)i[t]+=i[e],c[t]+=c[e],a+=1,e-=1;a>1&&(i[t]/=a,c[t]/=a)}return[s,l,n,r,o,i,c]}function vl(t,e,a,s){return[ul(t,e,s),hl(t,a,s)]}function gl(t,e,a){return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals (5-game avg)"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:e,ticktext:t},dragmode:!1,shapes:[...a],legend:{x:1,xanchor:"right",y:.95}}}function yl(t,e){let[a,s,l,n,r,o,i]=pl(t,e),c=Math.max(Math.max(...o),Math.max(...i)),d=function(t,e,a){let s=[];for(let l=0;l<t.length;l++)t[l]<e&&s.push({type:"line",x0:t[l],y0:0,x1:t[l],y1:a,line:{color:"black",dash:"dot",width:1}});return s}(l,s[s.length-1],c);return{data:[...vl(s,o,i,a)],layout:gl(n,r,d),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function $l(t,e,a){function s(){if(r){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(l,{},t)}}let l,n,r=!1;q((()=>{n=yl(o,i),new Plotly.newPlot(l,n.data,n.layout,n.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,r=!0)}));let{data:o,team:i,mobileView:c}=e;return t.$$set=t=>{"data"in t&&a(1,o=t.data),"team"in t&&a(2,i=t.team),"mobileView"in t&&a(3,c=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&i&&function(){if(r){let t=yl(o,i);n.data[0]=t.data[0],n.data[1]=t.data[1],n.layout.shapes=t.layout.shapes,n.layout.xaxis.ticktext=t.layout.xaxis.ticktext,n.layout.xaxis.tickvals=t.layout.xaxis.tickvals,Plotly.redraw(l),c&&s()}}(),8&t.$$.dirty&&!c&&function(){if(r){let t={"yaxis.title":{text:"Goals (5-game avg)"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(l,{},t)}}(),24&t.$$.dirty&&r&&c&&s()},[l,o,i,c,r,function(t){J[t?"unshift":"push"]((()=>{l=t,a(0,l)}))}]}class bl extends xt{constructor(t){super(),wt(this,t,$l,fl,r,{data:1,team:2,mobileView:3})}}const wl="https://pldashboard-backend.vercel.app/api",{document:xl,window:El}=g;function Dl(e){let a,s,l,n;return{c(){a=V("button"),s=I("Select Team"),this.h()},l(t){a=S(t,"BUTTON",{id:!0,class:!0});var e=A(a);s=O(e,"Select Team"),e.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),G(a,"class","svelte-fyzk09")},m(t,e){x(t,a,e),w(a,s),l||(n=P(a,"click",Nl),l=!0)},p:t,d(t){t&&E(a),l=!1,n()}}}function Vl(e){let a,s;return{c(){a=V("button"),s=I("Select Team"),this.h()},l(t){a=S(t,"BUTTON",{id:!0,style:!0,class:!0});var e=A(a);s=O(e,"Select Team"),e.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),L(a,"cursor","default"),G(a,"class","svelte-fyzk09")},m(t,e){x(t,a,e),w(a,s)},p:t,d(t){t&&E(a)}}}function kl(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{class:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(t,e){x(t,a,e),w(a,s)},p:t,i:t,o:t,d(t){t&&E(a)}}}function Il(t){let e,a,s,l,n;const r=[Tl,_l],o=[];function i(t,e){return"overview"===t[0]?0:1}return e=i(t),a=o[e]=r[e](t),l=new la({props:{lastUpdated:t[9].lastUpdated}}),{c(){a.c(),s=_(),vt(l.$$.fragment)},l(t){a.l(t),s=B(t),gt(l.$$.fragment,t)},m(t,a){o[e].m(t,a),x(t,s,a),yt(l,t,a),n=!0},p(t,n){let c=e;e=i(t),e===c?o[e].p(t,n):(it(),ft(o[c],1,1,(()=>{o[c]=null})),ct(),a=o[e],a?a.p(t,n):(a=o[e]=r[e](t),a.c()),dt(a,1),a.m(s.parentNode,s));const d={};512&n&&(d.lastUpdated=t[9].lastUpdated),l.$set(d)},i(t){n||(dt(a),dt(l.$$.fragment,t),n=!0)},o(t){ft(a),ft(l.$$.fragment,t),n=!1},d(t){o[e].d(t),t&&E(s),$t(l,t)}}}function _l(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,T,P,N,z,L,j,H,F,R,U,q,Y,W,X,K,Z,tt,et,at,st,lt=t[9].standings[t[5]][t[9]._id].position+"";function nt(e){t[14](e)}D=new ia({props:{data:t[9],team:t[5],mobileView:t[10]}}),z=new ye({props:{data:t[9],currentMatchday:t[7],team:t[5]}}),j=new Pe({props:{data:t[9],hyphenatedTeam:t[0],team:t[5],switchTeam:t[11]}}),R=new Fe({props:{data:t[9],team:t[5],switchTeam:t[11]}});let rt={data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]};void 0!==t[3]&&(rt.lazyLoad=t[3]),tt=new fa({props:rt}),J.push((()=>function(t,e,a){const s=t.$$.props[e];void 0!==s&&(t.$$.bound[s]=a,a(t.$$.ctx[s]))}(tt,"lazyLoad",nt)));let ot=t[3]&&Pl(t);return{c(){e=V("div"),a=V("div"),s=V("div"),l=V("div"),n=k("svg"),r=k("circle"),i=k("circle"),d=k("circle"),u=_(),h=V("div"),m=I(lt),p=_(),v=V("div"),g=V("h1"),y=I("Fixtures"),$=_(),b=V("div"),vt(D.$$.fragment),T=_(),P=V("div"),N=V("div"),vt(z.$$.fragment),L=_(),vt(j.$$.fragment),H=_(),F=V("div"),vt(R.$$.fragment),U=_(),q=V("div"),Y=V("div"),W=V("h1"),X=I("Form"),K=_(),Z=V("div"),vt(tt.$$.fragment),at=_(),ot&&ot.c(),this.h()},l(t){e=S(t,"DIV",{class:!0});var o=A(e);a=S(o,"DIV",{class:!0});var c=A(a);s=S(c,"DIV",{class:!0});var f=A(s);l=S(f,"DIV",{class:!0});var w=A(l);n=M(w,"svg",{class:!0});var x=A(n);r=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(r).forEach(E),i=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(i).forEach(E),d=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(d).forEach(E),x.forEach(E),w.forEach(E),u=B(f),h=S(f,"DIV",{class:!0});var V=A(h);m=O(V,lt),V.forEach(E),f.forEach(E),p=B(c),v=S(c,"DIV",{class:!0});var k=A(v);g=S(k,"H1",{class:!0});var I=A(g);y=O(I,"Fixtures"),I.forEach(E),$=B(k),b=S(k,"DIV",{class:!0});var _=A(b);gt(D.$$.fragment,_),_.forEach(E),k.forEach(E),c.forEach(E),T=B(o),P=S(o,"DIV",{class:!0});var G=A(P);N=S(G,"DIV",{class:!0});var C=A(N);gt(z.$$.fragment,C),L=B(C),gt(j.$$.fragment,C),C.forEach(E),H=B(G),F=S(G,"DIV",{class:!0});var J=A(F);gt(R.$$.fragment,J),J.forEach(E),G.forEach(E),U=B(o),q=S(o,"DIV",{class:!0});var Q=A(q);Y=S(Q,"DIV",{class:!0});var et=A(Y);W=S(et,"H1",{class:!0});var st=A(W);X=O(st,"Form"),st.forEach(E),K=B(et),Z=S(et,"DIV",{class:!0});var nt=A(Z);gt(tt.$$.fragment,nt),nt.forEach(E),et.forEach(E),Q.forEach(E),at=B(o),ot&&ot.l(o),o.forEach(E),this.h()},h(){G(r,"cx","300"),G(r,"cy","150"),G(r,"r","100"),G(r,"stroke-width","0"),G(r,"fill",o="var(--"+t[0]+"-secondary)"),G(i,"cx","170"),G(i,"cy","170"),G(i,"r","140"),G(i,"stroke-width","0"),G(i,"fill",c="var(--"+t[0]+")"),G(d,"cx","300"),G(d,"cy","320"),G(d,"r","170"),G(d,"stroke-width","0"),G(d,"fill",f="var(--"+t[0]+")"),G(n,"class","circles-background svelte-fyzk09"),G(l,"class","circles-background-container svelte-fyzk09"),G(h,"class","position-central svelte-fyzk09"),G(s,"class","row-left position-no-badge svelte-fyzk09"),G(g,"class","lowered svelte-fyzk09"),G(b,"class","graph mini-graph mobile-margin"),G(v,"class","row-right fixtures-graph row-graph svelte-fyzk09"),G(a,"class","row multi-element-row small-bottom-margin svelte-fyzk09"),G(N,"class","row-left form-details svelte-fyzk09"),G(F,"class","row-right svelte-fyzk09"),G(P,"class","row multi-element-row svelte-fyzk09"),G(W,"class","lowered svelte-fyzk09"),G(Z,"class","graph full-row-graph svelte-fyzk09"),G(Y,"class","form-graph row-graph svelte-fyzk09"),G(q,"class","row svelte-fyzk09"),G(e,"class","page-content svelte-fyzk09")},m(t,o){x(t,e,o),w(e,a),w(a,s),w(s,l),w(l,n),w(n,r),w(n,i),w(n,d),w(s,u),w(s,h),w(h,m),w(a,p),w(a,v),w(v,g),w(g,y),w(v,$),w(v,b),yt(D,b,null),w(e,T),w(e,P),w(P,N),yt(z,N,null),w(N,L),yt(j,N,null),w(P,H),w(P,F),yt(R,F,null),w(e,U),w(e,q),w(q,Y),w(Y,W),w(W,X),w(Y,K),w(Y,Z),yt(tt,Z,null),w(e,at),ot&&ot.m(e,null),st=!0},p(t,a){(!st||1&a&&o!==(o="var(--"+t[0]+"-secondary)"))&&G(r,"fill",o),(!st||1&a&&c!==(c="var(--"+t[0]+")"))&&G(i,"fill",c),(!st||1&a&&f!==(f="var(--"+t[0]+")"))&&G(d,"fill",f),(!st||544&a)&&lt!==(lt=t[9].standings[t[5]][t[9]._id].position+"")&&C(m,lt);const s={};512&a&&(s.data=t[9]),32&a&&(s.team=t[5]),1024&a&&(s.mobileView=t[10]),D.$set(s);const l={};512&a&&(l.data=t[9]),128&a&&(l.currentMatchday=t[7]),32&a&&(l.team=t[5]),z.$set(l);const n={};512&a&&(n.data=t[9]),1&a&&(n.hyphenatedTeam=t[0]),32&a&&(n.team=t[5]),j.$set(n);const u={};512&a&&(u.data=t[9]),32&a&&(u.team=t[5]),R.$set(u);const h={};var p;512&a&&(h.data=t[9]),32&a&&(h.team=t[5]),256&a&&(h.playedDates=t[8]),1024&a&&(h.mobileView=t[10]),!et&&8&a&&(et=!0,h.lazyLoad=t[3],p=()=>et=!1,Q.push(p)),tt.$set(h),t[3]?ot?(ot.p(t,a),8&a&&dt(ot,1)):(ot=Pl(t),ot.c(),dt(ot,1),ot.m(e,null)):ot&&(it(),ft(ot,1,1,(()=>{ot=null})),ct())},i(t){st||(dt(D.$$.fragment,t),dt(z.$$.fragment,t),dt(j.$$.fragment,t),dt(R.$$.fragment,t),dt(tt.$$.fragment,t),dt(ot),st=!0)},o(t){ft(D.$$.fragment,t),ft(z.$$.fragment,t),ft(j.$$.fragment,t),ft(R.$$.fragment,t),ft(tt.$$.fragment,t),ft(ot),st=!1},d(t){t&&E(e),$t(D),$t(z),$t(j),$t(R),$t(tt),ot&&ot.d()}}}function Tl(t){let e,a;return e=new tl({props:{data:t[9]}}),{c(){vt(e.$$.fragment)},l(t){gt(e.$$.fragment,t)},m(t,s){yt(e,t,s),a=!0},p(t,a){const s={};512&a&&(s.data=t[9]),e.$set(s)},i(t){a||(dt(e.$$.fragment,t),a=!0)},o(t){ft(e.$$.fragment,t),a=!1},d(t){$t(e,t)}}}function Pl(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,tt,et,at,st,lt,nt,rt,ot,it,ct,ut,ht,mt,pt,bt;return o=new ma({props:{data:t[9],team:t[5],mobileView:t[10]}}),p=new ga({props:{data:t[9],team:t[5],mobileView:t[10]}}),T=new Va({props:{data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]}}),C=new Pa({props:{data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]}}),H=new ta({props:{data:t[9],team:t[5]}}),Y=new bl({props:{data:t[9],team:t[5],mobileView:t[10]}}),tt=new Ka({props:{data:t[9],team:t[5],mobileView:t[10]}}),nt=new xs({props:{data:t[9],team:t[5],mobileView:t[10]}}),pt=new ms({props:{data:t[9],team:t[5],teams:t[6]}}),{c(){e=V("div"),a=V("div"),s=V("h1"),l=I("Position"),n=_(),r=V("div"),vt(o.$$.fragment),i=_(),c=V("div"),d=V("div"),f=V("h1"),u=I("Points"),h=_(),m=V("div"),vt(p.$$.fragment),v=_(),g=V("div"),y=V("div"),$=V("h1"),b=I("Goals Per Game"),D=_(),k=V("div"),vt(T.$$.fragment),P=_(),N=V("div"),z=V("div"),M=V("div"),vt(C.$$.fragment),L=_(),j=V("div"),vt(H.$$.fragment),F=_(),R=V("div"),U=V("div"),q=V("div"),vt(Y.$$.fragment),W=_(),X=V("div"),J=V("div"),K=V("h1"),Q=I("Scorelines"),Z=_(),vt(tt.$$.fragment),et=_(),at=V("div"),st=V("div"),lt=V("div"),vt(nt.$$.fragment),rt=_(),ot=V("div"),it=V("div"),ct=V("h1"),ut=I("Team Comparison"),ht=_(),mt=V("div"),vt(pt.$$.fragment),this.h()},l(t){e=S(t,"DIV",{class:!0});var w=A(e);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"H1",{class:!0});var V=A(s);l=O(V,"Position"),V.forEach(E),n=B(x),r=S(x,"DIV",{class:!0});var I=A(r);gt(o.$$.fragment,I),I.forEach(E),x.forEach(E),w.forEach(E),i=B(t),c=S(t,"DIV",{class:!0});var _=A(c);d=S(_,"DIV",{class:!0});var G=A(d);f=S(G,"H1",{class:!0});var dt=A(f);u=O(dt,"Points"),dt.forEach(E),h=B(G),m=S(G,"DIV",{class:!0});var ft=A(m);gt(p.$$.fragment,ft),ft.forEach(E),G.forEach(E),_.forEach(E),v=B(t),g=S(t,"DIV",{class:!0});var vt=A(g);y=S(vt,"DIV",{class:!0});var yt=A(y);$=S(yt,"H1",{class:!0});var $t=A($);b=O($t,"Goals Per Game"),$t.forEach(E),D=B(yt),k=S(yt,"DIV",{class:!0});var bt=A(k);gt(T.$$.fragment,bt),bt.forEach(E),yt.forEach(E),vt.forEach(E),P=B(t),N=S(t,"DIV",{class:!0});var wt=A(N);z=S(wt,"DIV",{class:!0});var xt=A(z);M=S(xt,"DIV",{class:!0});var Et=A(M);gt(C.$$.fragment,Et),Et.forEach(E),xt.forEach(E),wt.forEach(E),L=B(t),j=S(t,"DIV",{class:!0});var Dt=A(j);gt(H.$$.fragment,Dt),Dt.forEach(E),F=B(t),R=S(t,"DIV",{class:!0});var Vt=A(R);U=S(Vt,"DIV",{class:!0});var kt=A(U);q=S(kt,"DIV",{class:!0});var It=A(q);gt(Y.$$.fragment,It),It.forEach(E),kt.forEach(E),Vt.forEach(E),W=B(t),X=S(t,"DIV",{class:!0});var _t=A(X);J=S(_t,"DIV",{class:!0});var Tt=A(J);K=S(Tt,"H1",{});var Pt=A(K);Q=O(Pt,"Scorelines"),Pt.forEach(E),Z=B(Tt),gt(tt.$$.fragment,Tt),Tt.forEach(E),_t.forEach(E),et=B(t),at=S(t,"DIV",{class:!0});var Gt=A(at);st=S(Gt,"DIV",{class:!0});var At=A(st);lt=S(At,"DIV",{class:!0});var Nt=A(lt);gt(nt.$$.fragment,Nt),Nt.forEach(E),At.forEach(E),Gt.forEach(E),rt=B(t),ot=S(t,"DIV",{class:!0});var zt=A(ot);it=S(zt,"DIV",{class:!0});var St=A(it);ct=S(St,"H1",{});var Mt=A(ct);ut=O(Mt,"Team Comparison"),Mt.forEach(E),ht=B(St),mt=S(St,"DIV",{class:!0});var Ot=A(mt);gt(pt.$$.fragment,Ot),Ot.forEach(E),St.forEach(E),zt.forEach(E),this.h()},h(){G(s,"class","lowered svelte-fyzk09"),G(r,"class","graph full-row-graph svelte-fyzk09"),G(a,"class","position-over-time-graph row-graph svelte-fyzk09"),G(e,"class","row svelte-fyzk09"),G(f,"class","lowered svelte-fyzk09"),G(m,"class","graph full-row-graph svelte-fyzk09"),G(d,"class","position-over-time-graph row-graph svelte-fyzk09"),G(c,"class","row svelte-fyzk09"),G($,"class","lowered svelte-fyzk09"),G(k,"class","graph full-row-graph svelte-fyzk09"),G(y,"class","goals-scored-vs-conceded-graph row-graph svelte-fyzk09"),G(g,"class","row no-bottom-margin svelte-fyzk09"),G(M,"class","clean-sheets graph full-row-graph svelte-fyzk09"),G(z,"class","row-graph svelte-fyzk09"),G(N,"class","row svelte-fyzk09"),G(j,"class","season-stats-row svelte-fyzk09"),G(q,"class","graph full-row-graph svelte-fyzk09"),G(U,"class","row-graph svelte-fyzk09"),G(R,"class","row svelte-fyzk09"),G(J,"class","goals-freq-row row-graph svelte-fyzk09"),G(X,"class","row svelte-fyzk09"),G(lt,"class","score-freq graph svelte-fyzk09"),G(st,"class","row-graph svelte-fyzk09"),G(at,"class","row svelte-fyzk09"),G(mt,"class","spider-chart-container svelte-fyzk09"),G(it,"class","spider-chart-row row-graph svelte-fyzk09"),G(ot,"class","row svelte-fyzk09")},m(t,E){x(t,e,E),w(e,a),w(a,s),w(s,l),w(a,n),w(a,r),yt(o,r,null),x(t,i,E),x(t,c,E),w(c,d),w(d,f),w(f,u),w(d,h),w(d,m),yt(p,m,null),x(t,v,E),x(t,g,E),w(g,y),w(y,$),w($,b),w(y,D),w(y,k),yt(T,k,null),x(t,P,E),x(t,N,E),w(N,z),w(z,M),yt(C,M,null),x(t,L,E),x(t,j,E),yt(H,j,null),x(t,F,E),x(t,R,E),w(R,U),w(U,q),yt(Y,q,null),x(t,W,E),x(t,X,E),w(X,J),w(J,K),w(K,Q),w(J,Z),yt(tt,J,null),x(t,et,E),x(t,at,E),w(at,st),w(st,lt),yt(nt,lt,null),x(t,rt,E),x(t,ot,E),w(ot,it),w(it,ct),w(ct,ut),w(it,ht),w(it,mt),yt(pt,mt,null),bt=!0},p(t,e){const a={};512&e&&(a.data=t[9]),32&e&&(a.team=t[5]),1024&e&&(a.mobileView=t[10]),o.$set(a);const s={};512&e&&(s.data=t[9]),32&e&&(s.team=t[5]),1024&e&&(s.mobileView=t[10]),p.$set(s);const l={};512&e&&(l.data=t[9]),32&e&&(l.team=t[5]),256&e&&(l.playedDates=t[8]),1024&e&&(l.mobileView=t[10]),T.$set(l);const n={};512&e&&(n.data=t[9]),32&e&&(n.team=t[5]),256&e&&(n.playedDates=t[8]),1024&e&&(n.mobileView=t[10]),C.$set(n);const r={};512&e&&(r.data=t[9]),32&e&&(r.team=t[5]),H.$set(r);const i={};512&e&&(i.data=t[9]),32&e&&(i.team=t[5]),1024&e&&(i.mobileView=t[10]),Y.$set(i);const c={};512&e&&(c.data=t[9]),32&e&&(c.team=t[5]),1024&e&&(c.mobileView=t[10]),tt.$set(c);const d={};512&e&&(d.data=t[9]),32&e&&(d.team=t[5]),1024&e&&(d.mobileView=t[10]),nt.$set(d);const f={};512&e&&(f.data=t[9]),32&e&&(f.team=t[5]),64&e&&(f.teams=t[6]),pt.$set(f)},i(t){bt||(dt(o.$$.fragment,t),dt(p.$$.fragment,t),dt(T.$$.fragment,t),dt(C.$$.fragment,t),dt(H.$$.fragment,t),dt(Y.$$.fragment,t),dt(tt.$$.fragment,t),dt(nt.$$.fragment,t),dt(pt.$$.fragment,t),bt=!0)},o(t){ft(o.$$.fragment,t),ft(p.$$.fragment,t),ft(T.$$.fragment,t),ft(C.$$.fragment,t),ft(H.$$.fragment,t),ft(Y.$$.fragment,t),ft(tt.$$.fragment,t),ft(nt.$$.fragment,t),ft(pt.$$.fragment,t),bt=!1},d(t){t&&E(e),$t(o),t&&E(i),t&&E(c),$t(p),t&&E(v),t&&E(g),$t(T),t&&E(P),t&&E(N),$t(C),t&&E(L),t&&E(j),$t(H),t&&E(F),t&&E(R),$t(Y),t&&E(W),t&&E(X),$t(tt),t&&E(et),t&&E(at),$t(nt),t&&E(rt),t&&E(ot),$t(pt)}}}function Gl(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g=(""==t[5]||"Overview"==t[5]?t[5]:oe(t[5]))+"";function y(t,e){return 0===t[6].length?Vl:Dl}a=new zs({props:{team:t[0],teams:t[6],toAlias:oe,switchTeam:t[11]}}),l=new dl({props:{hyphenatedTeam:t[0],teams:t[6],toAlias:oe,switchTeam:t[11],toggleMobileNav:Nl}});let $=y(t),b=$(t);const D=[Il,kl],k=[];function T(t,e){return null!=t[9]?0:1}return m=T(t),p=k[m]=D[m](t),{c(){e=V("div"),vt(a.$$.fragment),s=_(),vt(l.$$.fragment),n=_(),b.c(),r=_(),o=V("div"),i=V("div"),c=V("a"),d=V("div"),f=I(g),h=_(),p.c(),this.h()},l(t){e=S(t,"DIV",{id:!0,class:!0});var u=A(e);gt(a.$$.fragment,u),s=B(u),gt(l.$$.fragment,u),n=B(u),b.l(u),r=B(u),o=S(u,"DIV",{id:!0,class:!0});var m=A(o);i=S(m,"DIV",{class:!0,style:!0});var v=A(i);c=S(v,"A",{class:!0,href:!0});var y=A(c);d=S(y,"DIV",{class:!0,style:!0});var $=A(d);f=O($,g),$.forEach(E),y.forEach(E),v.forEach(E),h=B(m),p.l(m),m.forEach(E),u.forEach(E),this.h()},h(){G(d,"class","title svelte-fyzk09"),L(d,"color","var(--"+t[0]+"-secondary)"),G(c,"class","main-link no-decoration svelte-fyzk09"),G(c,"href",u="/"+t[0]),G(i,"class","header svelte-fyzk09"),L(i,"background-color","var(--"+t[0]+")"),G(o,"id","dashboard"),G(o,"class","svelte-fyzk09"),G(e,"id","team"),G(e,"class","svelte-fyzk09")},m(t,u){x(t,e,u),yt(a,e,null),w(e,s),yt(l,e,null),w(e,n),b.m(e,null),w(e,r),w(e,o),w(o,i),w(i,c),w(c,d),w(d,f),w(o,h),k[m].m(o,null),v=!0},p(t,s){const n={};1&s&&(n.team=t[0]),64&s&&(n.teams=t[6]),a.$set(n);const h={};1&s&&(h.hyphenatedTeam=t[0]),64&s&&(h.teams=t[6]),l.$set(h),$===($=y(t))&&b?b.p(t,s):(b.d(1),b=$(t),b&&(b.c(),b.m(e,r))),(!v||32&s)&&g!==(g=(""==t[5]||"Overview"==t[5]?t[5]:oe(t[5]))+"")&&C(f,g),(!v||1&s)&&L(d,"color","var(--"+t[0]+"-secondary)"),(!v||1&s&&u!==(u="/"+t[0]))&&G(c,"href",u),(!v||1&s)&&L(i,"background-color","var(--"+t[0]+")");let w=m;m=T(t),m===w?k[m].p(t,s):(it(),ft(k[w],1,1,(()=>{k[w]=null})),ct(),p=k[m],p?p.p(t,s):(p=k[m]=D[m](t),p.c()),dt(p,1),p.m(o,null))},i(t){v||(dt(a.$$.fragment,t),dt(l.$$.fragment,t),dt(p),v=!0)},o(t){ft(a.$$.fragment,t),ft(l.$$.fragment,t),ft(p),v=!1},d(t){t&&E(e),$t(a),$t(l),b.d(),k[m].d()}}}function Al(t){let e,a,s,n,r,o,i,c,d=!1,f=()=>{d=!1};return et(t[12]),et(t[13]),xl.title=a=t[4],r=new Zt({props:{$$slots:{default:[Gl]},$$scope:{ctx:t}}}),{c(){s=V("meta"),n=_(),vt(r.$$.fragment),this.h()},l(t){const e=H("svelte-1b9t1l7",xl.head);s=S(e,"META",{name:!0,content:!0}),e.forEach(E),n=B(t),gt(r.$$.fragment,t),this.h()},h(){G(s,"name","description"),G(s,"content","Premier League Statistics Dashboard")},m(a,l){w(xl.head,s),x(a,n,l),yt(r,a,l),o=!0,i||(c=[P(El,"resize",t[12]),P(El,"scroll",(()=>{d=!0,clearTimeout(e),e=setTimeout(f,100),t[13]()}))],i=!0)},p(t,[s]){2&s&&!d&&(d=!0,clearTimeout(e),scrollTo(El.pageXOffset,t[1]),e=setTimeout(f,100)),(!o||16&s)&&a!==(a=t[4])&&(xl.title=a);const l={};264169&s&&(l.$$scope={dirty:s,ctx:t}),r.$set(l)},i(t){o||(dt(r.$$.fragment,t),o=!0)},o(t){ft(r.$$.fragment,t),o=!1},d(t){E(s),t&&E(n),$t(r,t),i=!1,l(c)}}}function Nl(){let t=document.getElementById("mobileNav");"0%"===t.style.width?(t.style.display="block",t.style.width="100%"):(t.style.display="none",t.style.width="0%")}function zl(t){switch(t){case"brighton":return"brighton-and-hove-albion";case"palace":return"crystal-palace";case"united":return"manchester-united";case"city":return"city";case"nottingham":return"nottingham-forest";case"luton":return"luton-town";case"sheffield":return"sheffield-united";case"villa":return"aston-villa";case"spurs":return"tottenham-hotspur";case"wolves":return"wolverhampton-wanderers";default:return t}}function Sl(t,e,a){let s,l;function n(t,e){let a=fe(t,e);0===a.length&&(a=Object.keys(t.fixtures[e]));let s=[];for(let e=0;e<a.length;e++){let l=[];for(let s in t.standings)l.push(new Date(t.fixtures[s][a[e]].date));l.sort(),s.push(l[Math.floor(l.length/2)])}return s.sort((function(t,e){return t-e})),s}let r,o,i,c,d=!1,f="Dashboard",u="",h=[];q((()=>{!async function(){"overview"===m?(a(5,u="Overview"),a(4,f="Dashboard | Overview")):null!=m&&(a(0,m=zl(m)),a(5,u=Ne(m.replace(/\-/g," "))),a(4,f=`Dashboard | ${u}`));const t=await fetch(`${wl}/teams`);if(!t.ok)return;let e=await t.json();a(6,h=Object.keys(e.standings)),null===m?(a(5,u=h[0]),a(4,f=`Dashboard | ${u}`),a(0,m=ie(u)),history.pushState({},null,window.location.href+m)):"Overview"==u||""==u||h.includes(u)||(window.location.href="/error"),"Overview"!=u&&""!=u&&(a(7,o=ue(e,u)),a(8,i=n(e,u))),a(9,c=e),console.log(c),window.dispatchEvent(new Event("resize"))}()}));let{slug:m}=e;return t.$$set=t=>{"slug"in t&&a(0,m=t.slug)},t.$$.update=()=>{2&t.$$.dirty&&l>30&&(a(3,d=!0),window.dispatchEvent(new Event("resize"))),4&t.$$.dirty&&a(10,s=r<=700)},[m,l,r,d,f,u,h,o,i,c,s,function(t){a(0,m=t),"overview"===m?(a(5,u="Overview"),a(4,f="Dashboard | Overview")):(a(0,m=zl(m)),a(5,u=Ne(m.replace(/\-/g," "))),a(4,f=`Dashboard | ${u}`),a(7,o=ue(c,u)),a(8,i=n(c,u))),window.history.pushState(null,null,m)},function(){a(2,r=El.innerWidth)},function(){a(1,l=El.pageYOffset)},function(t){d=t,a(3,d)}]}class Ml extends xt{constructor(t){super(),wt(this,t,Sl,Al,r,{slug:0})}}function Ol(e){let a,s,l,n,r,o,c,d,f,u,h,m,p;return{c(){a=V("div"),s=V("div"),l=V("div"),n=_(),r=V("img"),c=_(),d=V("div"),f=V("a"),u=I("Dashboard"),h=_(),m=V("a"),p=I("Fantasy"),this.h()},l(t){a=S(t,"DIV",{id:!0,class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var o=A(s);l=S(o,"DIV",{id:!0,class:!0}),A(l).forEach(E),n=B(o),r=S(o,"IMG",{src:!0,alt:!0,class:!0}),c=B(o),d=S(o,"DIV",{class:!0});var i=A(d);f=S(i,"A",{class:!0,href:!0});var v=A(f);u=O(v,"Dashboard"),v.forEach(E),h=B(i),m=S(i,"A",{class:!0,href:!0});var g=A(m);p=O(g,"Fantasy"),g.forEach(E),i.forEach(E),o.forEach(E),e.forEach(E),this.h()},h(){G(l,"id","circle"),G(l,"class","svelte-1ammpnm"),i(r.src,o="img/pldashboard5.png")||G(r,"src","img/pldashboard5.png"),G(r,"alt","pldashboard"),G(r,"class","svelte-1ammpnm"),G(f,"class","dashboard-link svelte-1ammpnm"),G(f,"href","/"),G(m,"class","fantasy-link svelte-1ammpnm"),G(m,"href","/fantasy"),G(d,"class","links svelte-1ammpnm"),G(s,"class","content svelte-1ammpnm"),G(a,"id","home"),G(a,"class","svelte-1ammpnm")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(s,n),w(s,r),w(s,c),w(s,d),w(d,f),w(f,u),w(d,h),w(d,m),w(m,p)},p:t,d(t){t&&E(a)}}}function Bl(t){let e,a,s,l;return s=new Zt({props:{$$slots:{default:[Ol]},$$scope:{ctx:t}}}),{c(){e=V("meta"),a=_(),vt(s.$$.fragment),this.h()},l(t){const l=H("svelte-96hcuw",document.head);e=S(l,"META",{name:!0,content:!0}),l.forEach(E),a=B(t),gt(s.$$.fragment,t),this.h()},h(){document.title="Premier League Dashboard",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,n){w(document.head,e),x(t,a,n),yt(s,t,n),l=!0},p(t,[e]){const a={};1&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a)},i(t){l||(dt(s.$$.fragment,t),l=!0)},o(t){ft(s.$$.fragment,t),l=!1},d(t){E(e),t&&E(a),$t(s,t)}}}class Cl extends xt{constructor(t){super(),wt(this,t,null,Bl,r,{})}}const{document:Ll}=g;function jl(t,e,a){const s=t.slice();return s[3]=e[a]._id,s[4]=e[a].predictions,s}function Hl(t,e,a){const s=t.slice();return s[7]=e[a],s}function Fl(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{class:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(t,e){x(t,a,e),w(a,s)},p:t,d(t){t&&E(a)}}}function Rl(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$=(100*t[0].accuracy.scoreAccuracy).toFixed(2)+"",b=(100*t[0].accuracy.resultAccuracy).toFixed(2)+"",D=null!=t[0].predictions&&Ul(t);return{c(){e=V("div"),a=V("div"),s=V("div"),l=V("span"),n=I("Predicting with accuracy: "),r=V("b"),o=I($),i=I("%"),c=V("br"),d=_(),f=V("div"),u=I("General results accuracy: "),h=V("b"),m=I(b),p=I("%"),v=_(),g=V("div"),y=V("div"),D&&D.c(),this.h()},l(t){e=S(t,"DIV",{class:!0});var w=A(e);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"DIV",{class:!0});var V=A(s);l=S(V,"SPAN",{class:!0});var k=A(l);n=O(k,"Predicting with accuracy: "),r=S(k,"B",{});var I=A(r);o=O(I,$),i=O(I,"%"),I.forEach(E),k.forEach(E),c=S(V,"BR",{}),d=B(V),f=S(V,"DIV",{class:!0});var _=A(f);u=O(_,"General results accuracy: "),h=S(_,"B",{});var T=A(h);m=O(T,b),p=O(T,"%"),T.forEach(E),_.forEach(E),V.forEach(E),x.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var P=A(g);y=S(P,"DIV",{class:!0});var G=A(y);D&&D.l(G),G.forEach(E),P.forEach(E),w.forEach(E),this.h()},h(){G(l,"class","accuracy-item svelte-oak57v"),G(f,"class","accuracy-item svelte-oak57v"),G(s,"class","accuracy svelte-oak57v"),G(a,"class","accuracy-display svelte-oak57v"),G(y,"class","predictions svelte-oak57v"),G(g,"class","predictions-container svelte-oak57v"),G(e,"class","page-content svelte-oak57v")},m(t,$){x(t,e,$),w(e,a),w(a,s),w(s,l),w(l,n),w(l,r),w(r,o),w(r,i),w(s,c),w(s,d),w(s,f),w(f,u),w(f,h),w(h,m),w(h,p),w(e,v),w(e,g),w(g,y),D&&D.m(y,null)},p(t,e){1&e&&$!==($=(100*t[0].accuracy.scoreAccuracy).toFixed(2)+"")&&C(o,$),1&e&&b!==(b=(100*t[0].accuracy.resultAccuracy).toFixed(2)+"")&&C(m,b),null!=t[0].predictions?D?D.p(t,e):(D=Ul(t),D.c(),D.m(y,null)):D&&(D.d(1),D=null)},d(t){t&&E(e),D&&D.d()}}}function Ul(t){let e,a=t[0].predictions,s=[];for(let e=0;e<a.length;e+=1)s[e]=Jl(jl(t,a,e));return{c(){for(let t=0;t<s.length;t+=1)s[t].c();e=T()},l(t){for(let e=0;e<s.length;e+=1)s[e].l(t);e=T()},m(t,a){for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,a);x(t,e,a)},p(t,l){if(1&l){let n;for(a=t[0].predictions,n=0;n<a.length;n+=1){const r=jl(t,a,n);s[n]?s[n].p(r,l):(s[n]=Jl(r),s[n].c(),s[n].m(e.parentNode,e))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(t){D(s,t),t&&E(e)}}}function ql(t){let e,a,s=Zl(t[7].datetime)+"";return{c(){e=V("div"),a=I(s),this.h()},l(t){e=S(t,"DIV",{class:!0});var l=A(e);a=O(l,s),l.forEach(E),this.h()},h(){G(e,"class","prediction-time svelte-oak57v")},m(t,s){x(t,e,s),w(e,a)},p(t,e){1&e&&s!==(s=Zl(t[7].datetime)+"")&&C(a,s)},d(t){t&&E(e)}}}function Yl(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v=t[7].home+"",g=t[7].actual.homeGoals+"",y=t[7].actual.awayGoals+"",$=t[7].away+"";return{c(){e=V("div"),a=V("div"),s=I("Actual:"),l=_(),n=V("div"),r=V("div"),o=I(v),i=_(),c=V("div"),d=I(g),f=I(" - "),u=I(y),h=_(),m=V("div"),p=I($),this.h()},l(t){e=S(t,"DIV",{class:!0});var b=A(e);a=S(b,"DIV",{class:!0});var w=A(a);s=O(w,"Actual:"),w.forEach(E),l=B(b),n=S(b,"DIV",{class:!0});var x=A(n);r=S(x,"DIV",{class:!0});var D=A(r);o=O(D,v),D.forEach(E),i=B(x),c=S(x,"DIV",{class:!0});var V=A(c);d=O(V,g),f=O(V," - "),u=O(V,y),V.forEach(E),h=B(x),m=S(x,"DIV",{class:!0});var k=A(m);p=O(k,$),k.forEach(E),x.forEach(E),b.forEach(E),this.h()},h(){G(a,"class","prediction-label svelte-oak57v"),G(r,"class","prediction-initials svelte-oak57v"),G(c,"class","prediction-score svelte-oak57v"),G(m,"class","prediction-initials svelte-oak57v"),G(n,"class","prediction-value svelte-oak57v"),G(e,"class","actual prediction-item svelte-oak57v")},m(t,v){x(t,e,v),w(e,a),w(a,s),w(e,l),w(e,n),w(n,r),w(r,o),w(n,i),w(n,c),w(c,d),w(c,f),w(c,u),w(n,h),w(n,m),w(m,p)},p(t,e){1&e&&v!==(v=t[7].home+"")&&C(o,v),1&e&&g!==(g=t[7].actual.homeGoals+"")&&C(d,g),1&e&&y!==(y=t[7].actual.awayGoals+"")&&C(u,y),1&e&&$!==($=t[7].away+"")&&C(p,$)},d(t){t&&E(e)}}}function Wl(t){let e,a,s,l,n,r,o,i=t[7].prediction.homeGoals+"",c=t[7].prediction.awayGoals+"";return{c(){e=V("div"),a=V("div"),s=V("b"),l=I(i),n=I(" - "),r=I(c),this.h()},l(t){e=S(t,"DIV",{class:!0,id:!0});var o=A(e);a=S(o,"DIV",{class:!0});var d=A(a);s=S(d,"B",{});var f=A(s);l=O(f,i),n=O(f," - "),r=O(f,c),f.forEach(E),d.forEach(E),o.forEach(E),this.h()},h(){G(a,"class","detailed-predicted-score svelte-oak57v"),G(e,"class","prediction-details svelte-oak57v"),G(e,"id",o=t[7]._id)},m(t,o){x(t,e,o),w(e,a),w(a,s),w(s,l),w(s,n),w(s,r)},p(t,a){1&a&&i!==(i=t[7].prediction.homeGoals+"")&&C(l,i),1&a&&c!==(c=t[7].prediction.awayGoals+"")&&C(r,c),1&a&&o!==(o=t[7]._id)&&G(e,"id",o)},d(t){t&&E(e)}}}function Xl(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k=t[7].home+"",T=Math.round(t[7].prediction.homeGoals)+"",N=Math.round(t[7].prediction.awayGoals)+"",z=t[7].away+"";function M(t,e){return null!=t[7].actual?Yl:ql}let L=M(t),j=L(t),H=null!=t[7].prediction&&Wl(t);function F(){return t[1](t[7])}return{c(){e=V("button"),a=V("div"),s=V("div"),l=I("Predicted:"),n=_(),r=V("div"),o=V("div"),i=I(k),c=_(),d=V("div"),f=I(T),u=I(" - "),h=I(N),m=_(),p=V("div"),v=I(z),g=_(),j.c(),y=_(),H&&H.c(),this.h()},l(t){e=S(t,"BUTTON",{class:!0});var $=A(e);a=S($,"DIV",{class:!0});var b=A(a);s=S(b,"DIV",{class:!0});var w=A(s);l=O(w,"Predicted:"),w.forEach(E),n=B(b),r=S(b,"DIV",{class:!0});var x=A(r);o=S(x,"DIV",{class:!0});var D=A(o);i=O(D,k),D.forEach(E),c=B(x),d=S(x,"DIV",{class:!0});var V=A(d);f=O(V,T),u=O(V," - "),h=O(V,N),V.forEach(E),m=B(x),p=S(x,"DIV",{class:!0});var I=A(p);v=O(I,z),I.forEach(E),x.forEach(E),b.forEach(E),g=B($),j.l($),y=B($),H&&H.l($),$.forEach(E),this.h()},h(){G(s,"class","prediction-label svelte-oak57v"),G(o,"class","prediction-initials svelte-oak57v"),G(d,"class","prediction-score svelte-oak57v"),G(p,"class","prediction-initials svelte-oak57v"),G(r,"class","prediction-value svelte-oak57v"),G(a,"class","prediction prediction-item svelte-oak57v"),G(e,"class",$="prediction-container "+t[7].colour+" svelte-oak57v")},m(t,$){x(t,e,$),w(e,a),w(a,s),w(s,l),w(a,n),w(a,r),w(r,o),w(o,i),w(r,c),w(r,d),w(d,f),w(d,u),w(d,h),w(r,m),w(r,p),w(p,v),w(e,g),j.m(e,null),w(e,y),H&&H.m(e,null),b||(D=P(e,"click",F),b=!0)},p(a,s){t=a,1&s&&k!==(k=t[7].home+"")&&C(i,k),1&s&&T!==(T=Math.round(t[7].prediction.homeGoals)+"")&&C(f,T),1&s&&N!==(N=Math.round(t[7].prediction.awayGoals)+"")&&C(h,N),1&s&&z!==(z=t[7].away+"")&&C(v,z),L===(L=M(t))&&j?j.p(t,s):(j.d(1),j=L(t),j&&(j.c(),j.m(e,y))),null!=t[7].prediction?H?H.p(t,s):(H=Wl(t),H.c(),H.m(e,null)):H&&(H.d(1),H=null),1&s&&$!==($="prediction-container "+t[7].colour+" svelte-oak57v")&&G(e,"class",$)},d(t){t&&E(e),j.d(),H&&H.d(),b=!1,D()}}}function Jl(t){let e,a,s,l,n,r,o,i=t[3]+"",c=t[4],d=[];for(let e=0;e<c.length;e+=1)d[e]=Xl(Hl(t,c,e));return{c(){e=V("div"),a=I(i),s=_(),l=V("div"),n=_();for(let t=0;t<d.length;t+=1)d[t].c();r=_(),o=V("div"),this.h()},l(t){e=S(t,"DIV",{class:!0});var c=A(e);a=O(c,i),c.forEach(E),s=B(t),l=S(t,"DIV",{class:!0}),A(l).forEach(E),n=B(t);for(let e=0;e<d.length;e+=1)d[e].l(t);r=B(t),o=S(t,"DIV",{class:!0}),A(o).forEach(E),this.h()},h(){G(e,"class","date svelte-oak57v"),G(l,"class","medium-predictions-divider svelte-oak57v"),G(o,"class","predictions-gap svelte-oak57v")},m(t,i){x(t,e,i),w(e,a),x(t,s,i),x(t,l,i),x(t,n,i);for(let e=0;e<d.length;e+=1)d[e]&&d[e].m(t,i);x(t,r,i),x(t,o,i)},p(t,e){if(1&e&&i!==(i=t[3]+"")&&C(a,i),1&e){let a;for(c=t[4],a=0;a<c.length;a+=1){const s=Hl(t,c,a);d[a]?d[a].p(s,e):(d[a]=Xl(s),d[a].c(),d[a].m(r.parentNode,r))}for(;a<d.length;a+=1)d[a].d(1);d.length=c.length}},d(t){t&&E(e),t&&E(s),t&&E(l),t&&E(n),D(d,t),t&&E(r),t&&E(o)}}}function Kl(t){let e,a,s,l,n;function r(t,e){return null!=t[0]?Rl:Fl}let o=r(t),i=o(t);return{c(){e=V("div"),a=V("div"),s=V("a"),l=I("Predictions"),n=_(),i.c(),this.h()},l(t){e=S(t,"DIV",{id:!0,class:!0});var r=A(e);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"A",{class:!0,href:!0});var c=A(s);l=O(c,"Predictions"),c.forEach(E),o.forEach(E),n=B(r),i.l(r),r.forEach(E),this.h()},h(){G(s,"class","predictions-title svelte-oak57v"),G(s,"href","/predictions"),G(a,"class","predictions-header svelte-oak57v"),G(e,"id","predictions"),G(e,"class","svelte-oak57v")},m(t,r){x(t,e,r),w(e,a),w(a,s),w(s,l),w(e,n),i.m(e,null)},p(t,a){o===(o=r(t))&&i?i.p(t,a):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&E(e),i.d()}}}function Ql(t){let e,a,s,l;return s=new Zt({props:{$$slots:{default:[Kl]},$$scope:{ctx:t}}}),{c(){e=V("meta"),a=_(),vt(s.$$.fragment),this.h()},l(t){const l=H("svelte-1w56yuh",Ll.head);e=S(l,"META",{name:!0,content:!0}),l.forEach(E),a=B(t),gt(s.$$.fragment,t),this.h()},h(){Ll.title="Predictions",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,n){w(Ll.head,e),x(t,a,n),yt(s,t,n),l=!0},p(t,[e]){const a={};1025&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a)},i(t){l||(dt(s.$$.fragment,t),l=!0)},o(t){ft(s.$$.fragment,t),l=!1},d(t){E(e),t&&E(a),$t(s,t)}}}function Zl(t){return new Date(t).toTimeString().slice(0,5)}function tn(t,e,a){let s;q((async()=>{const t=await fetch(`${wl}/predictions`);if(!t.ok)return;let e=await t.json();!function(t){t.sort(((t,e)=>new Date(e._id)-new Date(t._id)));for(let e=0;e<t.length;e++)t[e].predictions.sort(((t,e)=>new Date(t.datetime)-new Date(e.datetime)))}(e),e={predictions:e},function(t){let e=0,a=0,s=0;for(let l=0;l<t.predictions.length;l++)for(let n=0;n<t.predictions[l].predictions.length;n++){let r=t.predictions[l].predictions[n];null!=r.actual&&(Re(r.prediction,r.actual)?(r.colour="green",e+=1,a+=1):Ue(r.prediction,r.actual)?(r.colour="yellow",a+=1):r.colour="red",s+=1)}let l=0,n=0;s>0&&(l=e/s,n=a/s),t.accuracy={scoreAccuracy:l,resultAccuracy:n}}(e),a(0,s=e),console.log(s)}));return[s,t=>function(t){let e=document.getElementById(t);null!=e&&e.classList.toggle("expanded")}(t._id)]}class en extends xt{constructor(t){super(),wt(this,t,tn,Ql,r,{})}}function an(t,e,a){const s=t.slice();return s[4]=e[a],s[6]=a,s}function sn(t){let e,a,s,l,n,r,o,i=t[4][0].toUpperCase()+t[4].slice(1)+"";function c(){return t[3](t[4])}return{c(){e=V("button"),a=V("div"),s=V("div"),l=I(i),n=_(),this.h()},l(t){e=S(t,"BUTTON",{class:!0});var r=A(e);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);l=O(c,i),c.forEach(E),o.forEach(E),n=B(r),r.forEach(E),this.h()},h(){G(s,"class","team-name svelte-lpgh72"),G(a,"class","team-container svelte-lpgh72"),G(e,"class","team-link svelte-lpgh72")},m(t,i){x(t,e,i),w(e,a),w(a,s),w(s,l),w(e,n),r||(o=P(e,"click",c),r=!0)},p(e,a){t=e,2&a&&i!==(i=t[4][0].toUpperCase()+t[4].slice(1)+"")&&C(l,i)},d(t){t&&E(e),r=!1,o()}}}function ln(t){let e,a,s,l,n,r,o=t[4][0].toUpperCase()+t[4].slice(1)+"";return{c(){e=V("a"),a=V("div"),s=V("div"),l=I(o),n=_(),this.h()},l(t){e=S(t,"A",{href:!0,class:!0});var r=A(e);a=S(r,"DIV",{class:!0});var i=A(a);s=S(i,"DIV",{class:!0});var c=A(s);l=O(c,o),c.forEach(E),i.forEach(E),n=B(r),r.forEach(E),this.h()},h(){G(s,"class","this-team-name svelte-lpgh72"),G(a,"class","this-team-container svelte-lpgh72"),G(e,"href",r="/fantasy"+("all"===t[4]?"":"/"+t[4])),G(e,"class","team-link")},m(t,r){x(t,e,r),w(e,a),w(a,s),w(s,l),w(e,n)},p(t,a){2&a&&o!==(o=t[4][0].toUpperCase()+t[4].slice(1)+"")&&C(l,o),2&a&&r!==(r="/fantasy"+("all"===t[4]?"":"/"+t[4]))&&G(e,"href",r)},d(t){t&&E(e)}}}function nn(t,e){let a,s;function l(t,e){return t[4]===t[0]?ln:sn}let n=l(e),r=n(e);return{key:t,first:null,c(){a=T(),r.c(),s=T(),this.h()},l(t){a=T(),r.l(t),s=T(),this.h()},h(){this.first=a},m(t,e){x(t,a,e),r.m(t,e),x(t,s,e)},p(t,a){n===(n=l(e=t))&&r?r.p(e,a):(r.d(1),r=n(e),r&&(r.c(),r.m(s.parentNode,s)))},d(t){t&&E(a),r.d(t),t&&E(s)}}}function rn(e){let a,s,l,n,r,o,c,d,f,u,h,m,p,v,g,y,$,b,D=[],k=new Map,T=e[1];const N=t=>t[4];for(let t=0;t<T.length;t+=1){let a=an(e,T,t),s=N(a);k.set(s,D[t]=nn(s,a))}return{c(){a=V("nav"),s=V("div"),l=V("p"),n=V("span"),r=I("pl"),o=I("dashboard"),c=_(),d=V("div"),f=I("Fantasy"),u=_(),h=V("div");for(let t=0;t<D.length;t+=1)D[t].c();m=_(),p=V("div"),v=V("button"),g=V("img"),this.h()},l(t){a=S(t,"NAV",{id:!0,class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var i=A(s);l=S(i,"P",{});var y=A(l);n=S(y,"SPAN",{style:!0});var $=A(n);r=O($,"pl"),$.forEach(E),o=O(y,"dashboard"),y.forEach(E),c=B(i),d=S(i,"DIV",{class:!0});var b=A(d);f=O(b,"Fantasy"),b.forEach(E),i.forEach(E),u=B(e),h=S(e,"DIV",{class:!0});var w=A(h);for(let t=0;t<D.length;t+=1)D[t].l(w);w.forEach(E),m=B(e),p=S(e,"DIV",{class:!0});var x=A(p);v=S(x,"BUTTON",{class:!0});var V=A(v);g=S(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(E),x.forEach(E),e.forEach(E),this.h()},h(){L(n,"color","var(--green)"),G(d,"class","fantasy-logo svelte-lpgh72"),G(s,"class","title no-selection svelte-lpgh72"),G(h,"class","team-links svelte-lpgh72"),i(g.src,y="img/arrow-bar-left.svg")||G(g,"src","img/arrow-bar-left.svg"),G(g,"alt",""),G(g,"class","svelte-lpgh72"),G(v,"class","close-btn svelte-lpgh72"),G(p,"class","close"),G(a,"id","navBar"),G(a,"class","svelte-lpgh72")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),w(n,r),w(l,o),w(s,c),w(s,d),w(d,f),w(a,u),w(a,h);for(let t=0;t<D.length;t+=1)D[t]&&D[t].m(h,null);w(a,m),w(a,p),w(p,v),w(v,g),$||(b=P(v,"click",on),$=!0)},p(t,[e]){7&e&&(T=t[1],D=mt(D,e,N,1,t,T,k,h,ht,nn,null,an))},i:t,o:t,d(t){t&&E(a);for(let t=0;t<D.length;t+=1)D[t].d();$=!1,b()}}}function on(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function cn(t,e,a){let{currentPage:s,pages:l,switchPage:n}=e;return t.$$set=t=>{"currentPage"in t&&a(0,s=t.currentPage),"pages"in t&&a(1,l=t.pages),"switchPage"in t&&a(2,n=t.switchPage)},[s,l,n,t=>{n(t)}]}class dn extends xt{constructor(t){super(),wt(this,t,cn,rn,r,{currentPage:0,pages:1,switchPage:2})}}function fn(t,e,a){const s=t.slice();return s[6]=e[a],s[8]=a,s}function un(t){let e,a=t[1],s=[];for(let e=0;e<a.length;e+=1)s[e]=hn(fn(t,a,e));return{c(){e=V("div");for(let t=0;t<s.length;t+=1)s[t].c();this.h()},l(t){e=S(t,"DIV",{class:!0});var a=A(e);for(let t=0;t<s.length;t+=1)s[t].l(a);a.forEach(E),this.h()},h(){G(e,"class","team-links svelte-1wlck26")},m(t,a){x(t,e,a);for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,null)},p(t,l){if(7&l){let n;for(a=t[1],n=0;n<a.length;n+=1){const r=fn(t,a,n);s[n]?s[n].p(r,l):(s[n]=hn(r),s[n].c(),s[n].m(e,null))}for(;n<s.length;n+=1)s[n].d(1);s.length=a.length}},d(t){t&&E(e),D(s,t)}}}function hn(t){let e,a,s,l,n=t[1][t[8]][0].toUpperCase()+t[1][t[8]].slice(1)+"";function r(){return t[5](t[6])}return{c(){e=V("button"),a=I(n),this.h()},l(t){e=S(t,"BUTTON",{class:!0});var s=A(e);a=O(s,n),s.forEach(E),this.h()},h(){G(e,"class","team-link svelte-1wlck26"),j(e,"active",t[6].toLowerCase()===t[0])},m(t,n){x(t,e,n),w(e,a),s||(l=P(e,"click",r),s=!0)},p(s,l){t=s,2&l&&n!==(n=t[1][t[8]][0].toUpperCase()+t[1][t[8]].slice(1)+"")&&C(a,n),3&l&&j(e,"active",t[6].toLowerCase()===t[0])},d(t){t&&E(e),s=!1,l()}}}function mn(e){let a,s=null!=e[1]&&un(e);return{c(){a=V("nav"),s&&s.c(),this.h()},l(t){a=S(t,"NAV",{id:!0,style:!0,class:!0});var e=A(a);s&&s.l(e),e.forEach(E),this.h()},h(){G(a,"id","mobileNav"),L(a,"width","0%"),G(a,"class","svelte-1wlck26")},m(t,e){x(t,a,e),s&&s.m(a,null)},p(t,[e]){null!=t[1]?s?s.p(t,e):(s=un(t),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:t,o:t,d(t){t&&E(a),s&&s.d()}}}function pn(t,e,a){function s(t){r(t),window.scrollTo(0,0),o()}let{currentPage:l,pages:n,switchPage:r,toggleMobileNav:o}=e;return t.$$set=t=>{"currentPage"in t&&a(0,l=t.currentPage),"pages"in t&&a(1,n=t.pages),"switchPage"in t&&a(3,r=t.switchPage),"toggleMobileNav"in t&&a(4,o=t.toggleMobileNav)},[l,n,s,r,o,t=>{s(t)}]}class vn extends xt{constructor(t){super(),wt(this,t,pn,mn,r,{currentPage:0,pages:1,switchPage:3,toggleMobileNav:4})}}function gn(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{id:!0});var e=A(a);s=S(e,"DIV",{id:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(t,l){x(t,a,l),w(a,s),e[5](s)},p:t,i:t,o:t,d(t){t&&E(a),e[5](null)}}}function yn(t){switch(t){case"Forward":return"#c600d8";case"Midfielder":return"#00fe87";case"Defender":return"#2dbaff";case"Goalkeeper":return"#280936"}}function $n(t){const e=[],a=[],s=[],l=[],n=[];let r=0;for(const o of Object.keys(t))"_id"!=o&&(e.push(o),a.push(null===t[o].totalPoints?0:t[o].totalPoints),s.push(null==t[o].price?0:t[o].price/10),l.push(null==t[o].minutes?0:t[o].minutes/2),l[l.length-1]>r&&(r=l[l.length-1]),n.push(yn(t[o].position)));let o=l.slice(0);for(let t=0;t<o.length;t++)o[t]/=.02*r;return[{x:a,y:s,name:"test",mode:"markers",type:"scatter",marker:{size:o,opacity:.75,color:n},customdata:l.map((t=>(t/r*100).toFixed(1))),text:e,hovertemplate:"<b>%{text}</b><br><b>£%{y}m</b><br><b>%{x} points</b><br>%{customdata}% playtime<extra></extra>",showlegend:!1}]}function bn(t){return{data:$n(t),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",height:700,yaxis:{title:{text:"Price"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Points"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function wn(t,e,a){function s(){if(r){const t={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((t,e)=>e+2)),"margin.l":20,"margin.t":5},e=n.data[0].marker.size;for(let t=0;t<e.length;t++)e[t]=Math.round(e[t]/2);const a={marker:{size:e,color:n.data[0].marker.color,opacity:.75}};n.data[0].marker.size=e,Plotly.update(l,a,t,0)}}let l,n,r=!1;q((()=>{n=bn(o),new Plotly.newPlot(l,n.data,n.layout,n.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph"),t.children[0].children[0].classList.add("tall-graph")})),a(4,r=!0)}));let{data:o,page:i,mobileView:c}=e;return t.$$set=t=>{"data"in t&&a(1,o=t.data),"page"in t&&a(2,i=t.page),"mobileView"in t&&a(3,c=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&i&&function(){if(r){let t=bn(o);n.data[0]=t.data[0],Plotly.redraw(l),c&&s()}}(),8&t.$$.dirty&&!c&&function(){if(r){const t={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((t,e)=>e+1)),"margin.l":60,"margin.t":15};Plotly.update(l,{},t,0)}}(),24&t.$$.dirty&&r&&c&&s()},[l,o,i,c,r,function(t){J[t?"unshift":"push"]((()=>{l=t,a(0,l)}))}]}class xn extends xt{constructor(t){super(),wt(this,t,wn,gn,r,{data:1,page:2,mobileView:3})}}function En(e){let a,s,l,n,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,T,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,tt,et,at,st,lt,nt;return{c(){a=V("div"),s=V("table"),l=V("thead"),n=V("tr"),r=V("th"),o=I("Name"),i=_(),c=V("th"),d=I("Price"),f=_(),u=V("th"),h=I("Points"),m=_(),p=V("th"),v=I("Minutes"),g=_(),y=V("th"),$=I("Points per Game"),b=_(),D=V("th"),k=I("Points per 90"),T=_(),P=V("th"),N=I("Form"),z=_(),M=V("th"),C=I("Goals"),L=_(),j=V("th"),H=I("Assists"),F=_(),R=V("th"),U=I("Clean Sheets"),q=_(),Y=V("th"),W=I("Saves"),X=_(),J=V("th"),K=I("Bonus"),Q=_(),Z=V("th"),tt=I("Transfers In"),et=_(),at=V("th"),st=I("Transfers Out"),lt=_(),nt=V("tbody"),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"TABLE",{id:!0,class:!0});var w=A(s);l=S(w,"THEAD",{});var x=A(l);n=S(x,"TR",{});var V=A(n);r=S(V,"TH",{});var I=A(r);o=O(I,"Name"),I.forEach(E),i=B(V),c=S(V,"TH",{});var _=A(c);d=O(_,"Price"),_.forEach(E),f=B(V),u=S(V,"TH",{});var G=A(u);h=O(G,"Points"),G.forEach(E),m=B(V),p=S(V,"TH",{});var rt=A(p);v=O(rt,"Minutes"),rt.forEach(E),g=B(V),y=S(V,"TH",{});var ot=A(y);$=O(ot,"Points per Game"),ot.forEach(E),b=B(V),D=S(V,"TH",{});var it=A(D);k=O(it,"Points per 90"),it.forEach(E),T=B(V),P=S(V,"TH",{});var ct=A(P);N=O(ct,"Form"),ct.forEach(E),z=B(V),M=S(V,"TH",{});var dt=A(M);C=O(dt,"Goals"),dt.forEach(E),L=B(V),j=S(V,"TH",{});var ft=A(j);H=O(ft,"Assists"),ft.forEach(E),F=B(V),R=S(V,"TH",{});var ut=A(R);U=O(ut,"Clean Sheets"),ut.forEach(E),q=B(V),Y=S(V,"TH",{});var ht=A(Y);W=O(ht,"Saves"),ht.forEach(E),X=B(V),J=S(V,"TH",{});var mt=A(J);K=O(mt,"Bonus"),mt.forEach(E),Q=B(V),Z=S(V,"TH",{});var pt=A(Z);tt=O(pt,"Transfers In"),pt.forEach(E),et=B(V),at=S(V,"TH",{});var vt=A(at);st=O(vt,"Transfers Out"),vt.forEach(E),V.forEach(E),x.forEach(E),lt=B(w),nt=S(w,"TBODY",{}),A(nt).forEach(E),w.forEach(E),e.forEach(E),this.h()},h(){G(s,"id","myTable"),G(s,"class","svelte-1aiia5r"),G(a,"class","table svelte-1aiia5r")},m(t,e){x(t,a,e),w(a,s),w(s,l),w(l,n),w(n,r),w(r,o),w(n,i),w(n,c),w(c,d),w(n,f),w(n,u),w(u,h),w(n,m),w(n,p),w(p,v),w(n,g),w(n,y),w(y,$),w(n,b),w(n,D),w(D,k),w(n,T),w(n,P),w(P,N),w(n,z),w(n,M),w(M,C),w(n,L),w(n,j),w(j,H),w(n,F),w(n,R),w(R,U),w(n,q),w(n,Y),w(Y,W),w(n,X),w(n,J),w(J,K),w(n,Q),w(n,Z),w(Z,tt),w(n,et),w(n,at),w(at,st),w(s,lt),w(s,nt)},p:t,i:t,o:t,d(t){t&&E(a)}}}function Dn(t){switch(t){case"Spurs":return"tottenham-hotspur";case"Nott'm Forest":return"nottingham-forest";case"Man Utd":return"manchester-united";case"Man City":return"manchester-city";case"Brighton":return"brighton-and-hove-albion";case"Luton":return"luton-town";case"West Ham":return"west-ham-united";case"Sheffield Utd":return"sheffield-united";case"Wolves":return"wolverhampton-wanderers";case"Newcastle":return"newcastle-united"}return t.toLowerCase().replace(" ","-")}function Vn(t){const e=[];for(const a of Object.keys(t)){if("_id"===a)continue;const s=[`${t[a].firstName} ${t[a].surname}`,"£"+t[a].price/10,t[a].totalPoints,t[a].minutes,t[a].pointsPerGame,t[a].minutes>0?parseFloat((t[a].points/(t[a].minutes/90)).toFixed(1)):0,t[a].form,t[a].goals,t[a].assists,t[a].cleanSheets,t[a].saves,t[a].bonusPoints,t[a].transferIn.toLocaleString(),t[a].transferOut.toLocaleString()];e.push(s)}return e}function kn(t,e,a){function s(){const t={},e={};for(const a of Object.keys(i)){if("_id"===a)continue;const s=i[a].team;t[`${i[a].firstName} ${i[a].surname}`]=s,e[s]=Dn(s)}n=t,r=e}let l,n,r,o=!1;q((()=>{s(),function(t){let e=Vn(t);l=new DataTable("#myTable",{responsive:!0,data:e,paging:!1,columnDefs:[{targets:0,createdCell(t,e,a,s,l){const o=n[e];t.style.background=`var(--${r[o]})`,t.style.color=`var(--${r[o]}-secondary)`,t.title=o}}]}),l.order([2,"desc"]).draw()}(i),o=!0}));let{data:i,page:c,mobileView:d}=e;return t.$$set=t=>{"data"in t&&a(0,i=t.data),"page"in t&&a(1,c=t.page),"mobileView"in t&&a(2,d=t.mobileView)},t.$$.update=()=>{3&t.$$.dirty&&c&&function(t){if(o){s();let e=Vn(t);l.clear(),l.rows.add(e),l.draw()}}(i)},[i,c,d]}class In extends xt{constructor(t){super(),wt(this,t,kn,En,r,{data:0,page:1,mobileView:2})}}const{document:_n,window:Tn}=g;function Pn(e){let a,s,l,n;return{c(){a=V("button"),s=I("Menu"),this.h()},l(t){a=S(t,"BUTTON",{id:!0,class:!0});var e=A(a);s=O(e,"Menu"),e.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),G(a,"class","svelte-b8sri1")},m(t,e){x(t,a,e),w(a,s),l||(n=P(a,"click",Mn),l=!0)},p:t,d(t){t&&E(a),l=!1,n()}}}function Gn(e){let a,s;return{c(){a=V("button"),s=I("Menu"),this.h()},l(t){a=S(t,"BUTTON",{id:!0,style:!0,class:!0});var e=A(a);s=O(e,"Menu"),e.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),L(a,"cursor","default"),G(a,"class","svelte-b8sri1")},m(t,e){x(t,a,e),w(a,s)},p:t,d(t){t&&E(a)}}}function An(e){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(t){a=S(t,"DIV",{class:!0});var e=A(a);s=S(e,"DIV",{class:!0}),A(s).forEach(E),e.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(t,e){x(t,a,e),w(a,s)},p:t,i:t,o:t,d(t){t&&E(a)}}}function Nn(t){let e,a,s,l,n,r,o,i;return a=new xn({props:{data:t[3],page:t[0],mobileView:t[4]}}),n=new In({props:{data:t[3],page:t[0],mobileView:t[4]}}),o=new la({props:{lastUpdated:null}}),{c(){e=V("div"),vt(a.$$.fragment),s=_(),l=V("div"),vt(n.$$.fragment),r=_(),vt(o.$$.fragment),this.h()},l(t){e=S(t,"DIV",{class:!0});var i=A(e);gt(a.$$.fragment,i),i.forEach(E),s=B(t),l=S(t,"DIV",{class:!0});var c=A(l);gt(n.$$.fragment,c),c.forEach(E),r=B(t),gt(o.$$.fragment,t),this.h()},h(){G(e,"class","first-graph"),G(l,"class","table")},m(t,c){x(t,e,c),yt(a,e,null),x(t,s,c),x(t,l,c),yt(n,l,null),x(t,r,c),yt(o,t,c),i=!0},p(t,e){const s={};8&e&&(s.data=t[3]),1&e&&(s.page=t[0]),16&e&&(s.mobileView=t[4]),a.$set(s);const l={};8&e&&(l.data=t[3]),1&e&&(l.page=t[0]),16&e&&(l.mobileView=t[4]),n.$set(l)},i(t){i||(dt(a.$$.fragment,t),dt(n.$$.fragment,t),dt(o.$$.fragment,t),i=!0)},o(t){ft(a.$$.fragment,t),ft(n.$$.fragment,t),ft(o.$$.fragment,t),i=!1},d(t){t&&E(e),$t(a),t&&E(s),t&&E(l),$t(n),t&&E(r),$t(o,t)}}}function zn(t){let e,a,s,l,n,r,o,i,c,d;a=new dn({props:{currentPage:t[0],pages:t[6],switchPage:t[5]}}),l=new vn({props:{currentPage:t[0],pages:t[6],switchPage:t[5],toggleMobileNav:Mn}});let f=function(t,e){return 0===t[6].length?Gn:Pn}(t),u=f(t);const h=[Nn,An],m=[];function p(t,e){return null!=t[3]?0:1}return i=p(t),c=m[i]=h[i](t),{c(){e=V("div"),vt(a.$$.fragment),s=_(),vt(l.$$.fragment),n=_(),u.c(),r=_(),o=V("div"),c.c(),this.h()},l(t){e=S(t,"DIV",{id:!0,class:!0});var i=A(e);gt(a.$$.fragment,i),s=B(i),gt(l.$$.fragment,i),n=B(i),u.l(i),r=B(i),o=S(i,"DIV",{id:!0,class:!0});var d=A(o);c.l(d),d.forEach(E),i.forEach(E),this.h()},h(){G(o,"id","dashboard"),G(o,"class","svelte-b8sri1"),G(e,"id","team"),G(e,"class","svelte-b8sri1")},m(t,c){x(t,e,c),yt(a,e,null),w(e,s),yt(l,e,null),w(e,n),u.m(e,null),w(e,r),w(e,o),m[i].m(o,null),d=!0},p(t,e){const s={};1&e&&(s.currentPage=t[0]),a.$set(s);const n={};1&e&&(n.currentPage=t[0]),l.$set(n),u.p(t,e);let r=i;i=p(t),i===r?m[i].p(t,e):(it(),ft(m[r],1,1,(()=>{m[r]=null})),ct(),c=m[i],c?c.p(t,e):(c=m[i]=h[i](t),c.c()),dt(c,1),c.m(o,null))},i(t){d||(dt(a.$$.fragment,t),dt(l.$$.fragment,t),dt(c),d=!0)},o(t){ft(a.$$.fragment,t),ft(l.$$.fragment,t),ft(c),d=!1},d(t){t&&E(e),$t(a),$t(l),u.d(),m[i].d()}}}function Sn(t){let e,a,s,l,n,r,o;return et(t[7]),_n.title=e=t[2],l=new Zt({props:{$$slots:{default:[zn]},$$scope:{ctx:t}}}),{c(){a=V("meta"),s=_(),vt(l.$$.fragment),this.h()},l(t){const e=H("svelte-42dgjz",_n.head);a=S(e,"META",{name:!0,content:!0}),e.forEach(E),s=B(t),gt(l.$$.fragment,t),this.h()},h(){G(a,"name","description"),G(a,"content","Fantasy Premier League Statistics Dashboard")},m(e,i){w(_n.head,a),x(e,s,i),yt(l,e,i),n=!0,r||(o=P(Tn,"resize",t[7]),r=!0)},p(t,[a]){(!n||4&a)&&e!==(e=t[2])&&(_n.title=e);const s={};2073&a&&(s.$$scope={dirty:a,ctx:t}),l.$set(s)},i(t){n||(dt(l.$$.fragment,t),n=!0)},o(t){ft(l.$$.fragment,t),n=!1},d(t){E(a),t&&E(s),$t(l,t),r=!1,o()}}}function Mn(){let t=document.getElementById("mobileNav");"0%"===t.style.width?(t.style.display="block",t.style.width="100%"):(t.style.display="none",t.style.width="0%")}function On(t,e,a){let s;function l(t){let e={};for(let a of Object.keys(t))("_id"===a||"all"===d||"attack"===d&&"Forward"===t[a].position||"midfield"===d&&"Midfielder"===t[a].position||"defence"===d&&"Defender"===t[a].position||"goalkeeper"===d&&"Goalkeeper"===t[a].position)&&(e[a]=t[a]);return e}let n,r,o,i=["all","attack","midfield","defence","goalkeeper"],c="Fantasy";q((()=>{!async function(){void 0===d&&a(0,d=i[0]);const t=await fetch(`${wl}/fantasy`);if(!t.ok)return;let e=await t.json();n=e,a(3,r=l(n)),console.log(n),window.dispatchEvent(new Event("resize"))}(),setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),500)}));let{page:d}=e;return t.$$set=t=>{"page"in t&&a(0,d=t.page)},t.$$.update=()=>{2&t.$$.dirty&&a(4,s=o<=700)},[d,o,c,r,s,function(t){a(0,d=t),a(2,c="all"===d?"Fantasy":`Fantasy | ${d[0].toUpperCase()+d.slice(1)}`),a(3,r=l(n));let e=d;"all"===e?e="/fantasy":window.location.href.endsWith("/")||(e="/fantasy/"+e),window.history.pushState(null,null,e)},i,function(){a(1,o=Tn.innerWidth)}]}class Bn extends xt{constructor(t){super(),wt(this,t,On,Sn,r,{page:0})}}function Cn(e){let a,s,l;return{c(){a=V("div"),s=V("div"),l=I("Error: Page not found"),this.h()},l(t){a=S(t,"DIV",{id:!0,class:!0});var e=A(a);s=S(e,"DIV",{class:!0});var n=A(s);l=O(n,"Error: Page not found"),n.forEach(E),e.forEach(E),this.h()},h(){G(s,"class","msg-container svelte-1roblpp"),G(a,"id","error"),G(a,"class","svelte-1roblpp")},m(t,e){x(t,a,e),w(a,s),w(s,l)},p:t,d(t){t&&E(a)}}}function Ln(t){let e,a,s,l;return s=new Zt({props:{$$slots:{default:[Cn]},$$scope:{ctx:t}}}),{c(){e=V("meta"),a=_(),vt(s.$$.fragment),this.h()},l(t){const l=H("svelte-1rqatx0",document.head);e=S(l,"META",{name:!0,content:!0}),l.forEach(E),a=B(t),gt(s.$$.fragment,t),this.h()},h(){document.title="Premier League",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,n){w(document.head,e),x(t,a,n),yt(s,t,n),l=!0},p(t,[e]){const a={};1&e&&(a.$$scope={dirty:e,ctx:t}),s.$set(a)},i(t){l||(dt(s.$$.fragment,t),l=!0)},o(t){ft(s.$$.fragment,t),l=!1},d(t){E(e),t&&E(a),$t(s,t)}}}class jn extends xt{constructor(t){super(),wt(this,t,null,Ln,r,{})}}function Hn(e){let a,s;return a=new Ml({props:{slug:null}}),{c(){vt(a.$$.fragment)},l(t){gt(a.$$.fragment,t)},m(t,e){yt(a,t,e),s=!0},p:t,i(t){s||(dt(a.$$.fragment,t),s=!0)},o(t){ft(a.$$.fragment,t),s=!1},d(t){$t(a,t)}}}function Fn(t){let e,a;return e=new Ml({props:{slug:t[1].team}}),{c(){vt(e.$$.fragment)},l(t){gt(e.$$.fragment,t)},m(t,s){yt(e,t,s),a=!0},p(t,a){const s={};2&a&&(s.slug=t[1].team),e.$set(s)},i(t){a||(dt(e.$$.fragment,t),a=!0)},o(t){ft(e.$$.fragment,t),a=!1},d(t){$t(e,t)}}}function Rn(t){let e,a;return e=new Bn({props:{page:t[1].page}}),{c(){vt(e.$$.fragment)},l(t){gt(e.$$.fragment,t)},m(t,s){yt(e,t,s),a=!0},p(t,a){const s={};2&a&&(s.page=t[1].page),e.$set(s)},i(t){a||(dt(e.$$.fragment,t),a=!0)},o(t){ft(e.$$.fragment,t),a=!1},d(t){$t(e,t)}}}function Un(t){let e,a,s,l,n,r,o,i,c,d,f,u,h,m;return e=new Ft({props:{path:"/",$$slots:{default:[Hn]},$$scope:{ctx:t}}}),s=new Ft({props:{path:"/:team",$$slots:{default:[Fn,({params:t})=>({1:t}),({params:t})=>t?2:0]},$$scope:{ctx:t}}}),n=new Ft({props:{path:"/predictions",component:en}}),o=new Ft({props:{path:"/home",component:Cl}}),c=new Ft({props:{path:"/fantasy/:page",$$slots:{default:[Rn,({params:t})=>({1:t}),({params:t})=>t?2:0]},$$scope:{ctx:t}}}),f=new Ft({props:{path:"/fantasy",component:Bn}}),h=new Ft({props:{path:"/error",component:jn}}),{c(){vt(e.$$.fragment),a=_(),vt(s.$$.fragment),l=_(),vt(n.$$.fragment),r=_(),vt(o.$$.fragment),i=_(),vt(c.$$.fragment),d=_(),vt(f.$$.fragment),u=_(),vt(h.$$.fragment)},l(t){gt(e.$$.fragment,t),a=B(t),gt(s.$$.fragment,t),l=B(t),gt(n.$$.fragment,t),r=B(t),gt(o.$$.fragment,t),i=B(t),gt(c.$$.fragment,t),d=B(t),gt(f.$$.fragment,t),u=B(t),gt(h.$$.fragment,t)},m(t,p){yt(e,t,p),x(t,a,p),yt(s,t,p),x(t,l,p),yt(n,t,p),x(t,r,p),yt(o,t,p),x(t,i,p),yt(c,t,p),x(t,d,p),yt(f,t,p),x(t,u,p),yt(h,t,p),m=!0},p(t,a){const l={};4&a&&(l.$$scope={dirty:a,ctx:t}),e.$set(l);const n={};6&a&&(n.$$scope={dirty:a,ctx:t}),s.$set(n);const r={};6&a&&(r.$$scope={dirty:a,ctx:t}),c.$set(r)},i(t){m||(dt(e.$$.fragment,t),dt(s.$$.fragment,t),dt(n.$$.fragment,t),dt(o.$$.fragment,t),dt(c.$$.fragment,t),dt(f.$$.fragment,t),dt(h.$$.fragment,t),m=!0)},o(t){ft(e.$$.fragment,t),ft(s.$$.fragment,t),ft(n.$$.fragment,t),ft(o.$$.fragment,t),ft(c.$$.fragment,t),ft(f.$$.fragment,t),ft(h.$$.fragment,t),m=!1},d(t){$t(e,t),t&&E(a),$t(s,t),t&&E(l),$t(n,t),t&&E(r),$t(o,t),t&&E(i),$t(c,t),t&&E(d),$t(f,t),t&&E(u),$t(h,t)}}}function qn(t){let e,a;return e=new Zt({props:{url:t[0],$$slots:{default:[Un]},$$scope:{ctx:t}}}),{c(){vt(e.$$.fragment)},l(t){gt(e.$$.fragment,t)},m(t,s){yt(e,t,s),a=!0},p(t,[a]){const s={};1&a&&(s.url=t[0]),4&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s)},i(t){a||(dt(e.$$.fragment,t),a=!0)},o(t){ft(e.$$.fragment,t),a=!1},d(t){$t(e,t)}}}function Yn(t,e,a){let{url:s=""}=e;return t.$$set=t=>{"url"in t&&a(0,s=t.url)},[s]}new class extends xt{constructor(t){super(),wt(this,t,Yn,qn,r,{url:0})}}({target:document.getElementById("app"),hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
