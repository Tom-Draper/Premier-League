!function(){"use strict";function e(){}function t(e,t){for(const a in t)e[a]=t[a];return e}function a(e){return e()}function s(){return Object.create(null)}function n(e){e.forEach(a)}function l(e){return"function"==typeof e}function r(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o;function i(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function c(t,...a){if(null==t)return e;const s=t.subscribe(...a);return s.unsubscribe?()=>s.unsubscribe():s}function d(e,t,a){e.$$.on_destroy.push(c(t,a))}function f(e,t,a,s){if(e){const n=u(e,t,a,s);return e[0](n)}}function u(e,a,s,n){return e[1]&&n?t(s.ctx.slice(),e[1](n(a))):s.ctx}function h(e,t,a,s){if(e[2]&&s){const n=e[2](s(a));if(void 0===t.dirty)return n;if("object"==typeof n){const e=[],a=Math.max(t.dirty.length,n.length);for(let s=0;s<a;s+=1)e[s]=t.dirty[s]|n[s];return e}return t.dirty|n}return t.dirty}function m(e,t,a,s,n,l){if(n){const r=u(t,a,s,l);e.p(r,n)}}function p(e){if(e.ctx.length>32){const t=[],a=e.ctx.length/32;for(let e=0;e<a;e++)t[e]=-1;return t}return-1}function v(e){const t={};for(const a in e)"$"!==a[0]&&(t[a]=e[a]);return t}const g="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;let y,$=!1;function b(e,t,a,s){for(;e<t;){const n=e+(t-e>>1);a(n)<=s?e=n+1:t=n}return e}function w(e,t){if($){for(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if("HEAD"===e.nodeName){const e=[];for(let a=0;a<t.length;a++){const s=t[a];void 0!==s.claim_order&&e.push(s)}t=e}const a=new Int32Array(t.length+1),s=new Int32Array(t.length);a[0]=-1;let n=0;for(let e=0;e<t.length;e++){const l=t[e].claim_order,r=(n>0&&t[a[n]].claim_order<=l?n+1:b(1,n,(e=>t[a[e]].claim_order),l))-1;s[e]=a[r]+1;const o=r+1;a[o]=e,n=Math.max(o,n)}const l=[],r=[];let o=t.length-1;for(let e=a[n]+1;0!=e;e=s[e-1]){for(l.push(t[e-1]);o>=e;o--)r.push(t[o]);o--}for(;o>=0;o--)r.push(t[o]);l.reverse(),r.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,a=0;t<r.length;t++){for(;a<l.length&&r[t].claim_order>=l[a].claim_order;)a++;const s=a<l.length?l[a]:null;e.insertBefore(r[t],s)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function x(e,t,a){$&&!a?w(e,t):t.parentNode===e&&t.nextSibling==a||e.insertBefore(t,a||null)}function E(e){e.parentNode&&e.parentNode.removeChild(e)}function D(e,t){for(let a=0;a<e.length;a+=1)e[a]&&e[a].d(t)}function V(e){return document.createElement(e)}function k(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function I(e){return document.createTextNode(e)}function T(){return I(" ")}function _(){return I("")}function P(e,t,a,s){return e.addEventListener(t,a,s),()=>e.removeEventListener(t,a,s)}function G(e,t,a){null==a?e.removeAttribute(t):e.getAttribute(t)!==a&&e.setAttribute(t,a)}function A(e){return Array.from(e.childNodes)}function N(e,t,a,s,n=!1){!function(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}(e);const l=(()=>{for(let s=e.claim_info.last_index;s<e.length;s++){const l=e[s];if(t(l)){const t=a(l);return void 0===t?e.splice(s,1):e[s]=t,n||(e.claim_info.last_index=s),l}}for(let s=e.claim_info.last_index-1;s>=0;s--){const l=e[s];if(t(l)){const t=a(l);return void 0===t?e.splice(s,1):e[s]=t,n?void 0===t&&e.claim_info.last_index--:e.claim_info.last_index=s,l}}return s()})();return l.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,l}function z(e,t,a,s){return N(e,(e=>e.nodeName===t),(e=>{const t=[];for(let s=0;s<e.attributes.length;s++){const n=e.attributes[s];a[n.name]||t.push(n.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>s(t)))}function S(e,t,a){return z(e,t,a,V)}function M(e,t,a){return z(e,t,a,k)}function O(e,t){return N(e,(e=>3===e.nodeType),(e=>{const a=""+t;if(e.data.startsWith(a)){if(e.data.length!==a.length)return e.splitText(a.length)}else e.data=a}),(()=>I(t)),!0)}function B(e){return O(e," ")}function C(e,t){t=""+t,e.data!==t&&(e.data=t)}function L(e,t,a,s){null==a?e.style.removeProperty(t):e.style.setProperty(t,a,s?"important":"")}function j(e,t,a){e.classList[a?"add":"remove"](t)}function H(e,t){const a=[];let s=0;for(const n of t.childNodes)if(8===n.nodeType){const t=n.textContent.trim();t===`HEAD_${e}_END`?(s-=1,a.push(n)):t===`HEAD_${e}_START`&&(s+=1,a.push(n))}else s>0&&a.push(n);return a}function F(e,t){return new e(t)}function R(e){y=e}function U(){if(!y)throw new Error("Function called outside component initialization");return y}function q(e){U().$$.on_mount.push(e)}function Y(e,t){return U().$$.context.set(e,t),t}function W(e){return U().$$.context.get(e)}const X=[],J=[];let K=[];const Q=[],Z=Promise.resolve();let ee=!1;function te(e){K.push(e)}const ae=new Set;let se=0;function ne(){if(0!==se)return;const e=y;do{try{for(;se<X.length;){const e=X[se];se++,R(e),le(e.$$)}}catch(e){throw X.length=0,se=0,e}for(R(null),X.length=0,se=0;J.length;)J.pop()();for(let e=0;e<K.length;e+=1){const t=K[e];ae.has(t)||(ae.add(t),t())}K.length=0}while(X.length);for(;Q.length;)Q.pop()();ee=!1,ae.clear(),R(e)}function le(e){if(null!==e.fragment){e.update(),n(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}const re=new Set;let oe;function ie(){oe={r:0,c:[],p:oe}}function ce(){oe.r||n(oe.c),oe=oe.p}function de(e,t){e&&e.i&&(re.delete(e),e.i(t))}function fe(e,t,a,s){if(e&&e.o){if(re.has(e))return;re.add(e),oe.c.push((()=>{re.delete(e),s&&(a&&e.d(1),s())})),e.o(t)}else s&&s()}function ue(e,t){const a=t.token={};function s(e,s,n,l){if(t.token!==a)return;t.resolved=l;let r=t.ctx;void 0!==n&&(r=r.slice(),r[n]=l);const o=e&&(t.current=e)(r);let i=!1;t.block&&(t.blocks?t.blocks.forEach(((e,a)=>{a!==s&&e&&(ie(),fe(e,1,1,(()=>{t.blocks[a]===e&&(t.blocks[a]=null)})),ce())})):t.block.d(1),o.c(),de(o,1),o.m(t.mount(),t.anchor),i=!0),t.block=o,t.blocks&&(t.blocks[s]=o),i&&ne()}if(!(n=e)||"object"!=typeof n&&"function"!=typeof n||"function"!=typeof n.then){if(t.current!==t.then)return s(t.then,1,t.value,e),!0;t.resolved=e}else{const a=U();if(e.then((e=>{R(a),s(t.then,1,t.value,e),R(null)}),(e=>{if(R(a),s(t.catch,2,t.error,e),R(null),!t.hasCatch)throw e})),t.current!==t.pending)return s(t.pending,0),!0}var n}function he(e,t){e.d(1),t.delete(e.key)}function me(e,t,a,s,l,r,o,i,c,d,f,u){let h=e.length,m=r.length,p=h;const v={};for(;p--;)v[e[p].key]=p;const g=[],y=new Map,$=new Map,b=[];for(p=m;p--;){const e=u(l,r,p),n=a(e);let i=o.get(n);i?s&&b.push((()=>i.p(e,t))):(i=d(n,e),i.c()),y.set(n,g[p]=i),n in v&&$.set(n,Math.abs(p-v[n]))}const w=new Set,x=new Set;function E(e){de(e,1),e.m(i,f),o.set(e.key,e),f=e.first,m--}for(;h&&m;){const t=g[m-1],a=e[h-1],s=t.key,n=a.key;t===a?(f=t.first,h--,m--):y.has(n)?!o.has(s)||w.has(s)?E(t):x.has(n)?h--:$.get(s)>$.get(n)?(x.add(s),E(t)):(w.add(n),h--):(c(a,o),h--)}for(;h--;){const t=e[h];y.has(t.key)||c(t,o)}for(;m;)E(g[m-1]);return n(b),g}function pe(e){return"object"==typeof e&&null!==e?e:{}}function ve(e){e&&e.c()}function ge(e,t){e&&e.l(t)}function ye(e,t,s,r){const{fragment:o,after_update:i}=e.$$;o&&o.m(t,s),r||te((()=>{const t=e.$$.on_mount.map(a).filter(l);e.$$.on_destroy?e.$$.on_destroy.push(...t):n(t),e.$$.on_mount=[]})),i.forEach(te)}function $e(e,t){const a=e.$$;null!==a.fragment&&(!function(e){const t=[],a=[];K.forEach((s=>-1===e.indexOf(s)?t.push(s):a.push(s))),a.forEach((e=>e())),K=t}(a.after_update),n(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function be(e,t){-1===e.$$.dirty[0]&&(X.push(e),ee||(ee=!0,Z.then(ne)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function we(t,a,l,r,o,i,c,d=[-1]){const f=y;R(t);const u=t.$$={fragment:null,ctx:[],props:i,update:e,not_equal:o,bound:s(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(f?f.$$.context:[])),callbacks:s(),dirty:d,skip_bound:!1,root:a.target||f.$$.root};c&&c(u.root);let h=!1;if(u.ctx=l?l(t,a.props||{},((e,a,...s)=>{const n=s.length?s[0]:a;return u.ctx&&o(u.ctx[e],u.ctx[e]=n)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](n),h&&be(t,e)),a})):[],u.update(),h=!0,n(u.before_update),u.fragment=!!r&&r(u.ctx),a.target){if(a.hydrate){$=!0;const e=A(a.target);u.fragment&&u.fragment.l(e),e.forEach(E)}else u.fragment&&u.fragment.c();a.intro&&de(t.$$.fragment),ye(t,a.target,a.anchor,a.customElement),$=!1,ne()}R(f)}class xe{$destroy(){$e(this,1),this.$destroy=e}$on(t,a){if(!l(a))return e;const s=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return s.push(a),()=>{const e=s.indexOf(a);-1!==e&&s.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ee={},De={},Ve={},ke=/^:(.+)/,Ie=e=>e.replace(/(^\/+|\/+$)/g,"").split("/"),Te=e=>e.replace(/(^\/+|\/+$)/g,""),_e=(e,t)=>({route:e,score:e.default?0:Ie(e.path).reduce(((e,t)=>(e+=4,""===t?e+=1:ke.test(t)?e+=2:"*"===t[0]?e-=5:e+=3,e)),0),index:t}),Pe=(e,t)=>{let a,s;const[n]=t.split("?"),l=Ie(n),r=""===l[0],o=(e=>e.map(_e).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index)))(e);for(let e=0,n=o.length;e<n;e++){const n=o[e].route;let i=!1;if(n.default){s={route:n,params:{},uri:t};continue}const c=Ie(n.path),d={},f=Math.max(l.length,c.length);let u=0;for(;u<f;u++){const e=c[u],t=l[u];if(e&&"*"===e[0]){d["*"===e?"*":e.slice(1)]=l.slice(u).map(decodeURIComponent).join("/");break}if(void 0===t){i=!0;break}const a=ke.exec(e);if(a&&!r){const e=decodeURIComponent(t);d[a[1]]=e}else if(e!==t){i=!0;break}}if(!i){a={route:n,params:d,uri:"/"+l.slice(0,u).join("/")};break}}return a||s||null},Ge=(e,t)=>`${Te("/"===t?e:`${Te(e)}/${Te(t)}`)}/`,Ae=()=>"undefined"!=typeof window&&"document"in window&&"location"in window,Ne=e=>({params:4&e}),ze=e=>({params:e[2]});function Se(e){let t,a,s,n;const l=[Oe,Me],r=[];function o(e,t){return e[0]?0:1}return t=o(e),a=r[t]=l[t](e),{c(){a.c(),s=_()},l(e){a.l(e),s=_()},m(e,a){r[t].m(e,a),x(e,s,a),n=!0},p(e,n){let i=t;t=o(e),t===i?r[t].p(e,n):(ie(),fe(r[i],1,1,(()=>{r[i]=null})),ce(),a=r[t],a?a.p(e,n):(a=r[t]=l[t](e),a.c()),de(a,1),a.m(s.parentNode,s))},i(e){n||(de(a),n=!0)},o(e){fe(a),n=!1},d(e){r[t].d(e),e&&E(s)}}}function Me(e){let t;const a=e[8].default,s=f(a,e,e[7],ze);return{c(){s&&s.c()},l(e){s&&s.l(e)},m(e,a){s&&s.m(e,a),t=!0},p(e,n){s&&s.p&&(!t||132&n)&&m(s,a,e,e[7],t?h(a,e[7],n,Ne):p(e[7]),ze)},i(e){t||(de(s,e),t=!0)},o(e){fe(s,e),t=!1},d(e){s&&s.d(e)}}}function Oe(e){let t,a,s,n={ctx:e,current:null,token:null,hasCatch:!1,pending:Le,then:Ce,catch:Be,value:12,blocks:[,,,]};return ue(a=e[0],n),{c(){t=_(),n.block.c()},l(e){t=_(),n.block.l(e)},m(e,a){x(e,t,a),n.block.m(e,n.anchor=a),n.mount=()=>t.parentNode,n.anchor=t,s=!0},p(t,s){e=t,n.ctx=e,1&s&&a!==(a=e[0])&&ue(a,n)||function(e,t,a){const s=t.slice(),{resolved:n}=e;e.current===e.then&&(s[e.value]=n),e.current===e.catch&&(s[e.error]=n),e.block.p(s,a)}(n,e,s)},i(e){s||(de(n.block),s=!0)},o(e){for(let e=0;e<3;e+=1){fe(n.blocks[e])}s=!1},d(e){e&&E(t),n.block.d(e),n.token=null,n=null}}}function Be(t){return{c:e,l:e,m:e,p:e,i:e,o:e,d:e}}function Ce(e){let a,s,n;const l=[e[2],e[3]];var r=e[12]?.default||e[12];function o(e){let a={};for(let e=0;e<l.length;e+=1)a=t(a,l[e]);return{props:a}}return r&&(a=F(r,o())),{c(){a&&ve(a.$$.fragment),s=_()},l(e){a&&ge(a.$$.fragment,e),s=_()},m(e,t){a&&ye(a,e,t),x(e,s,t),n=!0},p(e,t){const n=12&t?function(e,t){const a={},s={},n={$$scope:1};let l=e.length;for(;l--;){const r=e[l],o=t[l];if(o){for(const e in r)e in o||(s[e]=1);for(const e in o)n[e]||(a[e]=o[e],n[e]=1);e[l]=o}else for(const e in r)n[e]=1}for(const e in s)e in a||(a[e]=void 0);return a}(l,[4&t&&pe(e[2]),8&t&&pe(e[3])]):{};if(1&t&&r!==(r=e[12]?.default||e[12])){if(a){ie();const e=a;fe(e.$$.fragment,1,0,(()=>{$e(e,1)})),ce()}r?(a=F(r,o()),ve(a.$$.fragment),de(a.$$.fragment,1),ye(a,s.parentNode,s)):a=null}else r&&a.$set(n)},i(e){n||(a&&de(a.$$.fragment,e),n=!0)},o(e){a&&fe(a.$$.fragment,e),n=!1},d(e){e&&E(s),a&&$e(a,e)}}}function Le(t){return{c:e,l:e,m:e,p:e,i:e,o:e,d:e}}function je(e){let t,a,s=e[1]&&e[1].route===e[5]&&Se(e);return{c(){s&&s.c(),t=_()},l(e){s&&s.l(e),t=_()},m(e,n){s&&s.m(e,n),x(e,t,n),a=!0},p(e,[a]){e[1]&&e[1].route===e[5]?s?(s.p(e,a),2&a&&de(s,1)):(s=Se(e),s.c(),de(s,1),s.m(t.parentNode,t)):s&&(ie(),fe(s,1,1,(()=>{s=null})),ce())},i(e){a||(de(s),a=!0)},o(e){fe(s),a=!1},d(e){s&&s.d(e),e&&E(t)}}}function He(e,a,s){let n,{$$slots:l={},$$scope:r}=a,{path:o=""}=a,{component:i=null}=a,c={},f={};const{registerRoute:u,unregisterRoute:h,activeRoute:m}=W(De);d(e,m,(e=>s(1,n=e)));const p={path:o,default:""===o};var g;return u(p),g=()=>{h(p)},U().$$.on_destroy.push(g),e.$$set=e=>{s(11,a=t(t({},a),v(e))),"path"in e&&s(6,o=e.path),"component"in e&&s(0,i=e.component),"$$scope"in e&&s(7,r=e.$$scope)},e.$$.update=()=>{if(n&&n.route===p){s(2,c=n.params);const{component:e,path:t,...l}=a;s(3,f=l),e&&(e.toString().startsWith("class ")?s(0,i=e):s(0,i=e())),Ae()&&window?.scrollTo(0,0)}},a=v(a),[i,n,c,f,m,p,o,r,l]}class Fe extends xe{constructor(e){super(),we(this,e,He,je,r,{path:6,component:0})}}const Re=[];function Ue(t,a=e){let s;const n=new Set;function l(e){if(r(t,e)&&(t=e,s)){const e=!Re.length;for(const e of n)e[1](),Re.push(e,t);if(e){for(let e=0;e<Re.length;e+=2)Re[e][0](Re[e+1]);Re.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(r,o=e){const i=[r,o];return n.add(i),1===n.size&&(s=a(l)||e),r(t),()=>{n.delete(i),0===n.size&&s&&(s(),s=null)}}}}function qe(t,a,s){const r=!Array.isArray(t),o=r?[t]:t,i=a.length<2;return d=t=>{let s=!1;const d=[];let f=0,u=e;const h=()=>{if(f)return;u();const s=a(r?d[0]:d,t);i?t(s):u=l(s)?s:e},m=o.map(((e,t)=>c(e,(e=>{d[t]=e,f&=~(1<<t),s&&h()}),(()=>{f|=1<<t}))));return s=!0,h(),function(){n(m),u(),s=!1}},{subscribe:Ue(s,d).subscribe};var d}const Ye=e=>({...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}),We=(e=>{const t=[];let a=Ye(e);return{get location(){return a},listen(s){t.push(s);const n=()=>{a=Ye(e),s({location:a,action:"POP"})};return e.addEventListener("popstate",n),()=>{e.removeEventListener("popstate",n);const a=t.indexOf(s);t.splice(a,1)}},navigate(s,{state:n,replace:l=!1}={}){n={...n,key:Date.now()+""};try{l?e.history.replaceState(n,"",s):e.history.pushState(n,"",s)}catch(t){e.location[l?"replace":"assign"](s)}a=Ye(e),t.forEach((e=>e({location:a,action:"PUSH"}))),document.activeElement.blur()}}})(Ae()?window:((e="/")=>{let t=0;const a=[{pathname:e,search:""}],s=[];return{get location(){return a[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return a},get index(){return t},get state(){return s[t]},pushState(e,n,l){const[r,o=""]=l.split("?");t++,a.push({pathname:r,search:o}),s.push(e)},replaceState(e,n,l){const[r,o=""]=l.split("?");a[t]={pathname:r,search:o},s[t]=e}}}})()),Xe=e=>({route:2&e,location:1&e}),Je=e=>({route:e[1]&&e[1].uri,location:e[0]});function Ke(e){let t;const a=e[12].default,s=f(a,e,e[11],Je);return{c(){s&&s.c()},l(e){s&&s.l(e)},m(e,a){s&&s.m(e,a),t=!0},p(e,[n]){s&&s.p&&(!t||2051&n)&&m(s,a,e,e[11],t?h(a,e[11],n,Xe):p(e[11]),Je)},i(e){t||(de(s,e),t=!0)},o(e){fe(s,e),t=!1},d(e){s&&s.d(e)}}}function Qe(e,t,a){let s,n,l,r,{$$slots:o={},$$scope:i}=t,{basepath:c="/"}=t,{url:f=null}=t,{history:u=We}=t;Y(Ve,u);const h=W(Ee),m=W(De),p=Ue([]);d(e,p,(e=>a(9,n=e)));const v=Ue(null);d(e,v,(e=>a(1,r=e)));let g=!1;const y=h||Ue(f?{pathname:f}:u.location);d(e,y,(e=>a(0,s=e)));const $=m?m.routerBase:Ue({path:c,uri:c});d(e,$,(e=>a(10,l=e)));const b=qe([$,v],(([e,t])=>{if(!t)return e;const{path:a}=e,{route:s,uri:n}=t;return{path:s.default?a:s.path.replace(/\*.*$/,""),uri:n}}));return h||(q((()=>u.listen((e=>{y.set(e.location)})))),Y(Ee,y)),Y(De,{activeRoute:v,base:$,routerBase:b,registerRoute:e=>{const{path:t}=l;let{path:a}=e;if(e._path=a,e.path=Ge(t,a),"undefined"==typeof window){if(g)return;const t=Pe([e],s.pathname);t&&(v.set(t),g=!0)}else p.update((t=>[...t,e]))},unregisterRoute:e=>{p.update((t=>t.filter((t=>t!==e))))}}),e.$$set=e=>{"basepath"in e&&a(6,c=e.basepath),"url"in e&&a(7,f=e.url),"history"in e&&a(8,u=e.history),"$$scope"in e&&a(11,i=e.$$scope)},e.$$.update=()=>{if(1024&e.$$.dirty){const{path:e}=l;p.update((t=>t.map((t=>Object.assign(t,{path:Ge(e,t._path)})))))}if(513&e.$$.dirty){const e=Pe(n,s.pathname);v.set(e)}},[s,r,p,v,y,$,c,f,u,n,l,i,o]}class Ze extends xe{constructor(e){super(),we(this,e,Qe,Ke,r,{basepath:6,url:7,history:8})}}function et(t){let a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z=at(t[0][0])+"",M=at(t[0][1])+"",j=at(t[0][2])+"",H=at(t[0][3])+"",F=at(t[0][4])+"";return{c(){a=V("div"),s=V("div"),n=V("div"),l=I(z),r=T(),o=V("div"),i=V("div"),c=V("div"),d=I(M),f=T(),u=V("div"),h=V("div"),m=V("div"),p=I(j),v=T(),g=V("div"),y=V("div"),$=V("div"),b=I(H),D=T(),k=V("div"),_=V("div"),P=V("div"),N=I(F),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{id:!0,style:!0,class:!0});var w=A(s);n=S(w,"DIV",{class:!0});var x=A(n);l=O(x,z),x.forEach(E),w.forEach(E),t.forEach(E),r=B(e),o=S(e,"DIV",{class:!0});var V=A(o);i=S(V,"DIV",{id:!0,style:!0,class:!0});var I=A(i);c=S(I,"DIV",{class:!0});var T=A(c);d=O(T,M),T.forEach(E),I.forEach(E),V.forEach(E),f=B(e),u=S(e,"DIV",{class:!0});var G=A(u);h=S(G,"DIV",{id:!0,style:!0,class:!0});var C=A(h);m=S(C,"DIV",{class:!0});var L=A(m);p=O(L,j),L.forEach(E),C.forEach(E),G.forEach(E),v=B(e),g=S(e,"DIV",{class:!0});var R=A(g);y=S(R,"DIV",{id:!0,style:!0,class:!0});var U=A(y);$=S(U,"DIV",{class:!0});var q=A($);b=O(q,H),q.forEach(E),U.forEach(E),R.forEach(E),D=B(e),k=S(e,"DIV",{class:!0});var Y=A(k);_=S(Y,"DIV",{id:!0,style:!0,class:!0});var W=A(_);P=S(W,"DIV",{class:!0});var X=A(P);N=O(X,F),X.forEach(E),W.forEach(E),Y.forEach(E),this.h()},h(){G(n,"class","result svelte-3zk90i"),G(s,"id","formTile"),L(s,"background",tt(t[0][0],t[1][0])),G(s,"class","svelte-3zk90i"),G(a,"class","icon pos-0 svelte-3zk90i"),G(c,"class","result svelte-3zk90i"),G(i,"id","formTile"),L(i,"background",tt(t[0][1],t[1][1])),G(i,"class","svelte-3zk90i"),G(o,"class","icon pos-1 svelte-3zk90i"),G(m,"class","result svelte-3zk90i"),G(h,"id","formTile"),L(h,"background",tt(t[0][2],t[1][2])),G(h,"class","svelte-3zk90i"),G(u,"class","icon pos-2 svelte-3zk90i"),G($,"class","result svelte-3zk90i"),G(y,"id","formTile"),L(y,"background",tt(t[0][3],t[1][3])),G(y,"class","svelte-3zk90i"),G(g,"class","icon pos-3 svelte-3zk90i"),G(P,"class","result svelte-3zk90i"),G(_,"id","formTile"),L(_,"background",tt(t[0][4],t[1][4])),G(_,"class","svelte-3zk90i"),G(k,"class","icon pos-4 svelte-3zk90i")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(n,l),x(e,r,t),x(e,o,t),w(o,i),w(i,c),w(c,d),x(e,f,t),x(e,u,t),w(u,h),w(h,m),w(m,p),x(e,v,t),x(e,g,t),w(g,y),w(y,$),w($,b),x(e,D,t),x(e,k,t),w(k,_),w(_,P),w(P,N)},p(e,[t]){1&t&&z!==(z=at(e[0][0])+"")&&C(l,z),3&t&&L(s,"background",tt(e[0][0],e[1][0])),1&t&&M!==(M=at(e[0][1])+"")&&C(d,M),3&t&&L(i,"background",tt(e[0][1],e[1][1])),1&t&&j!==(j=at(e[0][2])+"")&&C(p,j),3&t&&L(h,"background",tt(e[0][2],e[1][2])),1&t&&H!==(H=at(e[0][3])+"")&&C(b,H),3&t&&L(y,"background",tt(e[0][3],e[1][3])),1&t&&F!==(F=at(e[0][4])+"")&&C(N,F),3&t&&L(_,"background",tt(e[0][4],e[1][4]))},i:e,o:e,d(e){e&&E(a),e&&E(r),e&&E(o),e&&E(f),e&&E(u),e&&E(v),e&&E(g),e&&E(D),e&&E(k)}}}function tt(e,t){switch(e){case"W":return t?"linear-gradient(30deg, var(--green), #2bd2ff, #fa8bff)":"#00fe87";case"D":return"#ffdd00";case"L":return"#f83027";default:return"#d6d6d6"}}function at(e){switch(e){case"W":case"D":case"L":return e;default:return""}}function st(e,t,a){let{form:s,starTeams:n}=t;return e.$$set=e=>{"form"in e&&a(0,s=e.form),"starTeams"in e&&a(1,n=e.starTeams)},[s,n]}class nt extends xe{constructor(e){super(),we(this,e,st,et,r,{form:0,starTeams:1})}}function lt(e){switch(e){case"Brighton and Hove Albion":return"BHA";case"Manchester City":return"MCI";case"Manchester United":return"MUN";case"Aston Villa":return"AVL";case"Sheffield United":return"SHU";case"West Bromwich Albion":return"WBA";case"West Ham United":return"WHU"}return e.slice(0,3).toUpperCase()}let rt={"Wolverhampton Wanderers":"Wolves","Tottenham Hotspur":"Spurs","Leeds United":"Leeds","West Ham United":"West Ham","Brighton and Hove Albion":"Brighton"};function ot(e){return e in rt?rt[e]:e}function it(e){return e.toLowerCase().replace(/ /g,"-")}function ct(e,t,a){return t in e&&null!=e[t][a][1]}function dt(e){let t=it(e);return getComputedStyle(document.documentElement).getPropertyValue(`--${t}`)}function ft(e,t){let a=[];for(let s in e.form[t][e._id])null!=e.form[t][e._id][s].score&&a.push(s);return a}function ut(e,t){let a=Object.keys(e.form[t][e._id]);for(let s=a.length-1;s>=0;s--)if(null!=e.form[t][e._id][a[s]].score)return a[s];return"1"}function ht(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b=e[5][0]+"",D=e[5][1]+"",k=e[5][2]+"",_=e[5][3]+"",P=e[5][4]+"";return a=new nt({props:{form:e[3]+",",starTeams:e[4]}}),{c(){t=V("div"),ve(a.$$.fragment),s=T(),n=V("div"),l=V("div"),r=I(b),o=T(),i=V("div"),c=I(D),d=T(),f=V("div"),u=I(k),h=T(),m=V("div"),p=I(_),v=T(),g=V("div"),y=I(P),this.h()},l(e){t=S(e,"DIV",{class:!0});var $=A(t);ge(a.$$.fragment,$),$.forEach(E),s=B(e),n=S(e,"DIV",{class:!0});var w=A(n);l=S(w,"DIV",{class:!0});var x=A(l);r=O(x,b),x.forEach(E),o=B(w),i=S(w,"DIV",{class:!0});var V=A(i);c=O(V,D),V.forEach(E),d=B(w),f=S(w,"DIV",{class:!0});var I=A(f);u=O(I,k),I.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var T=A(m);p=O(T,_),T.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var G=A(g);y=O(G,P),G.forEach(E),w.forEach(E),this.h()},h(){G(t,"class","current-form-row icon-row svelte-1ljxuqy"),G(l,"class","icon-name pos-0 svelte-1ljxuqy"),G(i,"class","icon-name pos-1 svelte-1ljxuqy"),G(f,"class","icon-name pos-2 svelte-1ljxuqy"),G(m,"class","icon-name pos-3 svelte-1ljxuqy"),G(g,"class","icon-name pos-4 svelte-1ljxuqy"),G(n,"class","current-form-row name-row svelte-1ljxuqy")},m(e,b){x(e,t,b),ye(a,t,null),x(e,s,b),x(e,n,b),w(n,l),w(l,r),w(n,o),w(n,i),w(i,c),w(n,d),w(n,f),w(f,u),w(n,h),w(n,m),w(m,p),w(n,v),w(n,g),w(g,y),$=!0},p(e,t){const s={};8&t&&(s.form=e[3]+","),16&t&&(s.starTeams=e[4]),a.$set(s),(!$||32&t)&&b!==(b=e[5][0]+"")&&C(r,b),(!$||32&t)&&D!==(D=e[5][1]+"")&&C(c,D),(!$||32&t)&&k!==(k=e[5][2]+"")&&C(u,k),(!$||32&t)&&_!==(_=e[5][3]+"")&&C(p,_),(!$||32&t)&&P!==(P=e[5][4]+"")&&C(y,P)},i(e){$||(de(a.$$.fragment,e),$=!0)},o(e){fe(a.$$.fragment,e),$=!1},d(e){e&&E(t),$e(a),e&&E(s),e&&E(n)}}}function mt(t){let a;return{c(){a=I("None")},l(e){a=O(e,"None")},m(e,t){x(e,a,t)},p:e,d(e){e&&E(a)}}}function pt(e){let t,a,s,n=(100*e[0].form[e[2]][e[0]._id][e[1]].formRating5).toFixed(1)+"";return{c(){t=V("span"),a=I(n),s=I("%"),this.h()},l(e){t=S(e,"SPAN",{class:!0});var l=A(t);a=O(l,n),s=O(l,"%"),l.forEach(E),this.h()},h(){G(t,"class","current-form-value svelte-1ljxuqy")},m(e,n){x(e,t,n),w(t,a),w(t,s)},p(e,t){7&t&&n!==(n=(100*e[0].form[e[2]][e[0]._id][e[1]].formRating5).toFixed(1)+"")&&C(a,n)},d(e){e&&E(t)}}}function vt(e){let t,a,s,n,l=null!=e[5]&&ht(e);function r(e,t){return null!=e[1]?pt:mt}let o=r(e),i=o(e);return{c(){l&&l.c(),t=T(),a=V("div"),s=I("Current form:\r\n  "),i.c(),this.h()},l(e){l&&l.l(e),t=B(e),a=S(e,"DIV",{class:!0});var n=A(a);s=O(n,"Current form:\r\n  "),i.l(n),n.forEach(E),this.h()},h(){G(a,"class","current-form svelte-1ljxuqy")},m(e,r){l&&l.m(e,r),x(e,t,r),x(e,a,r),w(a,s),i.m(a,null),n=!0},p(e,[s]){null!=e[5]?l?(l.p(e,s),32&s&&de(l,1)):(l=ht(e),l.c(),de(l,1),l.m(t.parentNode,t)):l&&(ie(),fe(l,1,1,(()=>{l=null})),ce()),o===(o=r(e))&&i?i.p(e,s):(i.d(1),i=o(e),i&&(i.c(),i.m(a,null)))},i(e){n||(de(l),n=!0)},o(e){fe(l),n=!1},d(e){l&&l.d(e),e&&E(t),e&&E(a),i.d()}}}function gt(e,t,a){function s(){let e=function(e,t){return Object.keys(e.form[t][e._id]).sort((function(a,s){return new Date(e.form[t][e._id][a].date)-new Date(e.form[t][e._id][s].date)}))}(o,c),t=function(e,t,a,s){let n=[];for(let l=a.length-1;l>=0&&(null!=e.form[t][e._id][a[l]].score&&n.push(a[l]),!(n.length>=s));l--);return n}(o,c,e,5);a(3,n=function(e,t){let a=[];Object.keys(e.form[t][e._id][i]).length>0&&null!=e.form[t][e._id][i].form5&&(a=e.form[t][e._id][i].form5.split(""));for(let e=a.length;e<5;e++)a.unshift("N");return a.join("")}(o,c)),a(4,l=function(e,t,a){let s=[];for(let n of a){let a=e.form[t][e._id][n].team;s.unshift(e.teamRatings[a].totalRating>.75)}for(let e=s.length;e<5;e++)s.unshift(!1);return s}(o,c,t)),a(5,r=function(e,t,a){let s=[];for(let n of a)s.unshift(lt(e.form[t][e._id][n].team));for(let e=s.length;e<5;e++)s.unshift("");return s}(o,c,t))}let n,l,r,{data:o,currentMatchday:i,team:c}=t;return e.$$set=e=>{"data"in e&&a(0,o=e.data),"currentMatchday"in e&&a(1,i=e.currentMatchday),"team"in e&&a(2,c=e.team)},e.$$.update=()=>{4&e.$$.dirty&&c&&s()},[o,i,c,n,l,r]}class yt extends xe{constructor(e){super(),we(this,e,gt,vt,r,{data:0,currentMatchday:1,team:2})}}function $t(e,t,a){const s=e.slice();return s[7]=t[a],s[9]=a,s}function bt(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g=e[2].rows,y=[];for(let t=0;t<g.length;t+=1)y[t]=kt($t(e,g,t));let $=6!=e[2].teamTableIdx&&It();return{c(){t=V("div"),a=T(),s=V("div"),n=V("div"),l=T(),r=V("div"),o=I("Team"),i=T(),c=V("div"),d=I("GD"),f=T(),u=V("div"),h=I("Points"),m=T();for(let e=0;e<y.length;e+=1)y[e].c();p=T(),$&&$.c(),v=_(),this.h()},l(e){t=S(e,"DIV",{class:!0}),A(t).forEach(E),a=B(e),s=S(e,"DIV",{class:!0});var g=A(s);n=S(g,"DIV",{class:!0}),A(n).forEach(E),l=B(g),r=S(g,"DIV",{class:!0});var b=A(r);o=O(b,"Team"),b.forEach(E),i=B(g),c=S(g,"DIV",{class:!0});var w=A(c);d=O(w,"GD"),w.forEach(E),f=B(g),u=S(g,"DIV",{class:!0});var x=A(u);h=O(x,"Points"),x.forEach(E),g.forEach(E),m=B(e);for(let t=0;t<y.length;t+=1)y[t].l(e);p=B(e),$&&$.l(e),v=_(),this.h()},h(){G(t,"class","divider"),G(n,"class","table-element table-position column-title svelte-1pwy3vt"),G(r,"class","table-element table-team-name column-title svelte-1pwy3vt"),G(c,"class","table-element table-gd column-title svelte-1pwy3vt"),G(u,"class","table-element table-points column-title svelte-1pwy3vt"),G(s,"class","table-row svelte-1pwy3vt")},m(e,g){x(e,t,g),x(e,a,g),x(e,s,g),w(s,n),w(s,l),w(s,r),w(r,o),w(s,i),w(s,c),w(c,d),w(s,f),w(s,u),w(u,h),x(e,m,g);for(let t=0;t<y.length;t+=1)y[t]&&y[t].m(e,g);x(e,p,g),$&&$.m(e,g),x(e,v,g)},p(e,t){if(7&t){let a;for(g=e[2].rows,a=0;a<g.length;a+=1){const s=$t(e,g,a);y[a]?y[a].p(s,t):(y[a]=kt(s),y[a].c(),y[a].m(p.parentNode,p))}for(;a<y.length;a+=1)y[a].d(1);y.length=g.length}6!=e[2].teamTableIdx?$||($=It(),$.c(),$.m(v.parentNode,v)):$&&($.d(1),$=null)},d(e){e&&E(t),e&&E(a),e&&E(s),e&&E(m),D(y,e),e&&E(p),$&&$.d(e),e&&E(v)}}}function wt(t){let a;return{c(){a=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0,class:!0}),A(a).forEach(E),this.h()},h(){G(a,"id","divider"),G(a,"class","svelte-1pwy3vt")},m(e,t){x(e,a,t)},p:e,d(e){e&&E(a)}}}function xt(e){let t,a=e[9]!=e[2].teamTableIdx&&Et();return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,s){a&&a.m(e,s),x(e,t,s)},p(e,s){e[9]!=e[2].teamTableIdx?a||(a=Et(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&E(t)}}}function Et(e){let t;return{c(){t=V("div"),this.h()},l(e){t=S(e,"DIV",{id:!0,class:!0}),A(t).forEach(E),this.h()},h(){G(t,"id","divider"),G(t,"class","svelte-1pwy3vt")},m(e,a){x(e,t,a)},d(e){e&&E(t)}}}function Dt(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p=e[7].position+"",v=ot(e[7].name)+"",g=e[7].gd+"",y=e[7].points+"";function $(){return e[5](e[7])}return{c(){t=V("div"),a=V("div"),s=I(p),n=T(),l=V("button"),r=I(v),o=T(),i=V("div"),c=I(g),d=T(),f=V("div"),u=I(y),this.h()},l(e){t=S(e,"DIV",{class:!0});var h=A(t);a=S(h,"DIV",{class:!0});var m=A(a);s=O(m,p),m.forEach(E),n=B(h),l=S(h,"BUTTON",{class:!0});var $=A(l);r=O($,v),$.forEach(E),o=B(h),i=S(h,"DIV",{class:!0});var b=A(i);c=O(b,g),b.forEach(E),d=B(h),f=S(h,"DIV",{class:!0});var w=A(f);u=O(w,y),w.forEach(E),h.forEach(E),this.h()},h(){G(a,"class","table-element table-position svelte-1pwy3vt"),G(l,"class","table-element table-team-name svelte-1pwy3vt"),G(i,"class","table-element table-gd svelte-1pwy3vt"),G(f,"class","table-element table-points svelte-1pwy3vt"),G(t,"class","table-row svelte-1pwy3vt")},m(e,p){x(e,t,p),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(t,o),w(t,i),w(i,c),w(t,d),w(t,f),w(f,u),h||(m=P(l,"click",$),h=!0)},p(t,a){e=t,4&a&&p!==(p=e[7].position+"")&&C(s,p),4&a&&v!==(v=ot(e[7].name)+"")&&C(r,v),4&a&&g!==(g=e[7].gd+"")&&C(c,g),4&a&&y!==(y=e[7].points+"")&&C(u,y)},d(e){e&&E(t),h=!1,m()}}}function Vt(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m=e[7].position+"",p=ot(e[7].name)+"",v=e[7].gd+"",g=e[7].points+"";return{c(){t=V("div"),a=V("div"),s=I(m),n=T(),l=V("a"),r=I(p),i=T(),c=V("div"),d=I(v),f=T(),u=V("div"),h=I(g),this.h()},l(e){t=S(e,"DIV",{class:!0,style:!0});var o=A(t);a=S(o,"DIV",{class:!0,style:!0});var y=A(a);s=O(y,m),y.forEach(E),n=B(o),l=S(o,"A",{href:!0,class:!0,style:!0});var $=A(l);r=O($,p),$.forEach(E),i=B(o),c=S(o,"DIV",{class:!0,style:!0});var b=A(c);d=O(b,v),b.forEach(E),f=B(o),u=S(o,"DIV",{class:!0,style:!0});var w=A(u);h=O(w,g),w.forEach(E),o.forEach(E),this.h()},h(){G(a,"class","table-element table-position this-team svelte-1pwy3vt"),L(a,"color","var(--"+e[0]+"-secondary)"),G(l,"href",o="/"+e[0]),G(l,"class","table-element table-team-name this-team svelte-1pwy3vt"),L(l,"color","var(--"+e[0]+"-secondary)"),G(c,"class","table-element table-gd this-team svelte-1pwy3vt"),L(c,"color","var(--"+e[0]+"-secondary)"),G(u,"class","table-element table-points this-team svelte-1pwy3vt"),L(u,"color","var(--"+e[0]+"-secondary)"),G(t,"class","table-row this-team svelte-1pwy3vt"),L(t,"background-color","var(--"+e[0]+")")},m(e,o){x(e,t,o),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(t,i),w(t,c),w(c,d),w(t,f),w(t,u),w(u,h)},p(e,n){4&n&&m!==(m=e[7].position+"")&&C(s,m),1&n&&L(a,"color","var(--"+e[0]+"-secondary)"),4&n&&p!==(p=ot(e[7].name)+"")&&C(r,p),1&n&&o!==(o="/"+e[0])&&G(l,"href",o),1&n&&L(l,"color","var(--"+e[0]+"-secondary)"),4&n&&v!==(v=e[7].gd+"")&&C(d,v),1&n&&L(c,"color","var(--"+e[0]+"-secondary)"),4&n&&g!==(g=e[7].points+"")&&C(h,g),1&n&&L(u,"color","var(--"+e[0]+"-secondary)"),1&n&&L(t,"background-color","var(--"+e[0]+")")},d(e){e&&E(t)}}}function kt(e){let t,a;function s(e,t){return 0===e[9]?xt:e[9]-1!=e[2].teamTableIdx&&e[9]!=e[2].teamTableIdx?wt:void 0}let n=s(e),l=n&&n(e);function r(e,t){return e[9]===e[2].teamTableIdx?Vt:Dt}let o=r(e),i=o(e);return{c(){l&&l.c(),t=T(),i.c(),a=_()},l(e){l&&l.l(e),t=B(e),i.l(e),a=_()},m(e,s){l&&l.m(e,s),x(e,t,s),i.m(e,s),x(e,a,s)},p(e,c){n===(n=s(e))&&l?l.p(e,c):(l&&l.d(1),l=n&&n(e),l&&(l.c(),l.m(t.parentNode,t))),o===(o=r(e))&&i?i.p(e,c):(i.d(1),i=o(e),i&&(i.c(),i.m(a.parentNode,a)))},d(e){l&&l.d(e),e&&E(t),i.d(e),e&&E(a)}}}function It(e){let t;return{c(){t=V("div"),this.h()},l(e){t=S(e,"DIV",{id:!0,class:!0}),A(t).forEach(E),this.h()},h(){G(t,"id","divider"),G(t,"class","svelte-1pwy3vt")},m(e,a){x(e,t,a)},d(e){e&&E(t)}}}function Tt(t){let a,s=null!=t[2]&&bt(t);return{c(){a=V("div"),s&&s.c(),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s&&s.l(t),t.forEach(E),this.h()},h(){G(a,"class","table-snippet svelte-1pwy3vt")},m(e,t){x(e,a,t),s&&s.m(a,null)},p(e,[t]){null!=e[2]?s?s.p(e,t):(s=bt(e),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&E(a),s&&s.d()}}}function _t(e,t,a){let s,{data:n,hyphenatedTeam:l,team:r,switchTeam:o}=t;return e.$$set=e=>{"data"in e&&a(3,n=e.data),"hyphenatedTeam"in e&&a(0,l=e.hyphenatedTeam),"team"in e&&a(4,r=e.team),"switchTeam"in e&&a(1,o=e.switchTeam)},e.$$.update=()=>{16&e.$$.dirty&&r&&function(){let e,t=Object.keys(n.standings).sort((function(e,t){return n.standings[e][n._id].position-n.standings[t][n._id].position})),[l,o]=function(e,t){let a=e.indexOf(t),s=a-3,n=a+4;return s<0&&(n-=s,s=0),n>e.length-1&&(s-=n-e.length,n=e.length),[s,n]}(t,r),i=[];for(let a=l;a<o;a++)t[a]===r&&(e=a-l),i.push({name:t[a],position:n.standings[t[a]][n._id].position,points:n.standings[t[a]][n._id].points,gd:n.standings[t[a]][n._id].gD});a(2,s={teamTableIdx:e,rows:i})}()},[l,o,s,n,r,e=>{o(it(e.name))}]}class Pt extends xe{constructor(e){super(),we(this,e,_t,Tt,r,{data:3,hyphenatedTeam:0,team:4,switchTeam:1})}}function Gt(e){let t=e%100;return[,"st","nd","rd"][t>20?t%10:t]||"th"}function At(e){let t=it(e);return`background: var(--${t}); color: var(--${t}-secondary);`}function Nt(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ").replace("And","and")}function zt(e,t,a){const s=e.slice();return s[4]=t[a],s}function St(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,_,N,z,M,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,ee,te,ae,se=ot(e[0].upcoming[e[1]].nextTeam)+"",ne=e[0].upcoming[e[1]].atHome?"Home":"Away",le=e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position+"",re=Gt(e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position)+"",oe=(100*e[0].form[e[0].upcoming[e[1]].nextTeam][e[0]._id][ut(e[0],e[0].upcoming[e[1]].nextTeam)].formRating5).toFixed(1)+"",ie=e[0].upcoming[e[1]].prediction+"";function ce(e,t){return 0===e[0].upcoming[e[1]].prevMatches.length?Bt:Ot}let de=ce(e),fe=de(e),ue=e[0].upcoming[e[1]].prevMatches,he=[];for(let t=0;t<ue.length;t+=1)he[t]=Ct(zt(e,ue,t));return{c(){t=V("div"),a=V("div"),s=V("h1"),n=I("Next Game: \r\n        "),l=V("button"),r=I(se),o=I(" "),i=I("\r\n        ("),c=I(ne),d=I(")"),f=T(),u=V("div"),h=V("div"),m=V("div"),p=T(),v=V("div"),g=V("div"),y=V("div"),$=I(le),b=V("span"),k=I(re),_=T(),N=V("div"),z=I("Current form:\r\n            "),M=V("span"),L=I(oe),j=I("%"),H=T(),F=V("div"),R=I("Score prediction\r\n            "),U=V("br"),q=T(),Y=V("a"),W=V("b"),X=I(ie),J=T(),K=V("br"),Q=T(),Z=V("div"),fe.c(),ee=T();for(let e=0;e<he.length;e+=1)he[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var w=A(t);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"H1",{class:!0});var D=A(s);n=O(D,"Next Game: \r\n        "),l=S(D,"BUTTON",{class:!0});var V=A(l);r=O(V,se),o=O(V," "),V.forEach(E),i=O(D,"\r\n        ("),c=O(D,ne),d=O(D,")"),D.forEach(E),x.forEach(E),f=B(w),u=S(w,"DIV",{class:!0});var I=A(u);h=S(I,"DIV",{class:!0});var T=A(h);m=S(T,"DIV",{class:!0}),A(m).forEach(E),p=B(T),v=S(T,"DIV",{class:!0});var P=A(v);g=S(P,"DIV",{class:!0});var G=A(g);y=S(G,"DIV",{class:!0});var C=A(y);$=O(C,le),b=S(C,"SPAN",{class:!0});var te=A(b);k=O(te,re),te.forEach(E),C.forEach(E),G.forEach(E),_=B(P),N=S(P,"DIV",{class:!0});var ae=A(N);z=O(ae,"Current form:\r\n            "),M=S(ae,"SPAN",{class:!0});var ce=A(M);L=O(ce,oe),j=O(ce,"%"),ce.forEach(E),ae.forEach(E),H=B(P),F=S(P,"DIV",{class:!0});var de=A(F);R=O(de,"Score prediction\r\n            "),U=S(de,"BR",{}),q=B(de),Y=S(de,"A",{class:!0,href:!0});var ue=A(Y);W=S(ue,"B",{});var me=A(W);X=O(me,ie),me.forEach(E),ue.forEach(E),J=B(de),K=S(de,"BR",{}),de.forEach(E),P.forEach(E),T.forEach(E),Q=B(I),Z=S(I,"DIV",{class:!0});var pe=A(Z);fe.l(pe),ee=B(pe);for(let e=0;e<he.length;e+=1)he[e].l(pe);pe.forEach(E),I.forEach(E),w.forEach(E),this.h()},h(){G(l,"class","next-game-team-btn svelte-1s9shv6"),G(s,"class","next-game-title-text svelte-1s9shv6"),G(a,"class","next-game-title svelte-1s9shv6"),G(m,"class","next-game-position svelte-1s9shv6"),G(b,"class","ordinal-position svelte-1s9shv6"),G(y,"class","next-game-position svelte-1s9shv6"),G(g,"class","next-game-item svelte-1s9shv6"),G(M,"class","current-form-value svelte-1s9shv6"),G(N,"class","next-game-item current-form svelte-1s9shv6"),G(Y,"class","predictions-link svelte-1s9shv6"),G(Y,"href","/predictions"),G(F,"class","next-game-item svelte-1s9shv6"),G(v,"class","predictions"),G(h,"class","predictions-and-logo svelte-1s9shv6"),G(Z,"class","past-results svelte-1s9shv6"),G(u,"class","next-game-values svelte-1s9shv6"),G(t,"class","next-game-prediction svelte-1s9shv6")},m(E,D){x(E,t,D),w(t,a),w(a,s),w(s,n),w(s,l),w(l,r),w(l,o),w(s,i),w(s,c),w(s,d),w(t,f),w(t,u),w(u,h),w(h,m),w(h,p),w(h,v),w(v,g),w(g,y),w(y,$),w(y,b),w(b,k),w(v,_),w(v,N),w(N,z),w(N,M),w(M,L),w(M,j),w(v,H),w(v,F),w(F,R),w(F,U),w(F,q),w(F,Y),w(Y,W),w(W,X),w(F,J),w(F,K),w(u,Q),w(u,Z),fe.m(Z,null),w(Z,ee);for(let e=0;e<he.length;e+=1)he[e]&&he[e].m(Z,null);te||(ae=P(l,"click",e[3]),te=!0)},p(e,t){if(3&t&&se!==(se=ot(e[0].upcoming[e[1]].nextTeam)+"")&&C(r,se),3&t&&ne!==(ne=e[0].upcoming[e[1]].atHome?"Home":"Away")&&C(c,ne),3&t&&le!==(le=e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position+"")&&C($,le),3&t&&re!==(re=Gt(e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position)+"")&&C(k,re),3&t&&oe!==(oe=(100*e[0].form[e[0].upcoming[e[1]].nextTeam][e[0]._id][ut(e[0],e[0].upcoming[e[1]].nextTeam)].formRating5).toFixed(1)+"")&&C(L,oe),3&t&&ie!==(ie=e[0].upcoming[e[1]].prediction+"")&&C(X,ie),de!==(de=ce(e))&&(fe.d(1),fe=de(e),fe&&(fe.c(),fe.m(Z,ee))),3&t){let a;for(ue=e[0].upcoming[e[1]].prevMatches,a=0;a<ue.length;a+=1){const s=zt(e,ue,a);he[a]?he[a].p(s,t):(he[a]=Ct(s),he[a].c(),he[a].m(Z,null))}for(;a<he.length;a+=1)he[a].d(1);he.length=ue.length}},d(e){e&&E(t),fe.d(),D(he,e),te=!1,ae()}}}function Mt(e){let t,a,s,n,l,r,o,i=e[0]._id+"",c=e[0]._id+1+"";return{c(){t=V("div"),a=V("div"),s=V("h1"),n=I(i),l=I("/"),r=I(c),o=I(" SEASON COMPLETE"),this.h()},l(e){t=S(e,"DIV",{class:!0});var d=A(t);a=S(d,"DIV",{class:!0});var f=A(a);s=S(f,"H1",{class:!0});var u=A(s);n=O(u,i),l=O(u,"/"),r=O(u,c),o=O(u," SEASON COMPLETE"),u.forEach(E),f.forEach(E),d.forEach(E),this.h()},h(){G(s,"class","next-game-title-text svelte-1s9shv6"),G(a,"class","next-game-season-complete svelte-1s9shv6"),G(t,"class","next-game-prediction-complete svelte-1s9shv6")},m(e,i){x(e,t,i),w(t,a),w(a,s),w(s,n),w(s,l),w(s,r),w(s,o)},p(e,t){1&t&&i!==(i=e[0]._id+"")&&C(n,i),1&t&&c!==(c=e[0]._id+1+"")&&C(r,c)},d(e){e&&E(t)}}}function Ot(e){let t,a;return{c(){t=V("div"),a=I("Previous results"),this.h()},l(e){t=S(e,"DIV",{class:!0});var s=A(t);a=O(s,"Previous results"),s.forEach(E),this.h()},h(){G(t,"class","next-game-item prev-results-title svelte-1s9shv6")},m(e,s){x(e,t,s),w(t,a)},d(e){e&&E(t)}}}function Bt(e){let t,a;return{c(){t=V("div"),a=I("No previous results"),this.h()},l(e){t=S(e,"DIV",{class:!0});var s=A(t);a=O(s,"No previous results"),s.forEach(E),this.h()},h(){G(t,"class","next-game-item prev-results-title no-prev-results svelte-1s9shv6")},m(e,s){x(e,t,s),w(t,a)},d(e){e&&E(t)}}}function Ct(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z,M,j,H=new Date(e[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"",F=lt(e[4].homeTeam)+"",R=e[4].homeGoals+"",U=e[4].awayGoals+"",q=lt(e[4].awayTeam)+"";return{c(){t=V("div"),a=V("div"),s=I(H),n=T(),l=V("div"),r=V("div"),o=V("div"),i=V("div"),c=I(F),f=T(),u=V("div"),h=V("div"),m=I(R),v=T(),g=V("div"),y=V("div"),$=V("div"),b=I(U),k=T(),_=V("div"),P=I(q),z=T(),M=V("div"),j=T(),this.h()},l(e){t=S(e,"DIV",{class:!0});var d=A(t);a=S(d,"DIV",{class:!0});var p=A(a);s=O(p,H),p.forEach(E),n=B(d),l=S(d,"DIV",{class:!0});var w=A(l);r=S(w,"DIV",{class:!0});var x=A(r);o=S(x,"DIV",{class:!0});var D=A(o);i=S(D,"DIV",{class:!0,style:!0});var V=A(i);c=O(V,F),V.forEach(E),f=B(D),u=S(D,"DIV",{class:!0,style:!0});var I=A(u);h=S(I,"DIV",{class:!0});var T=A(h);m=O(T,R),T.forEach(E),I.forEach(E),D.forEach(E),v=B(x),g=S(x,"DIV",{class:!0});var G=A(g);y=S(G,"DIV",{class:!0,style:!0});var N=A(y);$=S(N,"DIV",{class:!0});var C=A($);b=O(C,U),C.forEach(E),N.forEach(E),k=B(G),_=S(G,"DIV",{class:!0,style:!0});var L=A(_);P=O(L,q),L.forEach(E),G.forEach(E),x.forEach(E),z=B(w),M=S(w,"DIV",{style:!0}),A(M).forEach(E),w.forEach(E),j=B(d),d.forEach(E),this.h()},h(){G(a,"class","past-result-date result-details svelte-1s9shv6"),G(i,"class","home-team svelte-1s9shv6"),G(i,"style",d=At(e[4].homeTeam)),G(h,"class","home-goals svelte-1s9shv6"),G(u,"class","goals-container svelte-1s9shv6"),G(u,"style",p=At(jt(e[4],!0))),G(o,"class","left-side svelte-1s9shv6"),G($,"class","away-goals svelte-1s9shv6"),G(y,"class","goals-container svelte-1s9shv6"),G(y,"style",D=At(jt(e[4],!1))),G(_,"class","away-team svelte-1s9shv6"),G(_,"style",N=At(e[4].awayTeam)),G(g,"class","right-side svelte-1s9shv6"),G(r,"class","past-result svelte-1s9shv6"),L(M,"clear","both"),G(l,"class","next-game-item result-details svelte-1s9shv6"),G(t,"class","next-game-item-container")},m(e,d){x(e,t,d),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(r,o),w(o,i),w(i,c),w(o,f),w(o,u),w(u,h),w(h,m),w(r,v),w(r,g),w(g,y),w(y,$),w($,b),w(g,k),w(g,_),w(_,P),w(l,z),w(l,M),w(t,j)},p(e,t){3&t&&H!==(H=new Date(e[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"")&&C(s,H),3&t&&F!==(F=lt(e[4].homeTeam)+"")&&C(c,F),3&t&&d!==(d=At(e[4].homeTeam))&&G(i,"style",d),3&t&&R!==(R=e[4].homeGoals+"")&&C(m,R),3&t&&p!==(p=At(jt(e[4],!0)))&&G(u,"style",p),3&t&&U!==(U=e[4].awayGoals+"")&&C(b,U),3&t&&D!==(D=At(jt(e[4],!1)))&&G(y,"style",D),3&t&&q!==(q=lt(e[4].awayTeam)+"")&&C(P,q),3&t&&N!==(N=At(e[4].awayTeam))&&G(_,"style",N)},d(e){e&&E(t)}}}function Lt(t){let a;function s(e,t){return null===e[0].upcoming[e[1]].nextTeam?Mt:St}let n=s(t),l=n(t);return{c(){l.c(),a=_()},l(e){l.l(e),a=_()},m(e,t){l.m(e,t),x(e,a,t)},p(e,[t]){n===(n=s(e))&&l?l.p(e,t):(l.d(1),l=n(e),l&&(l.c(),l.m(a.parentNode,a)))},i:e,o:e,d(e){l.d(e),e&&E(a)}}}function jt(e,t){return t?e.homeGoals<e.awayGoals?e.awayTeam:e.homeTeam:e.homeGoals>e.awayGoals?e.homeTeam:e.awayTeam}function Ht(e,t,a){let{data:s,team:n,switchTeam:l}=t;return e.$$set=e=>{"data"in e&&a(0,s=e.data),"team"in e&&a(1,n=e.team),"switchTeam"in e&&a(2,l=e.switchTeam)},[s,n,l,()=>{l(it(s.upcoming[n].nextTeam))}]}class Ft extends xe{constructor(e){super(),we(this,e,Ht,Lt,r,{data:0,team:1,switchTeam:2})}}function Rt(e,t){return Math.round(e.homeGoals)===t.homeGoals&&Math.round(e.awayGoals)===t.awayGoals}function Ut(e,t){return Math.round(e.homeGoals)>Math.round(e.awayGoals)&&Math.round(t.homeGoals)>Math.round(t.awayGoals)||Math.round(e.homeGoals)===Math.round(e.awayGoals)&&Math.round(t.homeGoals)===Math.round(t.awayGoals)||Math.round(e.homeGoals)<Math.round(e.awayGoals)&&Math.round(t.homeGoals)<Math.round(t.awayGoals)}function qt(e,t,a){return 0===t&&a||0===e&&!a}function Yt(e,t,a){return a?e:t}function Wt(e,t,a){return a?t:e}function Xt(e,t,a){return 0===e&&a||0===t&&!a}function Jt(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z,M,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,ee,te,ae,se,ne=e[2].xG+"",le=e[1][e[0]].xG.toFixed(2)+"",re=e[2].xG+"",oe=e[2].xC+"",ie=e[1][e[0]].xC.toFixed(2)+"",ce=e[2].xC+"",de=e[2].cleanSheetRatio+"",fe=e[1][e[0]].cleanSheetRatio.toFixed(2)+"",ue=e[2].cleanSheetRatio+"";return{c(){t=V("div"),a=V("div"),s=V("div"),n=V("div"),l=I(ne),r=T(),o=V("div"),i=I(le),c=T(),d=V("div"),f=I(re),h=T(),m=V("div"),p=I("goals per game"),v=T(),g=V("div"),y=V("div"),$=V("div"),b=I(oe),D=T(),k=V("div"),_=I(ie),P=T(),N=V("div"),z=I(ce),L=T(),j=V("div"),H=I("conceded per game"),F=T(),R=V("div"),U=V("div"),q=V("div"),Y=I(de),W=T(),X=V("div"),J=I(fe),K=T(),Q=V("div"),Z=I(ue),te=T(),ae=V("div"),se=I("clean sheets"),this.h()},l(e){t=S(e,"DIV",{class:!0});var u=A(t);a=S(u,"DIV",{class:!0});var w=A(a);s=S(w,"DIV",{class:!0});var x=A(s);n=S(x,"DIV",{class:!0});var V=A(n);l=O(V,ne),V.forEach(E),r=B(x),o=S(x,"DIV",{class:!0});var I=A(o);i=O(I,le),I.forEach(E),c=B(x),d=S(x,"DIV",{class:!0});var T=A(d);f=O(T,re),T.forEach(E),x.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var G=A(m);p=O(G,"goals per game"),G.forEach(E),w.forEach(E),v=B(u),g=S(u,"DIV",{class:!0});var M=A(g);y=S(M,"DIV",{class:!0});var C=A(y);$=S(C,"DIV",{class:!0});var ee=A($);b=O(ee,oe),ee.forEach(E),D=B(C),k=S(C,"DIV",{class:!0});var he=A(k);_=O(he,ie),he.forEach(E),P=B(C),N=S(C,"DIV",{class:!0});var me=A(N);z=O(me,ce),me.forEach(E),C.forEach(E),L=B(M),j=S(M,"DIV",{class:!0});var pe=A(j);H=O(pe,"conceded per game"),pe.forEach(E),M.forEach(E),F=B(u),R=S(u,"DIV",{class:!0});var ve=A(R);U=S(ve,"DIV",{class:!0});var ge=A(U);q=S(ge,"DIV",{class:!0});var ye=A(q);Y=O(ye,de),ye.forEach(E),W=B(ge),X=S(ge,"DIV",{class:!0});var $e=A(X);J=O($e,fe),$e.forEach(E),K=B(ge),Q=S(ge,"DIV",{class:!0});var be=A(Q);Z=O(be,ue),be.forEach(E),ge.forEach(E),te=B(ve),ae=S(ve,"DIV",{class:!0});var we=A(ae);se=O(we,"clean sheets"),we.forEach(E),ve.forEach(E),u.forEach(E),this.h()},h(){G(n,"class","season-stat-position hidden svelte-hgcuuq"),G(o,"class","season-stat-number"),G(d,"class",u="season-stat-position ssp-"+e[2].xG+" svelte-hgcuuq"),G(s,"class","season-stat-value svelte-hgcuuq"),G(m,"class","season-stat-text svelte-hgcuuq"),G(a,"class","season-stat goals-per-game svelte-hgcuuq"),G($,"class","season-stat-position hidden svelte-hgcuuq"),G(k,"class","season-stat-number"),G(N,"class",M="season-stat-position ssp-"+e[2].xC+" svelte-hgcuuq"),G(y,"class","season-stat-value svelte-hgcuuq"),G(j,"class","season-stat-text svelte-hgcuuq"),G(g,"class","season-stat conceded-per-game svelte-hgcuuq"),G(q,"class","season-stat-position hidden svelte-hgcuuq"),G(X,"class","season-stat-number"),G(Q,"class",ee="season-stat-position ssp-"+e[2].cleanSheetRatio+" svelte-hgcuuq"),G(U,"class","season-stat-value svelte-hgcuuq"),G(ae,"class","season-stat-text svelte-hgcuuq"),G(R,"class","season-stat clean-sheet-ratio svelte-hgcuuq"),G(t,"class","season-stats svelte-hgcuuq")},m(e,u){x(e,t,u),w(t,a),w(a,s),w(s,n),w(n,l),w(s,r),w(s,o),w(o,i),w(s,c),w(s,d),w(d,f),w(a,h),w(a,m),w(m,p),w(t,v),w(t,g),w(g,y),w(y,$),w($,b),w(y,D),w(y,k),w(k,_),w(y,P),w(y,N),w(N,z),w(g,L),w(g,j),w(j,H),w(t,F),w(t,R),w(R,U),w(U,q),w(q,Y),w(U,W),w(U,X),w(X,J),w(U,K),w(U,Q),w(Q,Z),w(R,te),w(R,ae),w(ae,se)},p(e,t){4&t&&ne!==(ne=e[2].xG+"")&&C(l,ne),3&t&&le!==(le=e[1][e[0]].xG.toFixed(2)+"")&&C(i,le),4&t&&re!==(re=e[2].xG+"")&&C(f,re),4&t&&u!==(u="season-stat-position ssp-"+e[2].xG+" svelte-hgcuuq")&&G(d,"class",u),4&t&&oe!==(oe=e[2].xC+"")&&C(b,oe),3&t&&ie!==(ie=e[1][e[0]].xC.toFixed(2)+"")&&C(_,ie),4&t&&ce!==(ce=e[2].xC+"")&&C(z,ce),4&t&&M!==(M="season-stat-position ssp-"+e[2].xC+" svelte-hgcuuq")&&G(N,"class",M),4&t&&de!==(de=e[2].cleanSheetRatio+"")&&C(Y,de),3&t&&fe!==(fe=e[1][e[0]].cleanSheetRatio.toFixed(2)+"")&&C(J,fe),4&t&&ue!==(ue=e[2].cleanSheetRatio+"")&&C(Z,ue),4&t&&ee!==(ee="season-stat-position ssp-"+e[2].cleanSheetRatio+" svelte-hgcuuq")&&G(Q,"class",ee)},d(e){e&&E(t)}}}function Kt(t){let a,s=null!=t[1]&&Jt(t);return{c(){s&&s.c(),a=_()},l(e){s&&s.l(e),a=_()},m(e,t){s&&s.m(e,t),x(e,a,t)},p(e,[t]){null!=e[1]?s?s.p(e,t):(s=Jt(e),s.c(),s.m(a.parentNode,a)):s&&(s.d(1),s=null)},i:e,o:e,d(e){s&&s.d(e),e&&E(a)}}}function Qt(e,t,a,s){let n=Object.keys(e).sort((function(a,s){return e[s][t]-e[a][t]})).indexOf(a)+1;return s&&(n=21-n),n}function Zt(e,t,a){function s(e,t){a(2,r=function(e,t){let a=Qt(e,"xG",t,!1),s=Qt(e,"xC",t,!0),n=Qt(e,"cleanSheetRatio",t,!1);return{xG:`${a}${Gt(a)}`,xC:`${s}${Gt(s)}`,cleanSheetRatio:`${n}${Gt(n)}`}}(e,t))}function n(e,t,a,s){if(a in e.form)for(let n of Object.keys(e.form[a][s])){let l=e.form[a][s][n].score;if(null!=l){let r=e.form[a][s][n].atHome;qt(l.homeGoals,l.awayGoals,r)&&(t[a].cleanSheetRatio+=1),Xt(l.homeGoals,l.awayGoals,r)&&(t[a].noGoalRatio+=1),t[a].xG+=Yt(l.homeGoals,l.awayGoals,r),t[a].xC+=Wt(l.homeGoals,l.awayGoals,r),t[a].played+=1}}}let l,r={xG:"",xC:"",cleanSheetRatio:""},o=!1;q((()=>{a(1,l=function(e){let t={};for(let a of Object.keys(e.standings))t[a]={cleanSheetRatio:0,noGoalRatio:0,xC:0,xG:0,played:0},n(e,t,a,e._id),n(e,t,a,e._id-1),t[a].played>0&&(t[a].xG/=t[a].played,t[a].xC/=t[a].played,t[a].cleanSheetRatio/=t[a].played,t[a].noGoalRatio/=t[a].played);return t}(i)),s(l,c),o=!0}));let{data:i,team:c}=t;return e.$$set=e=>{"data"in e&&a(3,i=e.data),"team"in e&&a(0,c=e.team)},e.$$.update=()=>{1&e.$$.dirty&&c&&o&&s(l,c)},[c,l,r,i]}class ea extends xe{constructor(e){super(),we(this,e,Zt,Kt,r,{data:3,team:0})}}function ta(e){let t,a,s,n,l=new Date(e[0]).toLocaleString()+"";return{c(){t=V("div"),a=I("Last updated: "),s=I(l),n=I(" UTC"),this.h()},l(e){t=S(e,"DIV",{class:!0});var r=A(t);a=O(r,"Last updated: "),s=O(r,l),n=O(r," UTC"),r.forEach(E),this.h()},h(){G(t,"class","last-updated no-select svelte-10mkvm0")},m(e,l){x(e,t,l),w(t,a),w(t,s),w(t,n)},p(e,t){1&t&&l!==(l=new Date(e[0]).toLocaleString()+"")&&C(s,l)},d(e){e&&E(t)}}}function aa(t){let a,s,n,l,r,o,i,c=null!=t[0]&&ta(t);return{c(){a=V("div"),s=V("div"),c&&c.c(),n=T(),l=V("div"),r=V("span"),o=I("pl"),i=I("dashboard"),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var d=A(s);c&&c.l(d),n=B(d),l=S(d,"DIV",{class:!0});var f=A(l);r=S(f,"SPAN",{class:!0});var u=A(r);o=O(u,"pl"),u.forEach(E),i=O(f,"dashboard"),f.forEach(E),d.forEach(E),t.forEach(E),this.h()},h(){G(r,"class","pl svelte-10mkvm0"),G(l,"class","version no-select svelte-10mkvm0"),G(s,"class","teams-footer-bottom svelte-10mkvm0"),G(a,"class","teams-footer footer-text-colour svelte-10mkvm0")},m(e,t){x(e,a,t),w(a,s),c&&c.m(s,null),w(s,n),w(s,l),w(l,r),w(r,o),w(l,i)},p(e,[t]){null!=e[0]?c?c.p(e,t):(c=ta(e),c.c(),c.m(s,n)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&E(a),c&&c.d()}}}function sa(e,t,a){let{lastUpdated:s}=t;return e.$$set=e=>{"lastUpdated"in e&&a(0,s=e.lastUpdated)},[s]}class na extends xe{constructor(e){super(),we(this,e,sa,aa,r,{lastUpdated:0})}}function la(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function ra(e,t){let a=Array.from(Array(11),((e,t)=>10*t)),[s,n]=function(e){let t=new Date(e[0]);t.setDate(t.getDate()-7);let a=new Date(e[e.length-1]);return a.setDate(a.getDate()+7),[t,a]}(e),l=function(e,t){let a=null;return e<=t&&(a={type:"line",x0:e,y0:-4,x1:e,y1:104,line:{color:"black",dash:"dot",width:1}}),a}(t,n);return{title:!1,autosize:!0,margin:{r:20,l:60,t:5,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Team rating"},gridcolor:"#d6d6d6",showline:!1,zeroline:!1,fixedrange:!0,ticktext:a,tickvals:a},xaxis:{linecolor:"black",showgrid:!1,showline:!1,range:[s,n],fixedrange:!0},shapes:[l],dragmode:!1}}function oa(e,t,a){function s(e,t){let a,s,n;return t.atHome?(s=ot(e),n=ot(t.team)):(s=ot(t.team),n=ot(e)),a=null!=t.score?function(e,t,a,s){return`${e} ${a} - ${s} ${t}`}(s,n,t.score.homeGoals,t.score.awayGoals):`${s} vs ${n}`,a}function n(e,t,a){let[n,l,r]=function(e,t){let a=[],n=[],l=[];for(let r=1;r<=38;r++){let o=e.fixtures[t][r];a.push(new Date(o.date));let i=e.teamRatings[o.team].totalRating;o.atHome&&(i*=1-e.homeAdvantages[o.team].totalHomeAdvantage),n.push(100*i);let c=s(t,o);l.push(c)}return[a,n,l]}(e,t);!function(e,t,a){let s=[];for(let n=0;n<e.length;n++)s.push({x:e[n],y:t[n],details:a[n]});s.sort((function(e,t){return e.x<t.x?-1:e.x==t.x?0:1}));for(let n=0;n<s.length;n++)e[n]=s[n].x,t[n]=s[n].y,a[n]=s[n].details}(n,l,r);let o=Array.from({length:38},((e,t)=>t+1)),i=Array(n.length).fill(13);return i=function(e,t,a,s){let n,l=Number.POSITIVE_INFINITY;for(let e=0;e<t.length;e++){let s=t[e]-a;0<s&&s<l&&(l=s,n=e)}return null!=n&&(e[n]=s),e}(i,n,a,26),{x:n,y:l,type:"scatter",mode:"lines+markers",text:r,line:{color:"#737373"},marker:{size:i,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:l,opacity:1,line:{width:1}},customdata:o,hovertemplate:"<b>%{text}</b><br>Matchday %{customdata}<br>%{x|%d %b %Y}<br>Team rating: <b> %{y:.1f}%</b><extra></extra>"}}function l(){if(c){let e={"yaxis.title":null,"margin.l":20,"yaxis.color":"#fafafa"},t=i.data[0].marker.size;for(let e=0;e<t.length;e++)t[e]=Math.round(t[e]/1.7);let a={marker:{size:t,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=t,Plotly.update(o,a,e,0)}}function r(){i=function(e,t){let a=Date.now(),s=n(e,t,a);return{data:[s],layout:ra(s.x,a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let o,i,c=!1;q((()=>{r(),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=t;return e.$$set=e=>{"data"in e&&a(1,d=e.data),"team"in e&&a(2,f=e.team),"mobileView"in e&&a(3,u=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&f&&function(){if(c){let e=n(d,f,Date.now());i.data[0]=e,Plotly.redraw(o),u&&l()}}(),8&e.$$.dirty&&!u&&function(){if(c){let e={"yaxis.title":{text:"Team rating"},"margin.l":60,"yaxis.color":"black"},t=i.data[0].marker.size;for(let e=0;e<t.length;e++)t[e]=Math.round(1.7*t[e]);let a={marker:{size:t,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=t,Plotly.update(o,a,e,0)}}(),24&e.$$.dirty&&c&&u&&l()},[o,d,f,u,c,function(e){J[e?"unshift":"push"]((()=>{o=e,a(0,o)}))}]}class ia extends xe{constructor(e){super(),we(this,e,oa,la,r,{data:1,team:2,mobileView:3})}}function ca(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[7](s)},p:e,i:e,o:e,d(e){e&&E(a),t[7](null)}}}function da(e,t,a){function s(e,t,a){let s=[],n=[];for(let a in e.form[t][e._id])null!=e.form[t][e._id][a].score&&(n.push(a),s.push(new Date(e.form[t][e._id][a].date)));let l,r=[];for(let a of n){let s=e.form[t][e._id][a].formRating5;r.push(100*s)}if(a){let e=it(t);l={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else l={color:"#d3d3d3"};return{x:n,y:r,name:t,mode:"lines",line:l,text:s,hovertemplate:`<b>${t}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Form: <b>%{y:.1f}%</b><extra></extra>`,showlegend:!1}}function n(e,t){let a=[],n=Object.keys(e.standings);for(let l=0;l<n.length;l++)if(n[l]!=t){let t=s(e,n[l],!1);a.push(t)}let l=s(e,t,!0);return a.push(l),a}function l(){let e=Array.from(Array(11),((e,t)=>10*t));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,ticktext:e,tickvals:e,range:[-1,101]},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,range:[h[0],h[h.length-1]]},dragmode:!1}}function r(){if(d){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(i,{},e)}}function o(e,t){return{data:n(e,t),layout:l(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let i,c,d=!1;q((()=>{c=o(f,u),new Plotly.newPlot(i,c.data,c.layout,c.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),setTimeout((()=>{a(1,m=!0),window.dispatchEvent(new Event("resize"))}),50),a(6,d=!0)}));let{data:f,team:u,playedDates:h,lazyLoad:m,mobileView:p}=t;return e.$$set=e=>{"data"in e&&a(2,f=e.data),"team"in e&&a(3,u=e.team),"playedDates"in e&&a(4,h=e.playedDates),"lazyLoad"in e&&a(1,m=e.lazyLoad),"mobileView"in e&&a(5,p=e.mobileView)},e.$$.update=()=>{8&e.$$.dirty&&u&&function(){if(d){let e=o(f,u);for(let t=0;t<20;t++)c.data[t]=e.data[t];c.layout.xaxis.range[0]=h[0],c.layout.xaxis.range[1]=h[h.length-1],Plotly.redraw(i),p&&r()}}(),32&e.$$.dirty&&!p&&function(){if(d){let e={"yaxis.title":{text:"Form rating"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(i,{},e)}}(),96&e.$$.dirty&&d&&p&&r()},[i,m,f,u,h,p,d,function(e){J[e?"unshift":"push"]((()=>{i=e,a(0,i)}))}]}class fa extends xe{constructor(e){super(),we(this,e,da,ca,r,{data:2,team:3,playedDates:4,lazyLoad:1,mobileView:5})}}function ua(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function ha(e,t,a){function s(e,t,a){let s=Object.keys(e.form[t][e._id]),n=function(e,t,a){let s=[];for(let n=0;n<a.length;n++){let l=e.form[t][e._id][a[n]].date;s.push(l)}return s}(e,t,s),l=function(e,t,a){let s=[];for(let n=0;n<a.length;n++){let l=e.form[t][e._id][a[n]].position;s.push(l)}return s}(e,t,s),r=function(e,t){let a;if(t){let t=it(e);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else a={color:"#d3d3d3"};return a}(t,a);return{x:s,y:l,name:t,mode:"lines",line:r,text:n,hovertemplate:`<b>${t}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function n(e,t){let a=[],n=Object.keys(e.standings);for(let l=0;l<n.length;l++)if(n[l]!=t){let t=s(e,n[l],!1);a.push(t)}let l=s(e,t,!0);return a.push(l),a}function l(){let e=Object.keys(u.form[h][u._id]);return[{type:"rect",x0:e[0],y0:4.5,x1:e[e.length-1],y1:.5,line:{width:0},fillcolor:"#00fe87",opacity:.2,layer:"below"},{type:"rect",x0:e[0],y0:6.5,x1:e[e.length-1],y1:4.5,line:{width:0},fillcolor:"#02efff",opacity:.2,layer:"below"},{type:"rect",x0:e[0],y0:20.5,x1:e[e.length-1],y1:17.5,line:{width:0},fillcolor:"#f83027",opacity:.2,layer:"below"}]}function r(){let e=Array.from(Array(20),((e,t)=>t+1));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Position"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,autorange:"reversed",fixedrange:!0,ticktext:e,tickvals:e,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:l(),dragmode:!1}}function o(){if(f){let e={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((e,t)=>t+2)),"margin.l":20,"margin.t":5};Plotly.update(c,{},e)}}function i(e,t){return{data:n(e,t),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let c,d,f=!1;q((()=>{d=i(u,h),new Plotly.newPlot(c,d.data,d.layout,d.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,f=!0)}));let{data:u,team:h,mobileView:m}=t;return e.$$set=e=>{"data"in e&&a(1,u=e.data),"team"in e&&a(2,h=e.team),"mobileView"in e&&a(3,m=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&h&&function(){if(f){let e=i(u,h);for(let t=0;t<20;t++)d.data[t]=e.data[t];d.layout.shapes=l(),Plotly.redraw(c),m&&o()}}(),8&e.$$.dirty&&!m&&function(){if(f){let e={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((e,t)=>t+1)),"margin.l":60,"margin.t":15};Plotly.update(c,{},e)}}(),24&e.$$.dirty&&f&&m&&o()},[c,u,h,m,f,function(e){J[e?"unshift":"push"]((()=>{c=e,a(0,c)}))}]}class ma extends xe{constructor(e){super(),we(this,e,ha,ua,r,{data:1,team:2,mobileView:3})}}function pa(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function va(e,t,a){function s(e,t,a){let s=Object.keys(e.form[t][e._id]),n=function(e,t,a){let s=[];for(let n=0;n<a.length;n++){let l=e.form[t][e._id][a[n]].date;s.push(l)}return s}(e,t,s),l=function(e,t,a){let s=[];for(let n of a){let a=e.form[t][e._id][n].cumPoints;s.push(a)}return s}(e,t,s),r=function(e,t){let a;if(t){let t=it(e);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else a={color:"#d3d3d3"};return a}(t,a);return{x:s,y:l,name:t,mode:"lines",line:r,text:n,hovertemplate:`<b>${t}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function n(e,t){let a=[],n=Object.keys(e.standings);for(let l=0;l<n.length;l++)if(n[l]!=t){let t=s(e,n[l],!1);a.push(t)}let l=s(e,t,!0);return a.push(l),a}function l(){if(c){let e={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((e,t)=>t+2)),"margin.l":20,"margin.t":5};Plotly.update(o,{},e)}}function r(e,t){return{data:n(e,t),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Points"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let o,i,c=!1;q((()=>{i=r(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=t;return e.$$set=e=>{"data"in e&&a(1,d=e.data),"team"in e&&a(2,f=e.team),"mobileView"in e&&a(3,u=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&f&&function(){if(c){let e=r(d,f);for(let t=0;t<20;t++)i.data[t]=e.data[t];Plotly.redraw(o),u&&l()}}(),8&e.$$.dirty&&!u&&function(){if(c){let e={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((e,t)=>t+1)),"margin.l":60,"margin.t":15};Plotly.update(o,{},e)}}(),24&e.$$.dirty&&c&&u&&l()},[o,d,f,u,c,function(e){J[e?"unshift":"push"]((()=>{o=e,a(0,o)}))}]}class ga extends xe{constructor(e){super(),we(this,e,va,pa,r,{data:1,team:2,mobileView:3})}}function ya(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[6](s)},p:e,i:e,o:e,d(e){e&&E(a),t[6](null)}}}function $a(e){let t={};for(let a of Object.keys(e.standings))for(let s of Object.keys(e.form[a][e._id])){let n=e.form[a][e._id][s].score;null!=n&&(s in t?t[s]+=n.homeGoals+n.awayGoals:t[s]=n.homeGoals+n.awayGoals)}for(let e of Object.keys(t))t[e]/=20;return t}function ba(e,t){let a={},s={};for(let n of Object.keys(e.form[t][e._id])){let l=e.form[t][e._id][n].score;null!=l&&(e.form[t][e._id][n].atHome?(a[n]=l.homeGoals,s[n]=l.awayGoals):(a[n]=l.awayGoals,s[n]=l.homeGoals))}return[a,s]}function wa(e,t,a){return{name:"Avg",type:"line",x:e,y:Object.values(t),text:a,line:{color:"#0080FF",width:2},hovertemplate:"<b>Matchday %{text}</b><br>%{y:.1f} goals<extra></extra>"}}function xa(e,t,a){return{name:"Scored",type:"bar",x:e,y:Object.values(t),text:a,marker:{color:"#00fe87"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function Ea(e,t,a){return{name:"Conceded",type:"bar",x:e,y:Object.values(t),text:a,marker:{color:"#f83027"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function Da(e,t,a){function s(){if(r){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(n,{},e)}}let n,l,r=!1;q((()=>{l=function(e,t){let[a,s]=ba(e,t),n=$a(e),l=Object.keys(n);return{data:[xa(c,a,l),Ea(c,s,l),wa(c,n,l)],layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:15,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,rangemode:"nonnegative",visible:!0,tickformat:"d"},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,showticklabels:!1},legend:{x:1,xanchor:"right",y:1},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(o,i),new Plotly.newPlot(n,l.data,l.layout,l.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(5,r=!0)}));let{data:o,team:i,playedDates:c,mobileView:d}=t;return e.$$set=e=>{"data"in e&&a(1,o=e.data),"team"in e&&a(2,i=e.team),"playedDates"in e&&a(3,c=e.playedDates),"mobileView"in e&&a(4,d=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&i&&function(){if(r){let[e,t]=ba(o,i),a=$a(o),r=Object.keys(a),f=xa(c,e,r),u=Ea(c,t,r),h=wa(c,a,r);l.data[0]=f,l.data[1]=u,l.data[2]=h,Plotly.redraw(n),d&&s()}}(),16&e.$$.dirty&&!d&&function(){if(r){let e={"yaxis.title":{text:"Goals"},"yaxis.visible":!0,"margin.l":60};Plotly.update(n,{},e)}}(),48&e.$$.dirty&&r&&d&&s()},[n,o,i,c,d,r,function(e){J[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class Va extends xe{constructor(e){super(),we(this,e,Da,ya,r,{data:1,team:2,playedDates:3,mobileView:4})}}function ka(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[6](s)},p:e,i:e,o:e,d(e){e&&E(a),t[6](null)}}}function Ia(e,t,a,s){let[n,l]=function(e,t){let a=[],s=[];for(let n of Object.keys(e.form[t][e._id])){let l=e.form[t][e._id][n].score;null!=l&&(e.form[t][e._id][n].atHome?l.awayGoals>0?(a.push(1),s.push(0)):(s.push(1),a.push(0)):l.homeGoals>0?(a.push(1),s.push(0)):(s.push(1),a.push(0)))}return[s,a]}(e,t);return[{name:"Clean sheets",type:"bar",x:a,y:n,text:s,marker:{color:"#00fe87"},hovertemplate:"<b>Clean sheet<extra></extra>",showlegend:!1},{name:"Conceded",type:"bar",x:a,y:l,text:s,marker:{color:"#f83027"},hovertemplate:"<b>Goals conceded<extra></extra>",showlegend:!1}]}function Ta(e){return{name:"Avg",type:"line",x:e,y:Array(e.length).fill(1.1),line:{color:"#FAFAFA",width:1},marker:{size:1},hoverinfo:"skip"}}function _a(e,t,a){function s(){return{type:"line",x0:f[0],y0:.5,x1:f[f.length-1],y1:.5,layer:"below",line:{color:"#d3d3d3",width:2}}}function n(e){return{title:!1,autosize:!0,height:60,margin:{r:20,l:60,t:0,b:40,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{showticklabels:!1,gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:f,ticktext:e},shapes:[s()],dragmode:!1,showlegend:!1}}function l(){if(i){let e={"margin.l":20};Plotly.update(r,{},e)}}let r,o,i=!1;q((()=>{o=function(e,t){let a=ft(e,t),[s,l]=Ia(e,t,f,a);return{data:[s,l,Ta(s.x)],layout:n(a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(c,d),new Plotly.newPlot(r,o.data,o.layout,o.config),a(5,i=!0)}));let{data:c,team:d,playedDates:f,mobileView:u}=t;return e.$$set=e=>{"data"in e&&a(1,c=e.data),"team"in e&&a(2,d=e.team),"playedDates"in e&&a(3,f=e.playedDates),"mobileView"in e&&a(4,u=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&d&&function(){if(i){let e=ft(c,d),[t,a]=Ia(c,d,f,e),n=Ta(t.x);o.data[0]=t,o.data[1]=a,o.data[2]=n;for(let t=0;t<e.length;t++)o.layout.xaxis.ticktext[t]=e[t];o.layout.shapes[0]=s(),Plotly.redraw(r),u&&l()}}(),16&e.$$.dirty&&!u&&function(){if(i){let e={"margin.l":60};Plotly.update(r,{},e)}}(),48&e.$$.dirty&&i&&u&&l()},[r,c,d,f,u,i,function(e){J[e?"unshift":"push"]((()=>{r=e,a(0,r)}))}]}class Pa extends xe{constructor(e){super(),we(this,e,_a,ka,r,{data:1,team:2,playedDates:3,mobileView:4})}}function Ga(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[8](s)},p:e,i:e,o:e,d(e){e&&E(a),t[8](null)}}}function Aa(e,t,a){function s(){let e=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Scored"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function n(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(r,{},e)}}function l(){o={data:d(),layout:s(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(r,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let r,o,i=!1;q((()=>{l(),a(7,i=!0)}));let{team:c,getScoredBars:d,getScoredTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=t;return e.$$set=e=>{"team"in e&&a(1,c=e.team),"getScoredBars"in e&&a(2,d=e.getScoredBars),"getScoredTeamBars"in e&&a(3,f=e.getScoredTeamBars),"getXLabels"in e&&a(4,u=e.getXLabels),"getYAxisLayout"in e&&a(5,h=e.getYAxisLayout),"mobileView"in e&&a(6,m=e.mobileView)},e.$$.update=()=>{2&e.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(r,{yaxis:h()}),Plotly.redraw(r),m&&n()),64&e.$$.dirty&&!m&&function(){if(i){let e={"yaxis.title":{text:"Scored"},"yaxis.visible":!0,"margin.l":60};Plotly.update(r,{},e)}}(),192&e.$$.dirty&&i&&m&&n()},[r,c,d,f,u,h,m,i,function(e){J[e?"unshift":"push"]((()=>{r=e,a(0,r)}))}]}class Na extends xe{constructor(e){super(),we(this,e,Aa,Ga,r,{team:1,getScoredBars:2,getScoredTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function za(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[8](s)},p:e,i:e,o:e,d(e){e&&E(a),t[8](null)}}}function Sa(e,t,a){function s(){let e=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Conceded"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function n(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(r,{},e)}}function l(){o={data:d(),layout:s(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(r,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let r,o,i=!1;q((()=>{l(),a(7,i=!0)}));let{team:c,getConcededBars:d,getConcededTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=t;return e.$$set=e=>{"team"in e&&a(1,c=e.team),"getConcededBars"in e&&a(2,d=e.getConcededBars),"getConcededTeamBars"in e&&a(3,f=e.getConcededTeamBars),"getXLabels"in e&&a(4,u=e.getXLabels),"getYAxisLayout"in e&&a(5,h=e.getYAxisLayout),"mobileView"in e&&a(6,m=e.mobileView)},e.$$.update=()=>{2&e.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(r,{yaxis:h()}),Plotly.redraw(r),m&&n()),64&e.$$.dirty&&!m&&function(){if(i){let e={"yaxis.title":{text:"Conceded"},"yaxis.visible":!0,"margin.l":60};Plotly.update(r,{},e)}}(),192&e.$$.dirty&&i&&m&&n()},[r,c,d,f,u,h,m,i,function(e){J[e?"unshift":"push"]((()=>{r=e,a(0,r)}))}]}class Ma extends xe{constructor(e){super(),we(this,e,Sa,za,r,{team:1,getConcededBars:2,getConcededTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function Oa(e){let t,a,s,n,l,r;return a=new Na({props:{team:e[0],getScoredBars:e[3],getScoredTeamBars:e[5],getXLabels:e[7],getYAxisLayout:e[8],mobileView:e[1]}}),l=new Ma({props:{team:e[0],getConcededBars:e[4],getConcededTeamBars:e[6],getXLabels:e[7],getYAxisLayout:e[8],mobileView:e[1]}}),{c(){t=V("div"),ve(a.$$.fragment),s=T(),n=V("div"),ve(l.$$.fragment),this.h()},l(e){t=S(e,"DIV",{class:!0});var r=A(t);ge(a.$$.fragment,r),r.forEach(E),s=B(e),n=S(e,"DIV",{class:!0});var o=A(n);ge(l.$$.fragment,o),o.forEach(E),this.h()},h(){G(t,"class","graph freq-graph mini-graph svelte-fqqlfs"),G(n,"class","graph freq-graph mini-graph svelte-fqqlfs")},m(e,o){x(e,t,o),ye(a,t,null),x(e,s,o),x(e,n,o),ye(l,n,null),r=!0},p(e,t){const s={};1&t&&(s.team=e[0]),2&t&&(s.mobileView=e[1]),a.$set(s);const n={};1&t&&(n.team=e[0]),2&t&&(n.mobileView=e[1]),l.$set(n)},i(e){r||(de(a.$$.fragment,e),de(l.$$.fragment,e),r=!0)},o(e){fe(a.$$.fragment,e),fe(l.$$.fragment,e),r=!1},d(e){e&&E(t),$e(a),e&&E(s),e&&E(n),$e(l)}}}function Ba(e){let t,a,s=e[2]&&Oa(e);return{c(){t=V("div"),s&&s.c(),this.h()},l(e){t=S(e,"DIV",{class:!0});var a=A(t);s&&s.l(a),a.forEach(E),this.h()},h(){G(t,"class","two-graphs svelte-fqqlfs")},m(e,n){x(e,t,n),s&&s.m(t,null),a=!0},p(e,[a]){e[2]?s?(s.p(e,a),4&a&&de(s,1)):(s=Oa(e),s.c(),de(s,1),s.m(t,null)):s&&(ie(),fe(s,1,1,(()=>{s=null})),ce())},i(e){a||(de(s),a=!0)},o(e){fe(s),a=!1},d(e){e&&E(t),s&&s.d()}}}function Ca(e,t,a){let s="Score";return"Conceded"===t&&(s="Concede"),{x:Object.keys(e),y:Object.values(e),type:"bar",name:t,marker:{color:a},hovertemplate:`${s} %{x} with probability <b>%{y:.2f}</b><extra></extra>`,line:{width:0},hoverinfo:"x+y",opacity:.5}}function La(e,t,a,s){if(s in e.form)for(let n of Object.keys(e.form[s][a])){let l=e.form[s][a][n].score;null!=l&&(e.form[s][a][n].atHome?l.homeGoals in t?t[l.homeGoals]+=1:t[l.homeGoals]=1:l.awayGoals in t?t[l.awayGoals]+=1:t[l.awayGoals]=1)}}function ja(e){let t=function(e){let t=0;for(let a in e){let e=parseInt(a);e>t&&(t=e)}return t}(e);for(let a=1;a<t;a++)a in e||(e[a]=0)}function Ha(e,t){let a={};return La(e,a,e._id,t),La(e,a,e._id-1,t),ja(a),a}function Fa(e,t,a,s){if(s in e.form)for(let n of Object.keys(e.form[s][a])){let l=e.form[s][a][n].score;null!=l&&(e.form[s][a][n].atHome?l.awayGoals in t?t[l.awayGoals]+=1:t[l.awayGoals]=1:l.homeGoals in t?t[l.homeGoals]+=1:t[l.homeGoals]=1)}}function Ra(e,t){let a={};return Fa(e,a,e._id,t),Fa(e,a,e._id-1,t),ja(a),a}function Ua(e,t){for(let a of Object.values(e))a>t&&(t=a);return t}function qa(e,t,a){let s=0;return s=Ua(e,s),s=Ua(t,s),s=Ua(a,s),s}function Ya(e){let t=0;for(let a in e)t+=e[a];return t}function Wa(e,t,a){let s=Ya(e),n=Ya(t);for(let e in t)t[e]*=s/n;let l=Ya(a);for(let e in a)a[e]*=s/l}function Xa(e){let t=Ya(e);for(let a in e)e[a]/=t}function Ja(e,t,a){function s(e,t,a){return[{x:Object.keys(o),y:Object.values(o),type:"bar",name:"Avg",marker:{color:"#C6C6C6"},line:{width:0},hovertemplate:"Average %{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},Ca(e,t,a)]}let n=["#00fe87","#aef23e","#ffdd00","#ff9000","#f83027"],l=(r=n,r.slice().reverse()).concat(["#00fe87","#00fe87","#00fe87","#00fe87","#00fe87"]);var r;let o,i,c,d,f=n.concat(["#f83027","#f83027","#f83027","#f83027","#f83027"]);let u=!1;q((()=>{o=function(e){let t={};for(let a of Object.keys(e.standings))La(e,t,e._id,a),La(e,t,e._id-1,a);ja(t);for(let e of Object.keys(t))t[e]/=20;return t}(h),i=Ha(h,m),c=Ra(h,m),Wa(o,i,c),function(e,t,a){Xa(e),Xa(t),Xa(a)}(o,i,c),d=qa(o,i,c),a(2,u=!0)}));let{data:h,team:m,mobileView:p}=t;return e.$$set=e=>{"data"in e&&a(9,h=e.data),"team"in e&&a(0,m=e.team),"mobileView"in e&&a(1,p=e.mobileView)},e.$$.update=()=>{1&e.$$.dirty&&m&&u&&(i=Ha(h,m),c=Ra(h,m),Wa(o,i,c),Xa(i),Xa(c),d=qa(o,i,c))},[m,p,u,function(){return s(i,"Scored",l)},function(){return s(c,"Conceded",f)},function(){return Ca(i,"Scored",l)},function(){return Ca(c,"Conceded",f)},function(){return Object.keys(o)},function(){return{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,autorange:!1,range:[0,d]}},h]}class Ka extends xe{constructor(e){super(),we(this,e,Ja,Ba,r,{data:9,team:0,mobileView:1})}}function Qa(e,t,a){const s=e.slice();return s[31]=t[a],s}function Za(e){let t,a,s,n,l=ot(e[31])+"";return{c(){t=V("button"),a=I(l),this.h()},l(e){t=S(e,"BUTTON",{class:!0});var s=A(t);a=O(s,l),s.forEach(E),this.h()},h(){G(t,"class","spider-opp-team-btn svelte-2ss1ik")},m(l,r){x(l,t,r),w(t,a),s||(n=P(t,"click",e[6]),s=!0)},p(e,t){2&t[0]&&l!==(l=ot(e[31])+"")&&C(a,l)},d(e){e&&E(t),s=!1,n()}}}function es(e){let t,a=e[31]!=e[0]&&Za(e);return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,s){a&&a.m(e,s),x(e,t,s)},p(e,s){e[31]!=e[0]?a?a.p(e,s):(a=Za(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&E(t)}}}function ts(t){let a,s,n,l,r,o,i=t[1],c=[];for(let e=0;e<i.length;e+=1)c[e]=es(Qa(t,i,e));return{c(){a=V("div"),s=V("div"),n=V("div"),l=T(),r=V("div"),o=V("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{id:!0});var i=A(s);n=S(i,"DIV",{id:!0}),A(n).forEach(E),i.forEach(E),t.forEach(E),l=B(e),r=S(e,"DIV",{class:!0});var d=A(r);o=S(d,"DIV",{class:!0,id:!0});var f=A(o);for(let e=0;e<c.length;e+=1)c[e].l(f);f.forEach(E),d.forEach(E),this.h()},h(){G(n,"id","plotDiv"),G(s,"id","plotly"),G(a,"class","spider-chart svelte-2ss1ik"),G(o,"class","spider-opp-team-btns svelte-2ss1ik"),G(o,"id","spider-opp-teams"),G(r,"class","spider-opp-team-selector svelte-2ss1ik")},m(e,i){x(e,a,i),w(a,s),w(s,n),t[5](n),x(e,l,i),x(e,r,i),w(r,o);for(let e=0;e<c.length;e+=1)c[e]&&c[e].m(o,null)},p(e,t){if(11&t[0]){let a;for(i=e[1],a=0;a<i.length;a+=1){const s=Qa(e,i,a);c[a]?c[a].p(s,t):(c[a]=es(s),c[a].c(),c[a].m(o,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=i.length}},i:e,o:e,d(e){e&&E(a),t[5](null),e&&E(l),e&&E(r),D(c,e)}}}const as=3;function ss(e,t){let a=0;for(let s in e)e[s]=e[s]/t*100,a+=e[s];return a/Object.keys(e).length}function ns(e){let t=0;for(let a in e)t+=e[a];return t/Object.keys(e).length}function ls(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(let n of Object.keys(e.standings)){let l=0,r=0;for(let t in e.standings[n]){let o=e.standings[n][t].gF,i=e.standings[n][t].played;if(o>0&&(l+=o,r+=i),38===i){let e=o/i;e>a?a=e:e<s&&(s=e)}}let o=null;r>0&&(o=l/r),t[n]=o}return[t,[s,a]]}(e);return t=function(e,t){let[a,s]=t;for(let t in e)null===e[t]?e[t]=0:e[t]=(e[t]-a)/(s-a)*100;return e}(t,a),t.avg=ns(t),t}function rs(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,s=Number.POSITIVE_INFINITY;for(let n of Object.keys(e.standings)){let l=0,r=0;for(let t in e.standings[n]){let o=e.standings[n][t].gA,i=e.standings[n][t].played;if(o>0&&(l+=o,r+=i),38===i){let e=o/i;e>a?a=e:e<s&&(s=e)}}let o=null;r>0&&(o=l/r),t[n]=o}return[t,[s,a]]}(e);return t=function(e,t){let[a,s]=t;for(let t in e)null===e[t]?e[t]=0:e[t]=100-(e[t]-a)/(s-a)*100;return e}(t,a),t.avg=ns(t),t}function os(e,t,a){let s=0;for(let n in e[t][a]){let l=e[t][a][n];null!=l.score&&(l.atHome&&0===l.score.awayGoals?s+=1:l.atHome||0!==l.score.homeGoals||(s+=1))}return s}function is(e,t,a){let s=0,n=null;for(let l in e[t][a]){let r=e[t][a][l];if(null!=r.score){let e;e=r.atHome&&r.score.homeGoals>r.score.awayGoals||!r.atHome&&r.score.homeGoals<r.score.awayGoals?"win":r.atHome&&r.score.homeGoals<r.score.awayGoals||!r.atHome&&r.score.homeGoals>r.score.awayGoals?"lost":"draw",null!=n&&n===e&&(s+=1),n=e}}return s}function cs(e,t,a){let s=0,n=0;for(let l in e[t][a]){let r=e[t][a][l];null!=r.score&&(r.atHome&&r.score.homeGoals>r.score.awayGoals||!r.atHome&&r.score.homeGoals<r.score.awayGoals?(n+=1,n>s&&(s=n)):n=0)}return s}function ds(e,t,a){return 38===e.standings[t][a].played}function fs(e,t){let a=e.indexOf(t);return a>-1&&e.splice(a,1),e}function us(e,t,a,s){let n=0,l=0;for(let r in e[t][a]){let o=e[t][a][r];null!=o.score&&s.includes(o.team)&&(o.atHome&&o.score.homeGoals>o.score.awayGoals||!o.atHome&&o.score.homeGoals<o.score.awayGoals?n+=3:o.score.homeGoals===o.score.awayGoals&&(n+=1),l+=1)}return[n,l]}function hs(e,t,a){function s(){let e=r();v.data.unshift(e)}function n(e){let t=(a=e.innerHTML,Object.values(rt).includes(a)?Object.keys(rt).find((e=>rt[e]===a)):a);var a;if(""===e.style.background){let a=it(t);e.style.background=`var(--${a})`,e.style.color=`var(--${a}-secondary)`}else e.style.background="",e.style.color="black";0===$.length&&v.data.splice(0,1),$.includes(t)?(!function(e){for(let t=0;t<v.data.length;t++)if(v.data[t].name===e){v.data.splice(t,1);break}1===$.length&&s(),Plotly.redraw(p)}(t),fs($,t)):(!function(e){let t={name:e,type:"scatterpolar",r:[c[e],d[e],f[e],u[e],h[e],m[e]],theta:g,fill:"toself",marker:{color:dt(e)}};v.data.push(t),Plotly.redraw(p)}(t),$.push(t))}function l(e,t,a){return{name:e,type:"scatterpolar",r:t,theta:g,fill:"toself",marker:{color:a},hovertemplate:`<b>${e}</b><br>%{theta}: %{r}<extra></extra>`,hoveron:"points"}}function r(){return l("Avg",[c.avg,d.avg,f.avg,u.avg,h.avg,m.avg],"#ADADAD")}function o(e){let t=r(),a=function(e){return l(e,[c[e],d[e],f[e],u[e],h[e],m[e]],dt(e))}(e);return[t,a]}function i(e){c=ls(e),d=rs(e),f=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(e.standings)){let n=0;for(let t=0;t<as;t++){let l=os(e.form,s,e._id-t);ds(e,s,e._id-t)&&l>a&&(a=l),n+=l}t[s]=n}return t.avg=ss(t,a*as),t}(e),u=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(e.standings)){let n=0;for(let t=0;t<as;t++){let l=is(e.form,s,e._id-t);ds(e,s,e._id-t)&&l>a&&(a=l),n+=l}t[s]=n}return t.avg=ss(t,a*as),t}(e),h=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(e.standings)){let n=0;for(let t=0;t<as;t++){let l=cs(e.form,s,e._id-t);ds(e,s,e._id-t)&&l>a&&(a=l),n+=l}t[s]=n}return t.avg=ss(t,a*as),t}(e),m=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let s of Object.keys(e.standings)){let n=0,l=0;for(let t=0;t<as;t++){let[r,o]=us(e.form,s,e._id-t,fs(y,s));if(0===o)continue;let i=o/o;ds(e,s,e._id-t)&&i>a&&(a=i),n+=r,l+=o}let r=n/l;t[s]=r}return t.avg=ss(t,a*as),t}(e)}let c,d,f,u,h,m,p,v,g=["Attack","Defence","Clean sheets","Consistency","Win streak","Vs big 6"],y=["Manchester United","Liverpool","Manchester City","Arsenal","Chelsea","Tottenham Hotspur"],$=[],b=!1;function w(){if(b){let e=o(E);!function(e){let t=e.length;for(let a=0;a<t;a++)e.pop()}(v.data),v.data.push(e[0]),v.data.push(e[1]),function(){for(let e=0;e<$.length;e++){for(let e=0;e<v.data.length;e++)if(v.data[e].name===$[e]&&$[e]!=E){v.data.splice(e,1);break}1===$.length&&s(),fs($,$[e])}Plotly.redraw(p)}(),function(){let e=document.getElementById("spider-opp-teams");for(let t=0;t<e.children.length;t++){let a=e.children[t];""!=a.style.background&&(a.style.background="",a.style.color="black")}}(),setTimeout((()=>{document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn")}),0)}}q((()=>{v=function(e,t){return i(e),{data:o(t),layout:{height:550,polar:{radialaxis:{visible:!0,range:[0,100]}},hover:"closest",margin:{t:25,b:25,l:75,r:75},showlegend:!1,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(x,E),new Plotly.newPlot(p,v.data,v.layout,v.config).then((e=>{e.children[0].children[0].classList.add("resizable-spider-chart")})),document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn"),b=!0}));let{data:x,team:E,teams:D}=t;return e.$$set=e=>{"data"in e&&a(4,x=e.data),"team"in e&&a(0,E=e.team),"teams"in e&&a(1,D=e.teams)},e.$$.update=()=>{1&e.$$.dirty[0]&&E&&w()},[E,D,p,n,x,function(e){J[e?"unshift":"push"]((()=>{p=e,a(2,p)}))},e=>{n(e.target)}]}class ms extends xe{constructor(e){super(),we(this,e,hs,ts,r,{data:4,team:0,teams:1},null,[-1,-1])}}function ps(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function vs(e,t,a,s){for(let n in t[a][s]){let l=t[a][s][n].score;if(null!=l){let r;r=t[a][s][n].atHome?l.homeGoals+" - "+l.awayGoals:l.awayGoals+" - "+l.homeGoals,r in e?e[r][0]+=1:e[r]=[1]}}}function gs(e,t,a,s){for(let n in t[a][s]){let l=t[a][s][n].score;if(null!=l){let r;r=t[a][s][n].atHome?l.homeGoals+" - "+l.awayGoals:l.awayGoals+" - "+l.homeGoals,e[r][1]+=1}}}function ys(e){let t=Object.entries(e).sort(((e,t)=>t[1][0]-e[1][0])),a=[],s=[],n=[];for(let e=0;e<t.length;e++)a.push(t[e][0]),s.push(t[e][1][0]),n.push(t[e][1][1]);return[{x:a,y:s,type:"bar",name:"Avg",marker:{color:"#C6C6C6"},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},{x:a,y:n,type:"bar",name:"Scorelines",marker:{color:function(e){let t=[];for(let a of e){let[e,s,n]=a.split(" "),l=parseInt(e),r=parseInt(n);l>r?t.push("#00fe87"):l<r?t.push("#f83027"):t.push("#ffdd00")}return t}(a)},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y",opacity:.5}]}function $s(e){let t=0,a=0;for(let s in e)t+=e[s][0],a+=e[s][1];for(let s in e)e[s][1]*=t/a}function bs(e){let t=0,a=0;for(let s in e)t+=e[s][0],a+=e[s][1];for(let s in e)e[s][0]/=t,e[s][1]/=a}function ws(e,t,a){function s(e,t,a){for(let e in a)1===a[e].length&&a[e].push(0);gs(a,e.form,t,e._id),ct(e.form,t,e._id-1)&&gs(a,e.form,t,e._id-1),ct(e.form,t,e._id-2)&&gs(a,e.form,t,e._id-2)}function n(){if(c){let e={"yaxis.title":null,"yaxis.visible":!1,"xaxis.tickfont.size":5,"margin.l":20};Plotly.update(r,{},e)}}function l(e,t){return i=function(e){let t={};for(let a in e.form)for(let s=0;s<3;s++)(0===s||ct(e.form,a,e._id-s))&&vs(t,e.form,a,e._id-s);return t}(e),s(e,t,i),$s(i),bs(i),{data:ys(i),layout:{title:!1,autosize:!0,margin:{r:20,l:65,t:15,b:60,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Scoreline"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},legend:{x:1,xanchor:"right",y:.95},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let r,o,i,c=!1;q((()=>{o=l(d,f),new Plotly.newPlot(r,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=t;return e.$$set=e=>{"data"in e&&a(1,d=e.data),"team"in e&&a(2,f=e.team),"mobileView"in e&&a(3,u=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&f&&function(){if(c){!function(e){for(let t in e)e[t][1]=0}(i),s(d,f,i),$s(i),bs(i);let e=ys(i);o.data[1]=e[1],Plotly.redraw(r),u&&n()}}(),8&e.$$.dirty&&!u&&function(){if(c){let e={"yaxis.title":{text:"Probability"},"yaxis.visible":!0,"xaxis.tickfont.size":12,"margin.l":65};Plotly.update(r,{},e)}}(),24&e.$$.dirty&&c&&u&&n()},[r,d,f,u,c,function(e){J[e?"unshift":"push"]((()=>{r=e,a(0,r)}))}]}class xs extends xe{constructor(e){super(),we(this,e,ws,ps,r,{data:1,team:2,mobileView:3})}}function Es(e,t,a){const s=e.slice();return s[9]=t[a],s[8]=a,s}function Ds(e,t,a){const s=e.slice();return s[6]=t[a],s[8]=a,s}function Vs(e){let t,a=[],s=new Map,n=e[1];const l=e=>e[9];for(let t=0;t<n.length;t+=1){let r=Es(e,n,t),o=l(r);s.set(o,a[t]=_s(o,r))}return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=_()},l(e){for(let t=0;t<a.length;t+=1)a[t].l(e);t=_()},m(e,s){for(let t=0;t<a.length;t+=1)a[t]&&a[t].m(e,s);x(e,t,s)},p(e,r){15&r&&(n=e[1],a=me(a,r,l,1,e,n,s,t.parentNode,he,_s,t,Es))},d(e){for(let t=0;t<a.length;t+=1)a[t].d(e);e&&E(t)}}}function ks(e){let t,a=e[4],s=[];for(let t=0;t<a.length;t+=1)s[t]=Ps(Ds(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=_()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=_()},m(e,a){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,a);x(e,t,a)},p(e,n){if(16&n){let l;for(a=e[4],l=0;l<a.length;l+=1){const r=Ds(e,a,l);s[l]?s[l].p(r,n):(s[l]=Ps(r),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){D(s,e),e&&E(t)}}}function Is(e){let t,a,s,n,l,r,o,i=e[2](e[9])+"";function c(){return e[5](e[9])}return{c(){t=V("button"),a=V("div"),s=V("div"),n=I(i),l=T(),this.h()},l(e){t=S(e,"BUTTON",{class:!0});var r=A(t);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);n=O(c,i),c.forEach(E),o.forEach(E),l=B(r),r.forEach(E),this.h()},h(){G(s,"class","team-name svelte-1n3g38v"),G(a,"class","team-container svelte-1n3g38v"),G(t,"class","team-link svelte-1n3g38v")},m(e,i){x(e,t,i),w(t,a),w(a,s),w(s,n),w(t,l),r||(o=P(t,"click",c),r=!0)},p(t,a){e=t,6&a&&i!==(i=e[2](e[9])+"")&&C(n,i)},d(e){e&&E(t),r=!1,o()}}}function Ts(e){let t,a,s,n,l,r,o,i=e[2](e[9])+"";return{c(){t=V("a"),a=V("div"),s=V("div"),n=I(i),r=T(),this.h()},l(e){t=S(e,"A",{href:!0,class:!0});var l=A(t);a=S(l,"DIV",{class:!0,style:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);n=O(c,i),c.forEach(E),o.forEach(E),r=B(l),l.forEach(E),this.h()},h(){G(s,"class","this-team-name svelte-1n3g38v"),G(a,"class","this-team-container svelte-1n3g38v"),G(a,"style",l=At(e[9])),G(t,"href",o="/"+it(e[9])),G(t,"class","team-link")},m(e,l){x(e,t,l),w(t,a),w(a,s),w(s,n),w(t,r)},p(e,s){6&s&&i!==(i=e[2](e[9])+"")&&C(n,i),2&s&&l!==(l=At(e[9]))&&G(a,"style",l),2&s&&o!==(o="/"+it(e[9]))&&G(t,"href",o)},d(e){e&&E(t)}}}function _s(e,t){let a,s,n;function l(e,t){return 3&t&&(s=null),null==s&&(s=!(it(e[9])!==e[0])),s?Ts:Is}let r=l(t,-1),o=r(t);return{key:e,first:null,c(){a=_(),o.c(),n=_(),this.h()},l(e){a=_(),o.l(e),n=_(),this.h()},h(){this.first=a},m(e,t){x(e,a,t),o.m(e,t),x(e,n,t)},p(e,a){r===(r=l(t=e,a))&&o?o.p(t,a):(o.d(1),o=r(t),o&&(o.c(),o.m(n.parentNode,n)))},d(e){e&&E(a),o.d(e),e&&E(n)}}}function Ps(t){let a;return{c(){a=V("div"),this.h()},l(e){a=S(e,"DIV",{class:!0,style:!0}),A(a).forEach(E),this.h()},h(){G(a,"class","placeholder svelte-1n3g38v"),L(a,"width",t[6]+"%")},m(e,t){x(e,a,t)},p:e,d(e){e&&E(a)}}}function Gs(t){let a,s,n,l,r,o,c,d,f,u,h,m,p,v,g;function y(e,t){return 0===e[1].length?ks:Vs}let $=y(t),b=$(t);return{c(){a=V("nav"),s=V("div"),n=V("p"),l=V("span"),r=I("pl"),o=I("dashboard"),c=T(),d=V("div"),b.c(),f=T(),u=V("div"),h=V("button"),m=V("img"),this.h()},l(e){a=S(e,"NAV",{id:!0,class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var i=A(s);n=S(i,"P",{});var p=A(n);l=S(p,"SPAN",{style:!0});var v=A(l);r=O(v,"pl"),v.forEach(E),o=O(p,"dashboard"),p.forEach(E),i.forEach(E),c=B(t),d=S(t,"DIV",{class:!0});var g=A(d);b.l(g),g.forEach(E),f=B(t),u=S(t,"DIV",{class:!0});var y=A(u);h=S(y,"BUTTON",{class:!0});var $=A(h);m=S($,"IMG",{src:!0,alt:!0,class:!0}),$.forEach(E),y.forEach(E),t.forEach(E),this.h()},h(){L(l,"color","var(--green)"),G(s,"class","title no-selection svelte-1n3g38v"),G(d,"class","team-links svelte-1n3g38v"),i(m.src,p="img/arrow-bar-left.svg")||G(m,"src","img/arrow-bar-left.svg"),G(m,"alt",""),G(m,"class","svelte-1n3g38v"),G(h,"class","close-btn svelte-1n3g38v"),G(u,"class","close"),G(a,"id","navBar"),G(a,"class","svelte-1n3g38v")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(n,l),w(l,r),w(n,o),w(a,c),w(a,d),b.m(d,null),w(a,f),w(a,u),w(u,h),w(h,m),v||(g=P(h,"click",As),v=!0)},p(e,[t]){$===($=y(e))&&b?b.p(e,t):(b.d(1),b=$(e),b&&(b.c(),b.m(d,null)))},i:e,o:e,d(e){e&&E(a),b.d(),v=!1,g()}}}function As(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function Ns(e,t,a){let s=[];for(let e=0;e<20;e++)s.push(35+5*Math.floor(8*Math.random()));let{team:n,teams:l,toAlias:r,switchTeam:o}=t;return e.$$set=e=>{"team"in e&&a(0,n=e.team),"teams"in e&&a(1,l=e.teams),"toAlias"in e&&a(2,r=e.toAlias),"switchTeam"in e&&a(3,o=e.switchTeam)},[n,l,r,o,s,e=>{o(it(e))}]}class zs extends xe{constructor(e){super(),we(this,e,Ns,Gs,r,{team:0,teams:1,toAlias:2,switchTeam:3})}}function Ss(e,t,a){const s=e.slice();return s[13]=t[a],s[15]=a,s}function Ms(e,t,a){const s=e.slice();return s[16]=t[a],s[18]=a,s}function Os(e,t,a){const s=e.slice();return s[15]=t[a],s[18]=a,s}function Bs(e,t,a){const s=e.slice();return s[13]=t[a],s[18]=a,s}function Cs(e,t,a){const s=e.slice();return s[13]=t[a],s[18]=a,s}function Ls(e,t,a){const s=e.slice();return s[16]=t[a],s[18]=a,s}function js(e){let t,a,s,n,l=e[2],r=[];for(let t=0;t<l.length;t+=1)r[t]=Fs(Ls(e,l,t));return{c(){t=V("div"),a=V("div"),s=I("Upcoming"),n=T();for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var l=A(t);a=S(l,"DIV",{class:!0});var o=A(a);s=O(o,"Upcoming"),o.forEach(E),n=B(l);for(let e=0;e<r.length;e+=1)r[e].l(l);l.forEach(E),this.h()},h(){G(a,"class","upcoming-title svelte-1sfmcda"),G(t,"class","upcoming-matches svelte-1sfmcda")},m(e,l){x(e,t,l),w(t,a),w(a,s),w(t,n);for(let e=0;e<r.length;e+=1)r[e]&&r[e].m(t,null)},p(e,a){if(4&a){let s;for(l=e[2],s=0;s<l.length;s+=1){const n=Ls(e,l,s);r[s]?r[s].p(n,a):(r[s]=Fs(n),r[s].c(),r[s].m(t,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=l.length}},d(e){e&&E(t),D(r,e)}}}function Hs(e){let t,a,s=e[16].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"";return{c(){t=V("div"),a=I(s),this.h()},l(e){t=S(e,"DIV",{class:!0});var n=A(t);a=O(n,s),n.forEach(E),this.h()},h(){G(t,"class","upcoming-match-date svelte-1sfmcda")},m(e,s){x(e,t,s),w(t,a)},p(e,t){4&t&&s!==(s=e[16].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&C(a,s)},d(e){e&&E(t)}}}function Fs(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v=0===e[18]||e[16].time.getDate()!=e[2][e[18]-1].time.getDate(),g=lt(e[16].home)+"",y=lt(e[16].away)+"",$=e[16].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"",b=v&&Hs(e);return{c(){b&&b.c(),t=T(),a=V("div"),s=V("div"),n=V("div"),l=I(g),o=T(),i=V("div"),c=I(y),f=T(),u=V("div"),h=V("div"),m=I($),p=T(),this.h()},l(e){b&&b.l(e),t=B(e),a=S(e,"DIV",{class:!0});var r=A(a);s=S(r,"DIV",{class:!0});var d=A(s);n=S(d,"DIV",{class:!0,style:!0});var v=A(n);l=O(v,g),v.forEach(E),o=B(d),i=S(d,"DIV",{class:!0,style:!0});var w=A(i);c=O(w,y),w.forEach(E),d.forEach(E),r.forEach(E),f=B(e),u=S(e,"DIV",{class:!0});var x=A(u);h=S(x,"DIV",{class:!0});var D=A(h);m=O(D,$),D.forEach(E),p=B(x),x.forEach(E),this.h()},h(){G(n,"class","upcoming-match-home svelte-1sfmcda"),G(n,"style",r=At(e[16].home)),G(i,"class","upcoming-match-away svelte-1sfmcda"),G(i,"style",d=At(e[16].away)),G(s,"class","upcoming-match-teams svelte-1sfmcda"),G(a,"class","upcoming-match svelte-1sfmcda"),G(h,"class","upcoming-match-time svelte-1sfmcda"),G(u,"class","upcoming-match-time-container svelte-1sfmcda")},m(e,r){b&&b.m(e,r),x(e,t,r),x(e,a,r),w(a,s),w(s,n),w(n,l),w(s,o),w(s,i),w(i,c),x(e,f,r),x(e,u,r),w(u,h),w(h,m),w(u,p)},p(e,a){4&a&&(v=0===e[18]||e[16].time.getDate()!=e[2][e[18]-1].time.getDate()),v?b?b.p(e,a):(b=Hs(e),b.c(),b.m(t.parentNode,t)):b&&(b.d(1),b=null),4&a&&g!==(g=lt(e[16].home)+"")&&C(l,g),4&a&&r!==(r=At(e[16].home))&&G(n,"style",r),4&a&&y!==(y=lt(e[16].away)+"")&&C(c,y),4&a&&d!==(d=At(e[16].away))&&G(i,"style",d),4&a&&$!==($=e[16].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"")&&C(m,$)},d(e){b&&b.d(e),e&&E(t),e&&E(a),e&&E(f),e&&E(u)}}}function Rs(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,_,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z=e[3],ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=Us(Cs(e,Z,t));return{c(){t=V("div"),a=V("div"),s=I("Standings"),n=T(),l=V("div"),r=V("div"),o=V("div"),i=T(),c=V("div"),d=T(),f=V("div"),u=I("W"),h=T(),m=V("div"),p=I("D"),v=T(),g=V("div"),y=I("L"),$=T(),b=V("div"),k=I("GF"),_=T(),P=V("div"),N=I("GA"),z=T(),M=V("div"),C=I("GD"),L=T(),j=V("div"),H=I("Played"),F=T(),R=V("div"),U=I("Points"),q=T(),Y=V("div"),W=I("Rating"),X=T(),J=V("div"),K=I("Form"),Q=T();for(let e=0;e<ee.length;e+=1)ee[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var w=A(t);a=S(w,"DIV",{class:!0});var x=A(a);s=O(x,"Standings"),x.forEach(E),n=B(w),l=S(w,"DIV",{class:!0});var D=A(l);r=S(D,"DIV",{class:!0});var V=A(r);o=S(V,"DIV",{class:!0}),A(o).forEach(E),i=B(V),c=S(V,"DIV",{class:!0}),A(c).forEach(E),d=B(V),f=S(V,"DIV",{class:!0});var I=A(f);u=O(I,"W"),I.forEach(E),h=B(V),m=S(V,"DIV",{class:!0});var T=A(m);p=O(T,"D"),T.forEach(E),v=B(V),g=S(V,"DIV",{class:!0});var G=A(g);y=O(G,"L"),G.forEach(E),$=B(V),b=S(V,"DIV",{class:!0});var Z=A(b);k=O(Z,"GF"),Z.forEach(E),_=B(V),P=S(V,"DIV",{class:!0});var te=A(P);N=O(te,"GA"),te.forEach(E),z=B(V),M=S(V,"DIV",{class:!0});var ae=A(M);C=O(ae,"GD"),ae.forEach(E),L=B(V),j=S(V,"DIV",{class:!0});var se=A(j);H=O(se,"Played"),se.forEach(E),F=B(V),R=S(V,"DIV",{class:!0});var ne=A(R);U=O(ne,"Points"),ne.forEach(E),q=B(V),Y=S(V,"DIV",{class:!0});var le=A(Y);W=O(le,"Rating"),le.forEach(E),X=B(V),J=S(V,"DIV",{class:!0});var re=A(J);K=O(re,"Form"),re.forEach(E),V.forEach(E),Q=B(D);for(let e=0;e<ee.length;e+=1)ee[e].l(D);D.forEach(E),w.forEach(E),this.h()},h(){G(a,"class","standings-title svelte-1sfmcda"),G(o,"class","standings-position svelte-1sfmcda"),G(c,"class","standings-team-name svelte-1sfmcda"),G(f,"class","standings-won bold svelte-1sfmcda"),G(m,"class","standings-drawn bold svelte-1sfmcda"),G(g,"class","standings-lost bold svelte-1sfmcda"),G(b,"class","standings-gf bold svelte-1sfmcda"),G(P,"class","standings-ga bold svelte-1sfmcda"),G(M,"class","standings-gd bold svelte-1sfmcda"),G(j,"class","standings-played bold svelte-1sfmcda"),G(R,"class","standings-points bold svelte-1sfmcda"),G(Y,"class","standings-rating bold svelte-1sfmcda"),G(J,"class","standings-form bold svelte-1sfmcda"),G(r,"class","table-row svelte-1sfmcda"),G(l,"class","standings svelte-1sfmcda"),G(t,"class","standings-table")},m(e,E){x(e,t,E),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(r,o),w(r,i),w(r,c),w(r,d),w(r,f),w(f,u),w(r,h),w(r,m),w(m,p),w(r,v),w(r,g),w(g,y),w(r,$),w(r,b),w(b,k),w(r,_),w(r,P),w(P,N),w(r,z),w(r,M),w(M,C),w(r,L),w(r,j),w(j,H),w(r,F),w(r,R),w(R,U),w(r,q),w(r,Y),w(Y,W),w(r,X),w(r,J),w(J,K),w(l,Q);for(let e=0;e<ee.length;e+=1)ee[e]&&ee[e].m(l,null)},p(e,t){if(9&t){let a;for(Z=e[3],a=0;a<Z.length;a+=1){const s=Cs(e,Z,a);ee[a]?ee[a].p(s,t):(ee[a]=Us(s),ee[a].c(),ee[a].m(l,null))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}},d(e){e&&E(t),D(ee,e)}}}function Us(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z,M,L,j,H,F,R,U,q,Y,W,X,J=e[13].position+"",K=e[13].team+"",Q=e[13].won+"",Z=e[13].drawn+"",ee=e[13].lost+"",te=e[13].gF+"",ae=e[13].gA+"",se=e[13].gD+"",ne=e[13].played+"",le=e[13].points+"",re=e[0].teamRatings[e[13].team].totalRating.toFixed(2)+"",oe=(Object.keys(e[0].form[e[13].team][e[0]._id]).length>0&&null!=e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[7]))]&&null!=e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[8]))].formRating5?e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[9]))].formRating5.toFixed(2):"")+"";return{c(){t=V("div"),a=V("div"),s=I(J),n=T(),l=V("div"),r=I(K),o=T(),i=V("div"),c=I(Q),d=T(),f=V("div"),u=I(Z),h=T(),m=V("div"),p=I(ee),v=T(),g=V("div"),y=I(te),$=T(),b=V("div"),D=I(ae),k=T(),_=V("div"),P=I(se),N=T(),z=V("div"),M=I(ne),L=T(),j=V("div"),H=I(le),F=T(),R=V("div"),U=I(re),q=T(),Y=V("div"),W=I(oe),X=T(),this.h()},l(e){t=S(e,"DIV",{class:!0});var w=A(t);a=S(w,"DIV",{class:!0});var x=A(a);s=O(x,J),x.forEach(E),n=B(w),l=S(w,"DIV",{class:!0});var V=A(l);r=O(V,K),V.forEach(E),o=B(w),i=S(w,"DIV",{class:!0});var I=A(i);c=O(I,Q),I.forEach(E),d=B(w),f=S(w,"DIV",{class:!0});var T=A(f);u=O(T,Z),T.forEach(E),h=B(w),m=S(w,"DIV",{class:!0});var G=A(m);p=O(G,ee),G.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var C=A(g);y=O(C,te),C.forEach(E),$=B(w),b=S(w,"DIV",{class:!0});var ie=A(b);D=O(ie,ae),ie.forEach(E),k=B(w),_=S(w,"DIV",{class:!0});var ce=A(_);P=O(ce,se),ce.forEach(E),N=B(w),z=S(w,"DIV",{class:!0});var de=A(z);M=O(de,ne),de.forEach(E),L=B(w),j=S(w,"DIV",{class:!0});var fe=A(j);H=O(fe,le),fe.forEach(E),F=B(w),R=S(w,"DIV",{class:!0});var ue=A(R);U=O(ue,re),ue.forEach(E),q=B(w),Y=S(w,"DIV",{class:!0});var he=A(Y);W=O(he,oe),he.forEach(E),X=B(w),w.forEach(E),this.h()},h(){G(a,"class","standings-position svelte-1sfmcda"),G(l,"class","standings-team-name svelte-1sfmcda"),G(i,"class","standings-won svelte-1sfmcda"),G(f,"class","standings-drawn svelte-1sfmcda"),G(m,"class","standings-lost svelte-1sfmcda"),G(g,"class","standings-gf svelte-1sfmcda"),G(b,"class","standings-ga svelte-1sfmcda"),G(_,"class","standings-gd svelte-1sfmcda"),G(z,"class","standings-played svelte-1sfmcda"),G(j,"class","standings-points svelte-1sfmcda"),G(R,"class","standings-rating svelte-1sfmcda"),G(Y,"class","standings-form svelte-1sfmcda"),G(t,"class","table-row "+(e[18]%2==0?"grey-row":"")+" "+(e[18]<4?"cl":"")+" "+(e[18]>3&&e[18]<6?"el":"")+" "+(e[18]>16?"relegation":"")+" svelte-1sfmcda")},m(e,E){x(e,t,E),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(t,o),w(t,i),w(i,c),w(t,d),w(t,f),w(f,u),w(t,h),w(t,m),w(m,p),w(t,v),w(t,g),w(g,y),w(t,$),w(t,b),w(b,D),w(t,k),w(t,_),w(_,P),w(t,N),w(t,z),w(z,M),w(t,L),w(t,j),w(j,H),w(t,F),w(t,R),w(R,U),w(t,q),w(t,Y),w(Y,W),w(t,X)},p(e,t){8&t&&J!==(J=e[13].position+"")&&C(s,J),8&t&&K!==(K=e[13].team+"")&&C(r,K),8&t&&Q!==(Q=e[13].won+"")&&C(c,Q),8&t&&Z!==(Z=e[13].drawn+"")&&C(u,Z),8&t&&ee!==(ee=e[13].lost+"")&&C(p,ee),8&t&&te!==(te=e[13].gF+"")&&C(y,te),8&t&&ae!==(ae=e[13].gA+"")&&C(D,ae),8&t&&se!==(se=e[13].gD+"")&&C(P,se),8&t&&ne!==(ne=e[13].played+"")&&C(M,ne),8&t&&le!==(le=e[13].points+"")&&C(H,le),9&t&&re!==(re=e[0].teamRatings[e[13].team].totalRating.toFixed(2)+"")&&C(U,re),9&t&&oe!==(oe=(Object.keys(e[0].form[e[13].team][e[0]._id]).length>0&&null!=e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[7]))]&&null!=e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[8]))].formRating5?e[0].form[e[13].team][e[0]._id][Math.max(...Object.keys(e[0].form[e[13].team][e[0]._id]).map(e[9]))].formRating5.toFixed(2):"")+"")&&C(W,oe)},d(e){e&&E(t)}}}function qs(e){let t,a,s,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,k,_=e[1],N=[];for(let t=0;t<_.length;t+=1)N[t]=Ys(Bs(e,_,t));let z=Array(38),M=[];for(let t=0;t<z.length;t+=1)M[t]=Ws(Os(e,z,t));let C=e[1],L=[];for(let t=0;t<C.length;t+=1)L[t]=Js(Ss(e,C,t));return{c(){t=V("div"),a=V("div"),s=V("button"),l=I("Rating"),o=T(),i=V("div"),c=V("button"),d=I("Form"),u=T(),h=V("div"),m=V("div");for(let e=0;e<N.length;e+=1)N[e].c();p=T(),v=V("div"),g=V("div"),y=V("div");for(let e=0;e<M.length;e+=1)M[e].c();$=T();for(let e=0;e<L.length;e+=1)L[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var n=A(t);a=S(n,"DIV",{class:!0});var r=A(a);s=S(r,"BUTTON",{id:!0,class:!0});var f=A(s);l=O(f,"Rating"),f.forEach(E),r.forEach(E),o=B(n),i=S(n,"DIV",{class:!0});var b=A(i);c=S(b,"BUTTON",{id:!0,class:!0});var w=A(c);d=O(w,"Form"),w.forEach(E),b.forEach(E),n.forEach(E),u=B(e),h=S(e,"DIV",{class:!0});var x=A(h);m=S(x,"DIV",{class:!0});var D=A(m);for(let e=0;e<N.length;e+=1)N[e].l(D);D.forEach(E),p=B(x),v=S(x,"DIV",{class:!0});var V=A(v);g=S(V,"DIV",{class:!0});var k=A(g);y=S(k,"DIV",{class:!0});var I=A(y);for(let e=0;e<M.length;e+=1)M[e].l(I);I.forEach(E),k.forEach(E),$=B(V);for(let e=0;e<L.length;e+=1)L[e].l(V);V.forEach(E),x.forEach(E),this.h()},h(){G(s,"id","rating-scale-btn"),G(s,"class",r="scale-btn "+("rating"===e[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(a,"class","scale-team-ratings svelte-1sfmcda"),G(c,"id","form-scale-btn"),G(c,"class",f="scale-btn "+("form"===e[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(i,"class","scale-team-form svelte-1sfmcda"),G(t,"class","scale-btns svelte-1sfmcda"),G(m,"class","fixtures-teams-container svelte-1sfmcda"),G(y,"class","fixtures-matches svelte-1sfmcda"),G(g,"class","fixtures-table-row svelte-1sfmcda"),G(v,"class","fixtures-matches-container svelte-1sfmcda"),G(h,"class","fixtures-table svelte-1sfmcda")},m(n,r){x(n,t,r),w(t,a),w(a,s),w(s,l),w(t,o),w(t,i),w(i,c),w(c,d),x(n,u,r),x(n,h,r),w(h,m);for(let e=0;e<N.length;e+=1)N[e]&&N[e].m(m,null);w(h,p),w(h,v),w(v,g),w(g,y);for(let e=0;e<M.length;e+=1)M[e]&&M[e].m(y,null);w(v,$);for(let e=0;e<L.length;e+=1)L[e]&&L[e].m(v,null);b||(k=[P(s,"click",e[5]),P(c,"click",e[6])],b=!0)},p(e,t){if(16&t&&r!==(r="scale-btn "+("rating"===e[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(s,"class",r),16&t&&f!==(f="scale-btn "+("form"===e[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(c,"class",f),2&t){let a;for(_=e[1],a=0;a<_.length;a+=1){const s=Bs(e,_,a);N[a]?N[a].p(s,t):(N[a]=Ys(s),N[a].c(),N[a].m(m,null))}for(;a<N.length;a+=1)N[a].d(1);N.length=_.length}if(2&t){let a;for(C=e[1],a=0;a<C.length;a+=1){const s=Ss(e,C,a);L[a]?L[a].p(s,t):(L[a]=Js(s),L[a].c(),L[a].m(v,null))}for(;a<L.length;a+=1)L[a].d(1);L.length=C.length}},d(e){e&&E(t),e&&E(u),e&&E(h),D(N,e),D(M,e),D(L,e),b=!1,n(k)}}}function Ys(e){let t,a,s,n,l,r=lt(e[13].team)+"";return{c(){t=V("div"),a=V("div"),s=I(r),l=T(),this.h()},l(e){t=S(e,"DIV",{class:!0});var n=A(t);a=S(n,"DIV",{class:!0,style:!0});var o=A(a);s=O(o,r),o.forEach(E),l=B(n),n.forEach(E),this.h()},h(){G(a,"class","fixtures-team svelte-1sfmcda"),G(a,"style",n=At(e[13].team)+" "+(0===e[18]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(e[18]===e[1].length-1?"border-radius: 0 0 0 4px;":"")),G(t,"class","fixtures-table-row svelte-1sfmcda")},m(e,n){x(e,t,n),w(t,a),w(a,s),w(t,l)},p(e,t){2&t&&r!==(r=lt(e[13].team)+"")&&C(s,r),2&t&&n!==(n=At(e[13].team)+" "+(0===e[18]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(e[18]===e[1].length-1?"border-radius: 0 0 0 4px;":""))&&G(a,"style",n)},d(e){e&&E(t)}}}function Ws(t){let a,s,n=t[18]+1+"";return{c(){a=V("div"),s=I(n),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=O(t,n),t.forEach(E),this.h()},h(){G(a,"class","match svelte-1sfmcda")},m(e,t){x(e,a,t),w(a,s)},p:e,d(e){e&&E(a)}}}function Xs(e){let t,a,s,n,l,r=`${lt(e[16].team)} (${e[16].atHome?"H":"A"}`;return{c(){t=V("div"),a=I(r),s=I(")\r\n                    "),this.h()},l(e){t=S(e,"DIV",{class:!0,style:!0,title:!0});var n=A(t);a=O(n,r),s=O(n,")\r\n                    "),n.forEach(E),this.h()},h(){G(t,"class","match svelte-1sfmcda"),G(t,"style",n="background: "+e[16].colour+"; "+("FINISHED"==e[16].status?"filter: grayscale(100%)":"")+" "+(e[18]===e[13].matches.length-1?"border-right: 2px solid black":"")),G(t,"title",l=e[16].date)},m(e,n){x(e,t,n),w(t,a),w(t,s)},p(e,s){2&s&&r!==(r=`${lt(e[16].team)} (${e[16].atHome?"H":"A"}`)&&C(a,r),2&s&&n!==(n="background: "+e[16].colour+"; "+("FINISHED"==e[16].status?"filter: grayscale(100%)":"")+" "+(e[18]===e[13].matches.length-1?"border-right: 2px solid black":""))&&G(t,"style",n),2&s&&l!==(l=e[16].date)&&G(t,"title",l)},d(e){e&&E(t)}}}function Js(e){let t,a,s,n=e[13].matches,l=[];for(let t=0;t<n.length;t+=1)l[t]=Xs(Ms(e,n,t));return{c(){t=V("div"),a=V("div");for(let e=0;e<l.length;e+=1)l[e].c();s=T(),this.h()},l(e){t=S(e,"DIV",{class:!0});var n=A(t);a=S(n,"DIV",{class:!0});var r=A(a);for(let e=0;e<l.length;e+=1)l[e].l(r);r.forEach(E),s=B(n),n.forEach(E),this.h()},h(){G(a,"class","fixtures-matches svelte-1sfmcda"),G(t,"class","fixtures-table-row svelte-1sfmcda")},m(e,n){x(e,t,n),w(t,a);for(let e=0;e<l.length;e+=1)l[e]&&l[e].m(a,null);w(t,s)},p(e,t){if(2&t){let s;for(n=e[13].matches,s=0;s<n.length;s+=1){const r=Ms(e,n,s);l[s]?l[s].p(r,t):(l[s]=Xs(r),l[s].c(),l[s].m(a,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(e){e&&E(t),D(l,e)}}}function Ks(t){let a,s,n,l,r,o,i,c,d,f,u,h,m=null!=t[2]&&js(t),p=null!=t[3]&&Rs(t),v=null!=t[1]&&qs(t);return{c(){a=V("div"),s=V("div"),n=V("div"),l=V("div"),m&&m.c(),r=T(),o=V("div"),p&&p.c(),i=T(),c=V("div"),d=V("div"),f=V("div"),u=I("Fixtures"),h=T(),v&&v.c(),this.h()},l(e){a=S(e,"DIV",{id:!0,class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var g=A(s);n=S(g,"DIV",{class:!0});var y=A(n);l=S(y,"DIV",{class:!0});var $=A(l);m&&m.l($),$.forEach(E),y.forEach(E),r=B(g),o=S(g,"DIV",{class:!0});var b=A(o);p&&p.l(b),b.forEach(E),g.forEach(E),i=B(t),c=S(t,"DIV",{class:!0});var w=A(c);d=S(w,"DIV",{class:!0});var x=A(d);f=S(x,"DIV",{class:!0});var D=A(f);u=O(D,"Fixtures"),D.forEach(E),h=B(x),v&&v.l(x),x.forEach(E),w.forEach(E),t.forEach(E),this.h()},h(){G(l,"class","upcoming-matches-container"),G(n,"class","left svelte-1sfmcda"),G(o,"class","standings-container svelte-1sfmcda"),G(s,"class","row svelte-1sfmcda"),G(f,"class","fixtures-title svelte-1sfmcda"),G(d,"class","fixtures svelte-1sfmcda"),G(c,"class","row svelte-1sfmcda"),G(a,"id","page-content"),G(a,"class","svelte-1sfmcda")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(n,l),m&&m.m(l,null),w(s,r),w(s,o),p&&p.m(o,null),w(a,i),w(a,c),w(c,d),w(d,f),w(f,u),w(d,h),v&&v.m(d,null)},p(e,[t]){null!=e[2]?m?m.p(e,t):(m=js(e),m.c(),m.m(l,null)):m&&(m.d(1),m=null),null!=e[3]?p?p.p(e,t):(p=Rs(e),p.c(),p.m(o,null)):p&&(p.d(1),p=null),null!=e[1]?v?v.p(e,t):(v=qs(e),v.c(),v.m(d,null)):v&&(v.d(1),v=null)},i:e,o:e,d(e){e&&E(a),m&&m.d(),p&&p.d(),v&&v.d()}}}function Qs(e){return e<.05?"#00fe87":e<.1?"#63fb6e":e<.15?"#8df755":e<.2?"#aef23e":e<.25?"#cbec27":e<.3?"#e6e50f":e<.35?"#ffdd00":e<.4?"#ffc400":e<.45?"#ffab00":e<.5?"#ff9000":e<.55?"#ff7400":e<.6?"#ff5618":"#f83027"}function Zs(e,t,a){let s,n,l,r="rating";q((()=>{a(2,s=function(){let e=[];for(let t in o.upcoming){let a=new Date(o.upcoming[t].date);o.upcoming[t].atHome&&e.push({time:a,home:t,away:o.upcoming[t].nextTeam})}return e.sort(((e,t)=>e.time-t.time)),e}()),a(3,n=function(){let e=[];for(let t in o.standings){let a=Object(o.standings[t][o._id]);a.team=t,e.push(a)}return e.sort(((e,t)=>e.position-t.position)),e}()),a(1,l=function(e){let t=[];for(let a of e){let e=[];for(let t in o.fixtures[a.team]){let s=o.fixtures[a.team][t],n=s.atHome?0:o.homeAdvantages[s.team].totalHomeAdvantage;e.push({team:s.team,date:s.date,atHome:s.atHome,status:s.status,colour:Qs(o.teamRatings[s.team].totalRating+n)})}t.push({team:a.team,matches:e})}return t}(n))}));let{data:o}=t;return e.$$set=e=>{"data"in e&&a(0,o=e.data)},e.$$.update=()=>{e.$$.dirty},[o,l,s,n,r,function(){if("rating"!==r){a(4,r="rating");for(let e of l)for(let t of e.matches){let e=t.atHome?0:o.homeAdvantages[t.team].totalHomeAdvantage;t.colour=Qs(o.teamRatings[t.team].totalRating+e)}a(1,l)}},function(){if("form"!==r){a(4,r="form");for(let t of l)for(let a of t.matches){let s=.5,n=Object.keys(o.form[t.team][o._id]).reverse(),l=a.atHome?0:o.homeAdvantages[a.team].totalHomeAdvantage;for(let e of n)null!=o.form[a.team][o._id][e].formRating5&&(s=o.form[a.team][o._id][e].formRating5);a.colour=(e=s+l)<.2?"#00fe87":e<.25?"#63fb6e":e<.35?"#8df755":e<.4?"#aef23e":e<.45?"#cbec27":e<.5?"#e6e50f":e<.55?"#ffdd00":e<.6?"#ffc400":e<.65?"#ffab00":e<.7?"#ff9000":e<.75?"#ff7400":e<.8?"#ff5618":"#f83027"}var e;a(1,l)}},e=>parseInt(e),e=>parseInt(e),e=>parseInt(e)]}class en extends xe{constructor(e){super(),we(this,e,Zs,Ks,r,{data:0})}}function tn(e,t,a){const s=e.slice();return s[11]=t[a],s[13]=a,s}function an(e){let t,a=e[2],s=[];for(let t=0;t<a.length;t+=1)s[t]=on(tn(e,a,t));return{c(){t=V("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var a=A(t);for(let e=0;e<s.length;e+=1)s[e].l(a);a.forEach(E),this.h()},h(){G(t,"class","team-links svelte-1oblb1s")},m(e,a){x(e,t,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,n){if(15&n){let l;for(a=e[2],l=0;l<a.length;l+=1){const r=tn(e,a,l);s[l]?s[l].p(r,n):(s[l]=on(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){e&&E(t),D(s,e)}}}function sn(e){let t;function a(e,t){return 0===e[13]||1===e[13]&&null===e[2][0]?rn:e[13]===e[2].length-1||e[13]===e[2].length-2&&null===e[2][e[2].length-1]?ln:nn}let s=a(e),n=s(e);return{c(){n.c(),t=_()},l(e){n.l(e),t=_()},m(e,a){n.m(e,a),x(e,t,a)},p(e,l){s===(s=a(e))&&n?n.p(e,l):(n.d(1),n=s(e),n&&(n.c(),n.m(t.parentNode,t)))},d(e){n.d(e),e&&E(t)}}}function nn(e){let t,a,s,n,l=e[1](e[0][e[13]])+"";function r(){return e[9](e[11])}return{c(){t=V("button"),a=I(l),this.h()},l(e){t=S(e,"BUTTON",{style:!0,class:!0});var s=A(t);a=O(s,l),s.forEach(E),this.h()},h(){L(t,"color","var(--"+e[11]+"-secondary)"),L(t,"background-color","var(--"+e[11]+")"),G(t,"class","team-link svelte-1oblb1s")},m(e,l){x(e,t,l),w(t,a),s||(n=P(t,"click",r),s=!0)},p(s,n){e=s,3&n&&l!==(l=e[1](e[0][e[13]])+"")&&C(a,l),4&n&&L(t,"color","var(--"+e[11]+"-secondary)"),4&n&&L(t,"background-color","var(--"+e[11]+")")},d(e){e&&E(t),s=!1,n()}}}function ln(e){let t,a,s,n,l=e[1](e[0][e[13]])+"";function r(){return e[8](e[13])}return{c(){t=V("button"),a=I(l),this.h()},l(e){t=S(e,"BUTTON",{style:!0,class:!0});var s=A(t);a=O(s,l),s.forEach(E),this.h()},h(){L(t,"color","var(--"+e[2][e[13]]+"-secondary)"),L(t,"background-color","var(--"+e[2][e[13]]+")"),G(t,"class","team-link last-team svelte-1oblb1s")},m(e,l){x(e,t,l),w(t,a),s||(n=P(t,"click",r),s=!0)},p(s,n){e=s,3&n&&l!==(l=e[1](e[0][e[13]])+"")&&C(a,l),4&n&&L(t,"color","var(--"+e[2][e[13]]+"-secondary)"),4&n&&L(t,"background-color","var(--"+e[2][e[13]]+")")},d(e){e&&E(t),s=!1,n()}}}function rn(e){let t,a,s,n,l=e[1](e[0][e[13]])+"";function r(){return e[7](e[13])}return{c(){t=V("button"),a=I(l),this.h()},l(e){t=S(e,"BUTTON",{style:!0,class:!0});var s=A(t);a=O(s,l),s.forEach(E),this.h()},h(){L(t,"color","var(--"+e[2][e[13]]+"-secondary)"),L(t,"background-color","var(--"+e[2][e[13]]+")"),G(t,"class","team-link first-team svelte-1oblb1s")},m(e,l){x(e,t,l),w(t,a),s||(n=P(t,"click",r),s=!0)},p(s,n){e=s,3&n&&l!==(l=e[1](e[0][e[13]])+"")&&C(a,l),4&n&&L(t,"color","var(--"+e[2][e[13]]+"-secondary)"),4&n&&L(t,"background-color","var(--"+e[2][e[13]]+")")},d(e){e&&E(t),s=!1,n()}}}function on(e){let t,a=null!=e[11]&&sn(e);return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,s){a&&a.m(e,s),x(e,t,s)},p(e,s){null!=e[11]?a?a.p(e,s):(a=sn(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&E(t)}}}function cn(t){let a,s=null!=t[2]&&an(t);return{c(){a=V("nav"),s&&s.c(),this.h()},l(e){a=S(e,"NAV",{id:!0,style:!0,class:!0});var t=A(a);s&&s.l(t),t.forEach(E),this.h()},h(){G(a,"id","mobileNav"),L(a,"width","0%"),G(a,"class","svelte-1oblb1s")},m(e,t){x(e,a,t),s&&s.m(a,null)},p(e,[t]){null!=e[2]?s?s.p(e,t):(s=an(e),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&E(a),s&&s.d()}}}function dn(e,t,a){function s(e){i(e),window.scrollTo(0,0),c()}let n,{hyphenatedTeam:l,teams:r,toAlias:o,switchTeam:i,toggleMobileNav:c}=t;return e.$$set=e=>{"hyphenatedTeam"in e&&a(4,l=e.hyphenatedTeam),"teams"in e&&a(0,r=e.teams),"toAlias"in e&&a(1,o=e.toAlias),"switchTeam"in e&&a(5,i=e.switchTeam),"toggleMobileNav"in e&&a(6,c=e.toggleMobileNav)},e.$$.update=()=>{17&e.$$.dirty&&l&&r.length>0&&function(){let e=[];for(let t=0;t<r.length;t++){let a=it(r[t]);a!=l?e.push(a):e.push(null)}a(2,n=e)}()},[r,o,n,s,l,i,c,e=>{s(n[e])},e=>{s(n[e])},e=>{s(e)}]}class fn extends xe{constructor(e){super(),we(this,e,dn,cn,r,{hyphenatedTeam:4,teams:0,toAlias:1,switchTeam:5,toggleMobileNav:6})}}function un(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function hn(e,t,a){return{x:e,y:t,type:"scatter",fill:"tozeroy",mode:"lines",name:"Scored",text:a,line:{color:"#00fe87"},hovertemplate:"%{text|%d %b %Y}<br>Avg scored: <b>%{y:.1f}</b><extra></extra>"}}function mn(e,t,a){return{x:e,y:t,type:"scatter",fill:"tozeroy",mode:"lines",name:"Conceded",text:a,line:{color:"#f83027"},hovertemplate:"%{text|%d %b %Y}<br>Avg conceded: <b>%{y:.1f}</b><extra></extra>"}}function pn(e,t){const a=new Date(e),s=new Date(t),n=a.getTime()-s.getTime();return Math.round(n/864e5)}function vn(e,t){let a=function(e,t,a){let s=[],n=e.form[t][e._id-a][1].date,l=0;for(let r=a-1;r>=0;r--){let a=e.form[t][e._id-r];for(let e of Object.keys(a)){let t=a[e];if(null!=t.score){let a,r;t.atHome?(a=t.score.homeGoals,r=t.score.awayGoals):(a=t.score.awayGoals,r=t.score.homeGoals),s.push({date:t.date,days:pn(t.date,n)-l,matchday:e,scored:a,conceded:r})}}if(r>0){let a=e.form[t][e._id-r][38].date;l+=pn(e.form[t][e._id-r+1][1].date,a),l-=14}}return s}(e,t,3);a.sort((function(e,t){return e.days<t.days?-1:e.days===t.days?0:1}));let s=[],n=[],l=[],r=[],o=[],i=[],c=[];for(let t=0;t<a.length;t++){if(s.push(a[t].date),n.push(a[t].days),t%38==37)l.push(a[t].days+7),r.push((t%38+1).toString()),o.push(a[t].days);else if(t%38==0)r.push((t%38+1).toString()),o.push(a[t].days);else if(t%38==19||t===a.length-1){let s=e._id-3+1+Math.floor(t/38);if(s!=e._id||"19"!=a[t].matchday){let e=`${String(s).slice(2)}/${String(s+1).slice(2)}`;r.push(e),o.push(a[t].days)}}i.push(a[t].scored),c.push(a[t].conceded)}for(let e=0;e<s.length;e++){let t=e-1,a=1;for(;t>e-5&&t>=0;)i[e]+=i[t],c[e]+=c[t],a+=1,t-=1;a>1&&(i[e]/=a,c[e]/=a)}return[s,n,l,r,o,i,c]}function gn(e,t,a,s){return[hn(e,t,s),mn(e,a,s)]}function yn(e,t,a){return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals (5-game avg)"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:t,ticktext:e},dragmode:!1,shapes:[...a],legend:{x:1,xanchor:"right",y:.95}}}function $n(e,t){let[a,s,n,l,r,o,i]=vn(e,t),c=Math.max(Math.max(...o),Math.max(...i)),d=function(e,t,a){let s=[];for(let n=0;n<e.length;n++)e[n]<t&&s.push({type:"line",x0:e[n],y0:0,x1:e[n],y1:a,line:{color:"black",dash:"dot",width:1}});return s}(n,s[s.length-1],c);return{data:[...gn(s,o,i,a)],layout:yn(l,r,d),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function bn(e,t,a){function s(){if(r){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(n,{},e)}}let n,l,r=!1;q((()=>{l=$n(o,i),new Plotly.newPlot(n,l.data,l.layout,l.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,r=!0)}));let{data:o,team:i,mobileView:c}=t;return e.$$set=e=>{"data"in e&&a(1,o=e.data),"team"in e&&a(2,i=e.team),"mobileView"in e&&a(3,c=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&i&&function(){if(r){let e=$n(o,i);l.data[0]=e.data[0],l.data[1]=e.data[1],l.layout.shapes=e.layout.shapes,l.layout.xaxis.ticktext=e.layout.xaxis.ticktext,l.layout.xaxis.tickvals=e.layout.xaxis.tickvals,Plotly.redraw(n),c&&s()}}(),8&e.$$.dirty&&!c&&function(){if(r){let e={"yaxis.title":{text:"Goals (5-game avg)"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(n,{},e)}}(),24&e.$$.dirty&&r&&c&&s()},[n,o,i,c,r,function(e){J[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class wn extends xe{constructor(e){super(),we(this,e,bn,un,r,{data:1,team:2,mobileView:3})}}const xn="https://pldashboard-backend.vercel.app/api",{document:En,window:Dn}=g;function Vn(t){let a,s,n,l;return{c(){a=V("button"),s=I("Select Team"),this.h()},l(e){a=S(e,"BUTTON",{id:!0,class:!0});var t=A(a);s=O(t,"Select Team"),t.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),G(a,"class","svelte-fyzk09")},m(e,t){x(e,a,t),w(a,s),n||(l=P(a,"click",zn),n=!0)},p:e,d(e){e&&E(a),n=!1,l()}}}function kn(t){let a,s;return{c(){a=V("button"),s=I("Select Team"),this.h()},l(e){a=S(e,"BUTTON",{id:!0,style:!0,class:!0});var t=A(a);s=O(t,"Select Team"),t.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),L(a,"cursor","default"),G(a,"class","svelte-fyzk09")},m(e,t){x(e,a,t),w(a,s)},p:e,d(e){e&&E(a)}}}function In(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{class:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(e,t){x(e,a,t),w(a,s)},p:e,i:e,o:e,d(e){e&&E(a)}}}function Tn(e){let t,a,s,n,l;const r=[Pn,_n],o=[];function i(e,t){return"overview"===e[0]?0:1}return t=i(e),a=o[t]=r[t](e),n=new na({props:{lastUpdated:e[9].lastUpdated}}),{c(){a.c(),s=T(),ve(n.$$.fragment)},l(e){a.l(e),s=B(e),ge(n.$$.fragment,e)},m(e,a){o[t].m(e,a),x(e,s,a),ye(n,e,a),l=!0},p(e,l){let c=t;t=i(e),t===c?o[t].p(e,l):(ie(),fe(o[c],1,1,(()=>{o[c]=null})),ce(),a=o[t],a?a.p(e,l):(a=o[t]=r[t](e),a.c()),de(a,1),a.m(s.parentNode,s));const d={};512&l&&(d.lastUpdated=e[9].lastUpdated),n.$set(d)},i(e){l||(de(a),de(n.$$.fragment,e),l=!0)},o(e){fe(a),fe(n.$$.fragment,e),l=!1},d(e){o[t].d(e),e&&E(s),$e(n,e)}}}function _n(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,_,P,N,z,L,j,H,F,R,U,q,Y,W,X,K,Z,ee,te,ae,se,ne=e[9].standings[e[5]][e[9]._id].position+"";function le(t){e[14](t)}D=new ia({props:{data:e[9],team:e[5],mobileView:e[10]}}),z=new yt({props:{data:e[9],currentMatchday:e[7],team:e[5]}}),j=new Pt({props:{data:e[9],hyphenatedTeam:e[0],team:e[5],switchTeam:e[11]}}),R=new Ft({props:{data:e[9],team:e[5],switchTeam:e[11]}});let re={data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]};void 0!==e[3]&&(re.lazyLoad=e[3]),ee=new fa({props:re}),J.push((()=>function(e,t,a){const s=e.$$.props[t];void 0!==s&&(e.$$.bound[s]=a,a(e.$$.ctx[s]))}(ee,"lazyLoad",le)));let oe=e[3]&&Gn(e);return{c(){t=V("div"),a=V("div"),s=V("div"),n=V("div"),l=k("svg"),r=k("circle"),i=k("circle"),d=k("circle"),u=T(),h=V("div"),m=I(ne),p=T(),v=V("div"),g=V("h1"),y=I("Fixtures"),$=T(),b=V("div"),ve(D.$$.fragment),_=T(),P=V("div"),N=V("div"),ve(z.$$.fragment),L=T(),ve(j.$$.fragment),H=T(),F=V("div"),ve(R.$$.fragment),U=T(),q=V("div"),Y=V("div"),W=V("h1"),X=I("Form"),K=T(),Z=V("div"),ve(ee.$$.fragment),ae=T(),oe&&oe.c(),this.h()},l(e){t=S(e,"DIV",{class:!0});var o=A(t);a=S(o,"DIV",{class:!0});var c=A(a);s=S(c,"DIV",{class:!0});var f=A(s);n=S(f,"DIV",{class:!0});var w=A(n);l=M(w,"svg",{class:!0});var x=A(l);r=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(r).forEach(E),i=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(i).forEach(E),d=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(d).forEach(E),x.forEach(E),w.forEach(E),u=B(f),h=S(f,"DIV",{class:!0});var V=A(h);m=O(V,ne),V.forEach(E),f.forEach(E),p=B(c),v=S(c,"DIV",{class:!0});var k=A(v);g=S(k,"H1",{class:!0});var I=A(g);y=O(I,"Fixtures"),I.forEach(E),$=B(k),b=S(k,"DIV",{class:!0});var T=A(b);ge(D.$$.fragment,T),T.forEach(E),k.forEach(E),c.forEach(E),_=B(o),P=S(o,"DIV",{class:!0});var G=A(P);N=S(G,"DIV",{class:!0});var C=A(N);ge(z.$$.fragment,C),L=B(C),ge(j.$$.fragment,C),C.forEach(E),H=B(G),F=S(G,"DIV",{class:!0});var J=A(F);ge(R.$$.fragment,J),J.forEach(E),G.forEach(E),U=B(o),q=S(o,"DIV",{class:!0});var Q=A(q);Y=S(Q,"DIV",{class:!0});var te=A(Y);W=S(te,"H1",{class:!0});var se=A(W);X=O(se,"Form"),se.forEach(E),K=B(te),Z=S(te,"DIV",{class:!0});var le=A(Z);ge(ee.$$.fragment,le),le.forEach(E),te.forEach(E),Q.forEach(E),ae=B(o),oe&&oe.l(o),o.forEach(E),this.h()},h(){G(r,"cx","300"),G(r,"cy","150"),G(r,"r","100"),G(r,"stroke-width","0"),G(r,"fill",o="var(--"+e[0]+"-secondary)"),G(i,"cx","170"),G(i,"cy","170"),G(i,"r","140"),G(i,"stroke-width","0"),G(i,"fill",c="var(--"+e[0]+")"),G(d,"cx","300"),G(d,"cy","320"),G(d,"r","170"),G(d,"stroke-width","0"),G(d,"fill",f="var(--"+e[0]+")"),G(l,"class","circles-background svelte-fyzk09"),G(n,"class","circles-background-container svelte-fyzk09"),G(h,"class","position-central svelte-fyzk09"),G(s,"class","row-left position-no-badge svelte-fyzk09"),G(g,"class","lowered svelte-fyzk09"),G(b,"class","graph mini-graph mobile-margin"),G(v,"class","row-right fixtures-graph row-graph svelte-fyzk09"),G(a,"class","row multi-element-row small-bottom-margin svelte-fyzk09"),G(N,"class","row-left form-details svelte-fyzk09"),G(F,"class","row-right svelte-fyzk09"),G(P,"class","row multi-element-row svelte-fyzk09"),G(W,"class","lowered svelte-fyzk09"),G(Z,"class","graph full-row-graph svelte-fyzk09"),G(Y,"class","form-graph row-graph svelte-fyzk09"),G(q,"class","row svelte-fyzk09"),G(t,"class","page-content svelte-fyzk09")},m(e,o){x(e,t,o),w(t,a),w(a,s),w(s,n),w(n,l),w(l,r),w(l,i),w(l,d),w(s,u),w(s,h),w(h,m),w(a,p),w(a,v),w(v,g),w(g,y),w(v,$),w(v,b),ye(D,b,null),w(t,_),w(t,P),w(P,N),ye(z,N,null),w(N,L),ye(j,N,null),w(P,H),w(P,F),ye(R,F,null),w(t,U),w(t,q),w(q,Y),w(Y,W),w(W,X),w(Y,K),w(Y,Z),ye(ee,Z,null),w(t,ae),oe&&oe.m(t,null),se=!0},p(e,a){(!se||1&a&&o!==(o="var(--"+e[0]+"-secondary)"))&&G(r,"fill",o),(!se||1&a&&c!==(c="var(--"+e[0]+")"))&&G(i,"fill",c),(!se||1&a&&f!==(f="var(--"+e[0]+")"))&&G(d,"fill",f),(!se||544&a)&&ne!==(ne=e[9].standings[e[5]][e[9]._id].position+"")&&C(m,ne);const s={};512&a&&(s.data=e[9]),32&a&&(s.team=e[5]),1024&a&&(s.mobileView=e[10]),D.$set(s);const n={};512&a&&(n.data=e[9]),128&a&&(n.currentMatchday=e[7]),32&a&&(n.team=e[5]),z.$set(n);const l={};512&a&&(l.data=e[9]),1&a&&(l.hyphenatedTeam=e[0]),32&a&&(l.team=e[5]),j.$set(l);const u={};512&a&&(u.data=e[9]),32&a&&(u.team=e[5]),R.$set(u);const h={};var p;512&a&&(h.data=e[9]),32&a&&(h.team=e[5]),256&a&&(h.playedDates=e[8]),1024&a&&(h.mobileView=e[10]),!te&&8&a&&(te=!0,h.lazyLoad=e[3],p=()=>te=!1,Q.push(p)),ee.$set(h),e[3]?oe?(oe.p(e,a),8&a&&de(oe,1)):(oe=Gn(e),oe.c(),de(oe,1),oe.m(t,null)):oe&&(ie(),fe(oe,1,1,(()=>{oe=null})),ce())},i(e){se||(de(D.$$.fragment,e),de(z.$$.fragment,e),de(j.$$.fragment,e),de(R.$$.fragment,e),de(ee.$$.fragment,e),de(oe),se=!0)},o(e){fe(D.$$.fragment,e),fe(z.$$.fragment,e),fe(j.$$.fragment,e),fe(R.$$.fragment,e),fe(ee.$$.fragment,e),fe(oe),se=!1},d(e){e&&E(t),$e(D),$e(z),$e(j),$e(R),$e(ee),oe&&oe.d()}}}function Pn(e){let t,a;return t=new en({props:{data:e[9]}}),{c(){ve(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,s){ye(t,e,s),a=!0},p(e,a){const s={};512&a&&(s.data=e[9]),t.$set(s)},i(e){a||(de(t.$$.fragment,e),a=!0)},o(e){fe(t.$$.fragment,e),a=!1},d(e){$e(t,e)}}}function Gn(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,ee,te,ae,se,ne,le,re,oe,ie,ce,ue,he,me,pe,be;return o=new ma({props:{data:e[9],team:e[5],mobileView:e[10]}}),p=new ga({props:{data:e[9],team:e[5],mobileView:e[10]}}),_=new Va({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),C=new Pa({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),H=new ea({props:{data:e[9],team:e[5]}}),Y=new wn({props:{data:e[9],team:e[5],mobileView:e[10]}}),ee=new Ka({props:{data:e[9],team:e[5],mobileView:e[10]}}),le=new xs({props:{data:e[9],team:e[5],mobileView:e[10]}}),pe=new ms({props:{data:e[9],team:e[5],teams:e[6]}}),{c(){t=V("div"),a=V("div"),s=V("h1"),n=I("Position"),l=T(),r=V("div"),ve(o.$$.fragment),i=T(),c=V("div"),d=V("div"),f=V("h1"),u=I("Points"),h=T(),m=V("div"),ve(p.$$.fragment),v=T(),g=V("div"),y=V("div"),$=V("h1"),b=I("Goals Per Game"),D=T(),k=V("div"),ve(_.$$.fragment),P=T(),N=V("div"),z=V("div"),M=V("div"),ve(C.$$.fragment),L=T(),j=V("div"),ve(H.$$.fragment),F=T(),R=V("div"),U=V("div"),q=V("div"),ve(Y.$$.fragment),W=T(),X=V("div"),J=V("div"),K=V("h1"),Q=I("Scorelines"),Z=T(),ve(ee.$$.fragment),te=T(),ae=V("div"),se=V("div"),ne=V("div"),ve(le.$$.fragment),re=T(),oe=V("div"),ie=V("div"),ce=V("h1"),ue=I("Team Comparison"),he=T(),me=V("div"),ve(pe.$$.fragment),this.h()},l(e){t=S(e,"DIV",{class:!0});var w=A(t);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"H1",{class:!0});var V=A(s);n=O(V,"Position"),V.forEach(E),l=B(x),r=S(x,"DIV",{class:!0});var I=A(r);ge(o.$$.fragment,I),I.forEach(E),x.forEach(E),w.forEach(E),i=B(e),c=S(e,"DIV",{class:!0});var T=A(c);d=S(T,"DIV",{class:!0});var G=A(d);f=S(G,"H1",{class:!0});var de=A(f);u=O(de,"Points"),de.forEach(E),h=B(G),m=S(G,"DIV",{class:!0});var fe=A(m);ge(p.$$.fragment,fe),fe.forEach(E),G.forEach(E),T.forEach(E),v=B(e),g=S(e,"DIV",{class:!0});var ve=A(g);y=S(ve,"DIV",{class:!0});var ye=A(y);$=S(ye,"H1",{class:!0});var $e=A($);b=O($e,"Goals Per Game"),$e.forEach(E),D=B(ye),k=S(ye,"DIV",{class:!0});var be=A(k);ge(_.$$.fragment,be),be.forEach(E),ye.forEach(E),ve.forEach(E),P=B(e),N=S(e,"DIV",{class:!0});var we=A(N);z=S(we,"DIV",{class:!0});var xe=A(z);M=S(xe,"DIV",{class:!0});var Ee=A(M);ge(C.$$.fragment,Ee),Ee.forEach(E),xe.forEach(E),we.forEach(E),L=B(e),j=S(e,"DIV",{class:!0});var De=A(j);ge(H.$$.fragment,De),De.forEach(E),F=B(e),R=S(e,"DIV",{class:!0});var Ve=A(R);U=S(Ve,"DIV",{class:!0});var ke=A(U);q=S(ke,"DIV",{class:!0});var Ie=A(q);ge(Y.$$.fragment,Ie),Ie.forEach(E),ke.forEach(E),Ve.forEach(E),W=B(e),X=S(e,"DIV",{class:!0});var Te=A(X);J=S(Te,"DIV",{class:!0});var _e=A(J);K=S(_e,"H1",{});var Pe=A(K);Q=O(Pe,"Scorelines"),Pe.forEach(E),Z=B(_e),ge(ee.$$.fragment,_e),_e.forEach(E),Te.forEach(E),te=B(e),ae=S(e,"DIV",{class:!0});var Ge=A(ae);se=S(Ge,"DIV",{class:!0});var Ae=A(se);ne=S(Ae,"DIV",{class:!0});var Ne=A(ne);ge(le.$$.fragment,Ne),Ne.forEach(E),Ae.forEach(E),Ge.forEach(E),re=B(e),oe=S(e,"DIV",{class:!0});var ze=A(oe);ie=S(ze,"DIV",{class:!0});var Se=A(ie);ce=S(Se,"H1",{});var Me=A(ce);ue=O(Me,"Team Comparison"),Me.forEach(E),he=B(Se),me=S(Se,"DIV",{class:!0});var Oe=A(me);ge(pe.$$.fragment,Oe),Oe.forEach(E),Se.forEach(E),ze.forEach(E),this.h()},h(){G(s,"class","lowered svelte-fyzk09"),G(r,"class","graph full-row-graph svelte-fyzk09"),G(a,"class","position-over-time-graph row-graph svelte-fyzk09"),G(t,"class","row svelte-fyzk09"),G(f,"class","lowered svelte-fyzk09"),G(m,"class","graph full-row-graph svelte-fyzk09"),G(d,"class","position-over-time-graph row-graph svelte-fyzk09"),G(c,"class","row svelte-fyzk09"),G($,"class","lowered svelte-fyzk09"),G(k,"class","graph full-row-graph svelte-fyzk09"),G(y,"class","goals-scored-vs-conceded-graph row-graph svelte-fyzk09"),G(g,"class","row no-bottom-margin svelte-fyzk09"),G(M,"class","clean-sheets graph full-row-graph svelte-fyzk09"),G(z,"class","row-graph svelte-fyzk09"),G(N,"class","row svelte-fyzk09"),G(j,"class","season-stats-row svelte-fyzk09"),G(q,"class","graph full-row-graph svelte-fyzk09"),G(U,"class","row-graph svelte-fyzk09"),G(R,"class","row svelte-fyzk09"),G(J,"class","goals-freq-row row-graph svelte-fyzk09"),G(X,"class","row svelte-fyzk09"),G(ne,"class","score-freq graph svelte-fyzk09"),G(se,"class","row-graph svelte-fyzk09"),G(ae,"class","row svelte-fyzk09"),G(me,"class","spider-chart-container svelte-fyzk09"),G(ie,"class","spider-chart-row row-graph svelte-fyzk09"),G(oe,"class","row svelte-fyzk09")},m(e,E){x(e,t,E),w(t,a),w(a,s),w(s,n),w(a,l),w(a,r),ye(o,r,null),x(e,i,E),x(e,c,E),w(c,d),w(d,f),w(f,u),w(d,h),w(d,m),ye(p,m,null),x(e,v,E),x(e,g,E),w(g,y),w(y,$),w($,b),w(y,D),w(y,k),ye(_,k,null),x(e,P,E),x(e,N,E),w(N,z),w(z,M),ye(C,M,null),x(e,L,E),x(e,j,E),ye(H,j,null),x(e,F,E),x(e,R,E),w(R,U),w(U,q),ye(Y,q,null),x(e,W,E),x(e,X,E),w(X,J),w(J,K),w(K,Q),w(J,Z),ye(ee,J,null),x(e,te,E),x(e,ae,E),w(ae,se),w(se,ne),ye(le,ne,null),x(e,re,E),x(e,oe,E),w(oe,ie),w(ie,ce),w(ce,ue),w(ie,he),w(ie,me),ye(pe,me,null),be=!0},p(e,t){const a={};512&t&&(a.data=e[9]),32&t&&(a.team=e[5]),1024&t&&(a.mobileView=e[10]),o.$set(a);const s={};512&t&&(s.data=e[9]),32&t&&(s.team=e[5]),1024&t&&(s.mobileView=e[10]),p.$set(s);const n={};512&t&&(n.data=e[9]),32&t&&(n.team=e[5]),256&t&&(n.playedDates=e[8]),1024&t&&(n.mobileView=e[10]),_.$set(n);const l={};512&t&&(l.data=e[9]),32&t&&(l.team=e[5]),256&t&&(l.playedDates=e[8]),1024&t&&(l.mobileView=e[10]),C.$set(l);const r={};512&t&&(r.data=e[9]),32&t&&(r.team=e[5]),H.$set(r);const i={};512&t&&(i.data=e[9]),32&t&&(i.team=e[5]),1024&t&&(i.mobileView=e[10]),Y.$set(i);const c={};512&t&&(c.data=e[9]),32&t&&(c.team=e[5]),1024&t&&(c.mobileView=e[10]),ee.$set(c);const d={};512&t&&(d.data=e[9]),32&t&&(d.team=e[5]),1024&t&&(d.mobileView=e[10]),le.$set(d);const f={};512&t&&(f.data=e[9]),32&t&&(f.team=e[5]),64&t&&(f.teams=e[6]),pe.$set(f)},i(e){be||(de(o.$$.fragment,e),de(p.$$.fragment,e),de(_.$$.fragment,e),de(C.$$.fragment,e),de(H.$$.fragment,e),de(Y.$$.fragment,e),de(ee.$$.fragment,e),de(le.$$.fragment,e),de(pe.$$.fragment,e),be=!0)},o(e){fe(o.$$.fragment,e),fe(p.$$.fragment,e),fe(_.$$.fragment,e),fe(C.$$.fragment,e),fe(H.$$.fragment,e),fe(Y.$$.fragment,e),fe(ee.$$.fragment,e),fe(le.$$.fragment,e),fe(pe.$$.fragment,e),be=!1},d(e){e&&E(t),$e(o),e&&E(i),e&&E(c),$e(p),e&&E(v),e&&E(g),$e(_),e&&E(P),e&&E(N),$e(C),e&&E(L),e&&E(j),$e(H),e&&E(F),e&&E(R),$e(Y),e&&E(W),e&&E(X),$e(ee),e&&E(te),e&&E(ae),$e(le),e&&E(re),e&&E(oe),$e(pe)}}}function An(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g=("Overview"!=e[5]&&""!=e[5]?ot(e[5]):"Overview")+"";function y(e,t){return 0===e[6].length?kn:Vn}a=new zs({props:{team:e[0],teams:e[6],toAlias:ot,switchTeam:e[11]}}),n=new fn({props:{hyphenatedTeam:e[0],teams:e[6],toAlias:ot,switchTeam:e[11],toggleMobileNav:zn}});let $=y(e),b=$(e);const D=[Tn,In],k=[];function _(e,t){return null!=e[9]?0:1}return m=_(e),p=k[m]=D[m](e),{c(){t=V("div"),ve(a.$$.fragment),s=T(),ve(n.$$.fragment),l=T(),b.c(),r=T(),o=V("div"),i=V("div"),c=V("a"),d=V("div"),f=I(g),h=T(),p.c(),this.h()},l(e){t=S(e,"DIV",{id:!0,class:!0});var u=A(t);ge(a.$$.fragment,u),s=B(u),ge(n.$$.fragment,u),l=B(u),b.l(u),r=B(u),o=S(u,"DIV",{id:!0,class:!0});var m=A(o);i=S(m,"DIV",{class:!0,style:!0});var v=A(i);c=S(v,"A",{class:!0,href:!0});var y=A(c);d=S(y,"DIV",{class:!0,style:!0});var $=A(d);f=O($,g),$.forEach(E),y.forEach(E),v.forEach(E),h=B(m),p.l(m),m.forEach(E),u.forEach(E),this.h()},h(){G(d,"class","title svelte-fyzk09"),L(d,"color","var(--"+e[0]+"-secondary)"),G(c,"class","main-link no-decoration svelte-fyzk09"),G(c,"href",u="/"+e[0]),G(i,"class","header svelte-fyzk09"),L(i,"background-color","var(--"+e[0]+")"),G(o,"id","dashboard"),G(o,"class","svelte-fyzk09"),G(t,"id","team"),G(t,"class","svelte-fyzk09")},m(e,u){x(e,t,u),ye(a,t,null),w(t,s),ye(n,t,null),w(t,l),b.m(t,null),w(t,r),w(t,o),w(o,i),w(i,c),w(c,d),w(d,f),w(o,h),k[m].m(o,null),v=!0},p(e,s){const l={};1&s&&(l.team=e[0]),64&s&&(l.teams=e[6]),a.$set(l);const h={};1&s&&(h.hyphenatedTeam=e[0]),64&s&&(h.teams=e[6]),n.$set(h),$===($=y(e))&&b?b.p(e,s):(b.d(1),b=$(e),b&&(b.c(),b.m(t,r))),(!v||32&s)&&g!==(g=("Overview"!=e[5]&&""!=e[5]?ot(e[5]):"Overview")+"")&&C(f,g),(!v||1&s)&&L(d,"color","var(--"+e[0]+"-secondary)"),(!v||1&s&&u!==(u="/"+e[0]))&&G(c,"href",u),(!v||1&s)&&L(i,"background-color","var(--"+e[0]+")");let w=m;m=_(e),m===w?k[m].p(e,s):(ie(),fe(k[w],1,1,(()=>{k[w]=null})),ce(),p=k[m],p?p.p(e,s):(p=k[m]=D[m](e),p.c()),de(p,1),p.m(o,null))},i(e){v||(de(a.$$.fragment,e),de(n.$$.fragment,e),de(p),v=!0)},o(e){fe(a.$$.fragment,e),fe(n.$$.fragment,e),fe(p),v=!1},d(e){e&&E(t),$e(a),$e(n),b.d(),k[m].d()}}}function Nn(e){let t,a,s,l,r,o,i,c,d=!1,f=()=>{d=!1};return te(e[12]),te(e[13]),En.title=a=e[4],r=new Ze({props:{$$slots:{default:[An]},$$scope:{ctx:e}}}),{c(){s=V("meta"),l=T(),ve(r.$$.fragment),this.h()},l(e){const t=H("svelte-1b9t1l7",En.head);s=S(t,"META",{name:!0,content:!0}),t.forEach(E),l=B(e),ge(r.$$.fragment,e),this.h()},h(){G(s,"name","description"),G(s,"content","Premier League Statistics Dashboard")},m(a,n){w(En.head,s),x(a,l,n),ye(r,a,n),o=!0,i||(c=[P(Dn,"resize",e[12]),P(Dn,"scroll",(()=>{d=!0,clearTimeout(t),t=setTimeout(f,100),e[13]()}))],i=!0)},p(e,[s]){2&s&&!d&&(d=!0,clearTimeout(t),scrollTo(Dn.pageXOffset,e[1]),t=setTimeout(f,100)),(!o||16&s)&&a!==(a=e[4])&&(En.title=a);const n={};264169&s&&(n.$$scope={dirty:s,ctx:e}),r.$set(n)},i(e){o||(de(r.$$.fragment,e),o=!0)},o(e){fe(r.$$.fragment,e),o=!1},d(e){E(s),e&&E(l),$e(r,e),i=!1,n(c)}}}function zn(){let e=document.getElementById("mobileNav");"0%"===e.style.width?(e.style.display="block",e.style.width="100%"):(e.style.display="none",e.style.width="0%")}function Sn(e){switch(e){case"brighton":return"brighton-and-hove-albion";case"palace":return"crystal-palace";case"united":return"manchester-united";case"city":return"city";case"nottingham":return"nottingham-forest";case"luton":return"luton-town";case"sheffield":return"sheffield-united";case"villa":return"aston-villa";case"spurs":return"tottenham-hotspur";case"wolves":return"wolverhampton-wanderers";default:return e}}function Mn(e,t,a){let s,n;function l(e,t){let a=ft(e,t);0===a.length&&(a=Object.keys(e.fixtures[t]));let s=[];for(let t=0;t<a.length;t++){let n=[];for(let s in e.standings)n.push(new Date(e.fixtures[s][a[t]].date));n.sort(),s.push(n[Math.floor(n.length/2)])}return s.sort((function(e,t){return e-t})),s}let r,o,i,c,d=!1,f="Dashboard",u="",h=[];q((()=>{!async function(){"overview"===m?a(5,u="Overview"):null!=m&&(a(0,m=Sn(m)),a(5,u=Nt(m.replace(/\-/g," ")))),a(4,f=`Dashboard | ${u}`);const e=await fetch(`${xn}/teams`);if(!e.ok)return;let t=await e.json();a(6,h=Object.keys(t.standings)),null===m?(a(5,u=h[0]),a(4,f=`Dashboard | ${u}`),a(0,m=it(u)),history.pushState({},null,window.location.href+m)):"Overview"==u||""==u||h.includes(u)||(window.location.href="/error"),"Overview"!=u&&""!=u&&(a(7,o=ut(t,u)),a(8,i=l(t,u))),a(9,c=t),console.log(c),window.dispatchEvent(new Event("resize"))}()}));let{slug:m}=t;return e.$$set=e=>{"slug"in e&&a(0,m=e.slug)},e.$$.update=()=>{2&e.$$.dirty&&n>30&&(a(3,d=!0),window.dispatchEvent(new Event("resize"))),4&e.$$.dirty&&a(10,s=r<=700)},[m,n,r,d,f,u,h,o,i,c,s,function(e){a(0,m=e),"overview"===m?(a(5,u="Overview"),a(4,f="Dashboard | Overview")):(a(0,m=Sn(m)),a(5,u=Nt(m.replace(/\-/g," "))),a(4,f=`Dashboard | ${u}`),a(7,o=ut(c,u)),a(8,i=l(c,u))),window.history.pushState(null,null,m)},function(){a(2,r=Dn.innerWidth)},function(){a(1,n=Dn.pageYOffset)},function(e){d=e,a(3,d)}]}class On extends xe{constructor(e){super(),we(this,e,Mn,Nn,r,{slug:0})}}function Bn(t){let a,s,n,l,r,o,c,d,f,u,h,m,p;return{c(){a=V("div"),s=V("div"),n=V("div"),l=T(),r=V("img"),c=T(),d=V("div"),f=V("a"),u=I("Dashboard"),h=T(),m=V("a"),p=I("Fantasy"),this.h()},l(e){a=S(e,"DIV",{id:!0,class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var o=A(s);n=S(o,"DIV",{id:!0,class:!0}),A(n).forEach(E),l=B(o),r=S(o,"IMG",{src:!0,alt:!0,class:!0}),c=B(o),d=S(o,"DIV",{class:!0});var i=A(d);f=S(i,"A",{class:!0,href:!0});var v=A(f);u=O(v,"Dashboard"),v.forEach(E),h=B(i),m=S(i,"A",{class:!0,href:!0});var g=A(m);p=O(g,"Fantasy"),g.forEach(E),i.forEach(E),o.forEach(E),t.forEach(E),this.h()},h(){G(n,"id","circle"),G(n,"class","svelte-1ammpnm"),i(r.src,o="img/pldashboard5.png")||G(r,"src","img/pldashboard5.png"),G(r,"alt","pldashboard"),G(r,"class","svelte-1ammpnm"),G(f,"class","dashboard-link svelte-1ammpnm"),G(f,"href","/"),G(m,"class","fantasy-link svelte-1ammpnm"),G(m,"href","/fantasy"),G(d,"class","links svelte-1ammpnm"),G(s,"class","content svelte-1ammpnm"),G(a,"id","home"),G(a,"class","svelte-1ammpnm")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(s,l),w(s,r),w(s,c),w(s,d),w(d,f),w(f,u),w(d,h),w(d,m),w(m,p)},p:e,d(e){e&&E(a)}}}function Cn(e){let t,a,s,n;return s=new Ze({props:{$$slots:{default:[Bn]},$$scope:{ctx:e}}}),{c(){t=V("meta"),a=T(),ve(s.$$.fragment),this.h()},l(e){const n=H("svelte-96hcuw",document.head);t=S(n,"META",{name:!0,content:!0}),n.forEach(E),a=B(e),ge(s.$$.fragment,e),this.h()},h(){document.title="Premier League Dashboard",G(t,"name","description"),G(t,"content","Premier League Statistics Dashboard")},m(e,l){w(document.head,t),x(e,a,l),ye(s,e,l),n=!0},p(e,[t]){const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){n||(de(s.$$.fragment,e),n=!0)},o(e){fe(s.$$.fragment,e),n=!1},d(e){E(t),e&&E(a),$e(s,e)}}}class Ln extends xe{constructor(e){super(),we(this,e,null,Cn,r,{})}}const{document:jn}=g;function Hn(e,t,a){const s=e.slice();return s[3]=t[a]._id,s[4]=t[a].predictions,s}function Fn(e,t,a){const s=e.slice();return s[7]=t[a],s}function Rn(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{class:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(e,t){x(e,a,t),w(a,s)},p:e,d(e){e&&E(a)}}}function Un(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$=(100*e[0].accuracy.scoreAccuracy).toFixed(2)+"",b=(100*e[0].accuracy.resultAccuracy).toFixed(2)+"",D=null!=e[0].predictions&&qn(e);return{c(){t=V("div"),a=V("div"),s=V("div"),n=V("span"),l=I("Predicting with accuracy: "),r=V("b"),o=I($),i=I("%"),c=V("br"),d=T(),f=V("div"),u=I("General results accuracy: "),h=V("b"),m=I(b),p=I("%"),v=T(),g=V("div"),y=V("div"),D&&D.c(),this.h()},l(e){t=S(e,"DIV",{class:!0});var w=A(t);a=S(w,"DIV",{class:!0});var x=A(a);s=S(x,"DIV",{class:!0});var V=A(s);n=S(V,"SPAN",{class:!0});var k=A(n);l=O(k,"Predicting with accuracy: "),r=S(k,"B",{});var I=A(r);o=O(I,$),i=O(I,"%"),I.forEach(E),k.forEach(E),c=S(V,"BR",{}),d=B(V),f=S(V,"DIV",{class:!0});var T=A(f);u=O(T,"General results accuracy: "),h=S(T,"B",{});var _=A(h);m=O(_,b),p=O(_,"%"),_.forEach(E),T.forEach(E),V.forEach(E),x.forEach(E),v=B(w),g=S(w,"DIV",{class:!0});var P=A(g);y=S(P,"DIV",{class:!0});var G=A(y);D&&D.l(G),G.forEach(E),P.forEach(E),w.forEach(E),this.h()},h(){G(n,"class","accuracy-item svelte-oak57v"),G(f,"class","accuracy-item svelte-oak57v"),G(s,"class","accuracy svelte-oak57v"),G(a,"class","accuracy-display svelte-oak57v"),G(y,"class","predictions svelte-oak57v"),G(g,"class","predictions-container svelte-oak57v"),G(t,"class","page-content svelte-oak57v")},m(e,$){x(e,t,$),w(t,a),w(a,s),w(s,n),w(n,l),w(n,r),w(r,o),w(r,i),w(s,c),w(s,d),w(s,f),w(f,u),w(f,h),w(h,m),w(h,p),w(t,v),w(t,g),w(g,y),D&&D.m(y,null)},p(e,t){1&t&&$!==($=(100*e[0].accuracy.scoreAccuracy).toFixed(2)+"")&&C(o,$),1&t&&b!==(b=(100*e[0].accuracy.resultAccuracy).toFixed(2)+"")&&C(m,b),null!=e[0].predictions?D?D.p(e,t):(D=qn(e),D.c(),D.m(y,null)):D&&(D.d(1),D=null)},d(e){e&&E(t),D&&D.d()}}}function qn(e){let t,a=e[0].predictions,s=[];for(let t=0;t<a.length;t+=1)s[t]=Kn(Hn(e,a,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=_()},l(e){for(let t=0;t<s.length;t+=1)s[t].l(e);t=_()},m(e,a){for(let t=0;t<s.length;t+=1)s[t]&&s[t].m(e,a);x(e,t,a)},p(e,n){if(1&n){let l;for(a=e[0].predictions,l=0;l<a.length;l+=1){const r=Hn(e,a,l);s[l]?s[l].p(r,n):(s[l]=Kn(r),s[l].c(),s[l].m(t.parentNode,t))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){D(s,e),e&&E(t)}}}function Yn(e){let t,a,s=el(e[7].datetime)+"";return{c(){t=V("div"),a=I(s),this.h()},l(e){t=S(e,"DIV",{class:!0});var n=A(t);a=O(n,s),n.forEach(E),this.h()},h(){G(t,"class","prediction-time svelte-oak57v")},m(e,s){x(e,t,s),w(t,a)},p(e,t){1&t&&s!==(s=el(e[7].datetime)+"")&&C(a,s)},d(e){e&&E(t)}}}function Wn(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v=e[7].home+"",g=e[7].actual.homeGoals+"",y=e[7].actual.awayGoals+"",$=e[7].away+"";return{c(){t=V("div"),a=V("div"),s=I("Actual:"),n=T(),l=V("div"),r=V("div"),o=I(v),i=T(),c=V("div"),d=I(g),f=I(" - "),u=I(y),h=T(),m=V("div"),p=I($),this.h()},l(e){t=S(e,"DIV",{class:!0});var b=A(t);a=S(b,"DIV",{class:!0});var w=A(a);s=O(w,"Actual:"),w.forEach(E),n=B(b),l=S(b,"DIV",{class:!0});var x=A(l);r=S(x,"DIV",{class:!0});var D=A(r);o=O(D,v),D.forEach(E),i=B(x),c=S(x,"DIV",{class:!0});var V=A(c);d=O(V,g),f=O(V," - "),u=O(V,y),V.forEach(E),h=B(x),m=S(x,"DIV",{class:!0});var k=A(m);p=O(k,$),k.forEach(E),x.forEach(E),b.forEach(E),this.h()},h(){G(a,"class","prediction-label svelte-oak57v"),G(r,"class","prediction-initials svelte-oak57v"),G(c,"class","prediction-score svelte-oak57v"),G(m,"class","prediction-initials svelte-oak57v"),G(l,"class","prediction-value svelte-oak57v"),G(t,"class","actual prediction-item svelte-oak57v")},m(e,v){x(e,t,v),w(t,a),w(a,s),w(t,n),w(t,l),w(l,r),w(r,o),w(l,i),w(l,c),w(c,d),w(c,f),w(c,u),w(l,h),w(l,m),w(m,p)},p(e,t){1&t&&v!==(v=e[7].home+"")&&C(o,v),1&t&&g!==(g=e[7].actual.homeGoals+"")&&C(d,g),1&t&&y!==(y=e[7].actual.awayGoals+"")&&C(u,y),1&t&&$!==($=e[7].away+"")&&C(p,$)},d(e){e&&E(t)}}}function Xn(e){let t,a,s,n,l,r,o,i=e[7].prediction.homeGoals+"",c=e[7].prediction.awayGoals+"";return{c(){t=V("div"),a=V("div"),s=V("b"),n=I(i),l=I(" - "),r=I(c),this.h()},l(e){t=S(e,"DIV",{class:!0,id:!0});var o=A(t);a=S(o,"DIV",{class:!0});var d=A(a);s=S(d,"B",{});var f=A(s);n=O(f,i),l=O(f," - "),r=O(f,c),f.forEach(E),d.forEach(E),o.forEach(E),this.h()},h(){G(a,"class","detailed-predicted-score svelte-oak57v"),G(t,"class","prediction-details svelte-oak57v"),G(t,"id",o=e[7]._id)},m(e,o){x(e,t,o),w(t,a),w(a,s),w(s,n),w(s,l),w(s,r)},p(e,a){1&a&&i!==(i=e[7].prediction.homeGoals+"")&&C(n,i),1&a&&c!==(c=e[7].prediction.awayGoals+"")&&C(r,c),1&a&&o!==(o=e[7]._id)&&G(t,"id",o)},d(e){e&&E(t)}}}function Jn(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k=e[7].home+"",_=Math.round(e[7].prediction.homeGoals)+"",N=Math.round(e[7].prediction.awayGoals)+"",z=e[7].away+"";function M(e,t){return null!=e[7].actual?Wn:Yn}let L=M(e),j=L(e),H=null!=e[7].prediction&&Xn(e);function F(){return e[1](e[7])}return{c(){t=V("button"),a=V("div"),s=V("div"),n=I("Predicted:"),l=T(),r=V("div"),o=V("div"),i=I(k),c=T(),d=V("div"),f=I(_),u=I(" - "),h=I(N),m=T(),p=V("div"),v=I(z),g=T(),j.c(),y=T(),H&&H.c(),this.h()},l(e){t=S(e,"BUTTON",{class:!0});var $=A(t);a=S($,"DIV",{class:!0});var b=A(a);s=S(b,"DIV",{class:!0});var w=A(s);n=O(w,"Predicted:"),w.forEach(E),l=B(b),r=S(b,"DIV",{class:!0});var x=A(r);o=S(x,"DIV",{class:!0});var D=A(o);i=O(D,k),D.forEach(E),c=B(x),d=S(x,"DIV",{class:!0});var V=A(d);f=O(V,_),u=O(V," - "),h=O(V,N),V.forEach(E),m=B(x),p=S(x,"DIV",{class:!0});var I=A(p);v=O(I,z),I.forEach(E),x.forEach(E),b.forEach(E),g=B($),j.l($),y=B($),H&&H.l($),$.forEach(E),this.h()},h(){G(s,"class","prediction-label svelte-oak57v"),G(o,"class","prediction-initials svelte-oak57v"),G(d,"class","prediction-score svelte-oak57v"),G(p,"class","prediction-initials svelte-oak57v"),G(r,"class","prediction-value svelte-oak57v"),G(a,"class","prediction prediction-item svelte-oak57v"),G(t,"class",$="prediction-container "+e[7].colour+" svelte-oak57v")},m(e,$){x(e,t,$),w(t,a),w(a,s),w(s,n),w(a,l),w(a,r),w(r,o),w(o,i),w(r,c),w(r,d),w(d,f),w(d,u),w(d,h),w(r,m),w(r,p),w(p,v),w(t,g),j.m(t,null),w(t,y),H&&H.m(t,null),b||(D=P(t,"click",F),b=!0)},p(a,s){e=a,1&s&&k!==(k=e[7].home+"")&&C(i,k),1&s&&_!==(_=Math.round(e[7].prediction.homeGoals)+"")&&C(f,_),1&s&&N!==(N=Math.round(e[7].prediction.awayGoals)+"")&&C(h,N),1&s&&z!==(z=e[7].away+"")&&C(v,z),L===(L=M(e))&&j?j.p(e,s):(j.d(1),j=L(e),j&&(j.c(),j.m(t,y))),null!=e[7].prediction?H?H.p(e,s):(H=Xn(e),H.c(),H.m(t,null)):H&&(H.d(1),H=null),1&s&&$!==($="prediction-container "+e[7].colour+" svelte-oak57v")&&G(t,"class",$)},d(e){e&&E(t),j.d(),H&&H.d(),b=!1,D()}}}function Kn(e){let t,a,s,n,l,r,o,i=e[3]+"",c=e[4],d=[];for(let t=0;t<c.length;t+=1)d[t]=Jn(Fn(e,c,t));return{c(){t=V("div"),a=I(i),s=T(),n=V("div"),l=T();for(let e=0;e<d.length;e+=1)d[e].c();r=T(),o=V("div"),this.h()},l(e){t=S(e,"DIV",{class:!0});var c=A(t);a=O(c,i),c.forEach(E),s=B(e),n=S(e,"DIV",{class:!0}),A(n).forEach(E),l=B(e);for(let t=0;t<d.length;t+=1)d[t].l(e);r=B(e),o=S(e,"DIV",{class:!0}),A(o).forEach(E),this.h()},h(){G(t,"class","date svelte-oak57v"),G(n,"class","medium-predictions-divider svelte-oak57v"),G(o,"class","predictions-gap svelte-oak57v")},m(e,i){x(e,t,i),w(t,a),x(e,s,i),x(e,n,i),x(e,l,i);for(let t=0;t<d.length;t+=1)d[t]&&d[t].m(e,i);x(e,r,i),x(e,o,i)},p(e,t){if(1&t&&i!==(i=e[3]+"")&&C(a,i),1&t){let a;for(c=e[4],a=0;a<c.length;a+=1){const s=Fn(e,c,a);d[a]?d[a].p(s,t):(d[a]=Jn(s),d[a].c(),d[a].m(r.parentNode,r))}for(;a<d.length;a+=1)d[a].d(1);d.length=c.length}},d(e){e&&E(t),e&&E(s),e&&E(n),e&&E(l),D(d,e),e&&E(r),e&&E(o)}}}function Qn(e){let t,a,s,n,l;function r(e,t){return null!=e[0]?Un:Rn}let o=r(e),i=o(e);return{c(){t=V("div"),a=V("div"),s=V("a"),n=I("Predictions"),l=T(),i.c(),this.h()},l(e){t=S(e,"DIV",{id:!0,class:!0});var r=A(t);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"A",{class:!0,href:!0});var c=A(s);n=O(c,"Predictions"),c.forEach(E),o.forEach(E),l=B(r),i.l(r),r.forEach(E),this.h()},h(){G(s,"class","predictions-title svelte-oak57v"),G(s,"href","/predictions"),G(a,"class","predictions-header svelte-oak57v"),G(t,"id","predictions"),G(t,"class","svelte-oak57v")},m(e,r){x(e,t,r),w(t,a),w(a,s),w(s,n),w(t,l),i.m(t,null)},p(e,a){o===(o=r(e))&&i?i.p(e,a):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&E(t),i.d()}}}function Zn(e){let t,a,s,n;return s=new Ze({props:{$$slots:{default:[Qn]},$$scope:{ctx:e}}}),{c(){t=V("meta"),a=T(),ve(s.$$.fragment),this.h()},l(e){const n=H("svelte-1w56yuh",jn.head);t=S(n,"META",{name:!0,content:!0}),n.forEach(E),a=B(e),ge(s.$$.fragment,e),this.h()},h(){jn.title="Predictions",G(t,"name","description"),G(t,"content","Premier League Statistics Dashboard")},m(e,l){w(jn.head,t),x(e,a,l),ye(s,e,l),n=!0},p(e,[t]){const a={};1025&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){n||(de(s.$$.fragment,e),n=!0)},o(e){fe(s.$$.fragment,e),n=!1},d(e){E(t),e&&E(a),$e(s,e)}}}function el(e){return new Date(e).toTimeString().slice(0,5)}function tl(e,t,a){let s;q((async()=>{const e=await fetch(`${xn}/predictions`);if(!e.ok)return;let t=await e.json();!function(e){e.sort(((e,t)=>new Date(t._id)-new Date(e._id)));for(let t=0;t<e.length;t++)e[t].predictions.sort(((e,t)=>new Date(e.datetime)-new Date(t.datetime)))}(t),t={predictions:t},function(e){let t=0,a=0,s=0;for(let n=0;n<e.predictions.length;n++)for(let l=0;l<e.predictions[n].predictions.length;l++){let r=e.predictions[n].predictions[l];null!=r.actual&&(Rt(r.prediction,r.actual)?(r.colour="green",t+=1,a+=1):Ut(r.prediction,r.actual)?(r.colour="yellow",a+=1):r.colour="red",s+=1)}let n=0,l=0;s>0&&(n=t/s,l=a/s),e.accuracy={scoreAccuracy:n,resultAccuracy:l}}(t),a(0,s=t),console.log(s)}));return[s,e=>function(e){let t=document.getElementById(e);null!=t&&t.classList.toggle("expanded")}(e._id)]}class al extends xe{constructor(e){super(),we(this,e,tl,Zn,r,{})}}function sl(e,t,a){const s=e.slice();return s[4]=t[a],s[6]=a,s}function nl(e){let t,a,s,n,l,r,o,i=e[4][0].toUpperCase()+e[4].slice(1)+"";function c(){return e[3](e[4])}return{c(){t=V("button"),a=V("div"),s=V("div"),n=I(i),l=T(),this.h()},l(e){t=S(e,"BUTTON",{class:!0});var r=A(t);a=S(r,"DIV",{class:!0});var o=A(a);s=S(o,"DIV",{class:!0});var c=A(s);n=O(c,i),c.forEach(E),o.forEach(E),l=B(r),r.forEach(E),this.h()},h(){G(s,"class","team-name svelte-lpgh72"),G(a,"class","team-container svelte-lpgh72"),G(t,"class","team-link svelte-lpgh72")},m(e,i){x(e,t,i),w(t,a),w(a,s),w(s,n),w(t,l),r||(o=P(t,"click",c),r=!0)},p(t,a){e=t,2&a&&i!==(i=e[4][0].toUpperCase()+e[4].slice(1)+"")&&C(n,i)},d(e){e&&E(t),r=!1,o()}}}function ll(e){let t,a,s,n,l,r,o=e[4][0].toUpperCase()+e[4].slice(1)+"";return{c(){t=V("a"),a=V("div"),s=V("div"),n=I(o),l=T(),this.h()},l(e){t=S(e,"A",{href:!0,class:!0});var r=A(t);a=S(r,"DIV",{class:!0});var i=A(a);s=S(i,"DIV",{class:!0});var c=A(s);n=O(c,o),c.forEach(E),i.forEach(E),l=B(r),r.forEach(E),this.h()},h(){G(s,"class","this-team-name svelte-lpgh72"),G(a,"class","this-team-container svelte-lpgh72"),G(t,"href",r="/fantasy"+("all"===e[4]?"":"/"+e[4])),G(t,"class","team-link")},m(e,r){x(e,t,r),w(t,a),w(a,s),w(s,n),w(t,l)},p(e,a){2&a&&o!==(o=e[4][0].toUpperCase()+e[4].slice(1)+"")&&C(n,o),2&a&&r!==(r="/fantasy"+("all"===e[4]?"":"/"+e[4]))&&G(t,"href",r)},d(e){e&&E(t)}}}function rl(e,t){let a,s;function n(e,t){return e[4]===e[0]?ll:nl}let l=n(t),r=l(t);return{key:e,first:null,c(){a=_(),r.c(),s=_(),this.h()},l(e){a=_(),r.l(e),s=_(),this.h()},h(){this.first=a},m(e,t){x(e,a,t),r.m(e,t),x(e,s,t)},p(e,a){l===(l=n(t=e))&&r?r.p(t,a):(r.d(1),r=l(t),r&&(r.c(),r.m(s.parentNode,s)))},d(e){e&&E(a),r.d(e),e&&E(s)}}}function ol(t){let a,s,n,l,r,o,c,d,f,u,h,m,p,v,g,y,$,b,D=[],k=new Map,_=t[1];const N=e=>e[4];for(let e=0;e<_.length;e+=1){let a=sl(t,_,e),s=N(a);k.set(s,D[e]=rl(s,a))}return{c(){a=V("nav"),s=V("div"),n=V("p"),l=V("span"),r=I("pl"),o=I("dashboard"),c=T(),d=V("div"),f=I("Fantasy"),u=T(),h=V("div");for(let e=0;e<D.length;e+=1)D[e].c();m=T(),p=V("div"),v=V("button"),g=V("img"),this.h()},l(e){a=S(e,"NAV",{id:!0,class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var i=A(s);n=S(i,"P",{});var y=A(n);l=S(y,"SPAN",{style:!0});var $=A(l);r=O($,"pl"),$.forEach(E),o=O(y,"dashboard"),y.forEach(E),c=B(i),d=S(i,"DIV",{class:!0});var b=A(d);f=O(b,"Fantasy"),b.forEach(E),i.forEach(E),u=B(t),h=S(t,"DIV",{class:!0});var w=A(h);for(let e=0;e<D.length;e+=1)D[e].l(w);w.forEach(E),m=B(t),p=S(t,"DIV",{class:!0});var x=A(p);v=S(x,"BUTTON",{class:!0});var V=A(v);g=S(V,"IMG",{src:!0,alt:!0,class:!0}),V.forEach(E),x.forEach(E),t.forEach(E),this.h()},h(){L(l,"color","var(--green)"),G(d,"class","fantasy-logo svelte-lpgh72"),G(s,"class","title no-selection svelte-lpgh72"),G(h,"class","team-links svelte-lpgh72"),i(g.src,y="img/arrow-bar-left.svg")||G(g,"src","img/arrow-bar-left.svg"),G(g,"alt",""),G(g,"class","svelte-lpgh72"),G(v,"class","close-btn svelte-lpgh72"),G(p,"class","close"),G(a,"id","navBar"),G(a,"class","svelte-lpgh72")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(n,l),w(l,r),w(n,o),w(s,c),w(s,d),w(d,f),w(a,u),w(a,h);for(let e=0;e<D.length;e+=1)D[e]&&D[e].m(h,null);w(a,m),w(a,p),w(p,v),w(v,g),$||(b=P(v,"click",il),$=!0)},p(e,[t]){7&t&&(_=e[1],D=me(D,t,N,1,e,_,k,h,he,rl,null,sl))},i:e,o:e,d(e){e&&E(a);for(let e=0;e<D.length;e+=1)D[e].d();$=!1,b()}}}function il(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function cl(e,t,a){let{currentPage:s,pages:n,switchPage:l}=t;return e.$$set=e=>{"currentPage"in e&&a(0,s=e.currentPage),"pages"in e&&a(1,n=e.pages),"switchPage"in e&&a(2,l=e.switchPage)},[s,n,l,e=>{l(e)}]}class dl extends xe{constructor(e){super(),we(this,e,cl,ol,r,{currentPage:0,pages:1,switchPage:2})}}function fl(e,t,a){const s=e.slice();return s[6]=t[a],s[8]=a,s}function ul(e){let t,a=e[1],s=[];for(let t=0;t<a.length;t+=1)s[t]=hl(fl(e,a,t));return{c(){t=V("div");for(let e=0;e<s.length;e+=1)s[e].c();this.h()},l(e){t=S(e,"DIV",{class:!0});var a=A(t);for(let e=0;e<s.length;e+=1)s[e].l(a);a.forEach(E),this.h()},h(){G(t,"class","team-links svelte-1wlck26")},m(e,a){x(e,t,a);for(let e=0;e<s.length;e+=1)s[e]&&s[e].m(t,null)},p(e,n){if(7&n){let l;for(a=e[1],l=0;l<a.length;l+=1){const r=fl(e,a,l);s[l]?s[l].p(r,n):(s[l]=hl(r),s[l].c(),s[l].m(t,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=a.length}},d(e){e&&E(t),D(s,e)}}}function hl(e){let t,a,s,n,l=e[1][e[8]][0].toUpperCase()+e[1][e[8]].slice(1)+"";function r(){return e[5](e[6])}return{c(){t=V("button"),a=I(l),this.h()},l(e){t=S(e,"BUTTON",{class:!0});var s=A(t);a=O(s,l),s.forEach(E),this.h()},h(){G(t,"class","team-link svelte-1wlck26"),j(t,"active",e[6].toLowerCase()===e[0])},m(e,l){x(e,t,l),w(t,a),s||(n=P(t,"click",r),s=!0)},p(s,n){e=s,2&n&&l!==(l=e[1][e[8]][0].toUpperCase()+e[1][e[8]].slice(1)+"")&&C(a,l),3&n&&j(t,"active",e[6].toLowerCase()===e[0])},d(e){e&&E(t),s=!1,n()}}}function ml(t){let a,s=null!=t[1]&&ul(t);return{c(){a=V("nav"),s&&s.c(),this.h()},l(e){a=S(e,"NAV",{id:!0,style:!0,class:!0});var t=A(a);s&&s.l(t),t.forEach(E),this.h()},h(){G(a,"id","mobileNav"),L(a,"width","0%"),G(a,"class","svelte-1wlck26")},m(e,t){x(e,a,t),s&&s.m(a,null)},p(e,[t]){null!=e[1]?s?s.p(e,t):(s=ul(e),s.c(),s.m(a,null)):s&&(s.d(1),s=null)},i:e,o:e,d(e){e&&E(a),s&&s.d()}}}function pl(e,t,a){function s(e){r(e),window.scrollTo(0,0),o()}let{currentPage:n,pages:l,switchPage:r,toggleMobileNav:o}=t;return e.$$set=e=>{"currentPage"in e&&a(0,n=e.currentPage),"pages"in e&&a(1,l=e.pages),"switchPage"in e&&a(3,r=e.switchPage),"toggleMobileNav"in e&&a(4,o=e.toggleMobileNav)},[n,l,s,r,o,e=>{s(e)}]}class vl extends xe{constructor(e){super(),we(this,e,pl,ml,r,{currentPage:0,pages:1,switchPage:3,toggleMobileNav:4})}}function gl(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{id:!0});var t=A(a);s=S(t,"DIV",{id:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"id","plotDiv"),G(a,"id","plotly")},m(e,n){x(e,a,n),w(a,s),t[5](s)},p:e,i:e,o:e,d(e){e&&E(a),t[5](null)}}}function yl(e){switch(e){case"Forward":return"#c600d8";case"Midfielder":return"#00fe87";case"Defender":return"#2dbaff";case"Goalkeeper":return"#280936"}}function $l(e){const t=[],a=[],s=[],n=[],l=[];let r=0;for(const o of Object.keys(e))"_id"!=o&&(t.push(o),a.push(null===e[o].points?0:e[o].points),s.push(null==e[o].price?0:e[o].price/10),n.push(null==e[o].minutes?0:e[o].minutes/2),n[n.length-1]>r&&(r=n[n.length-1]),l.push(yl(e[o].position)));let o=n.slice(0);for(let e=0;e<o.length;e++)o[e]/=.02*r;return[{x:a,y:s,name:"test",mode:"markers",type:"scatter",marker:{size:o,opacity:.75,color:l},customdata:n.map((e=>(e/r*100).toFixed(1))),text:t,hovertemplate:"<b>%{text}</b><br><b>£%{y}m</b><br><b>%{x} points</b><br>%{customdata}% playtime<extra></extra>",showlegend:!1}]}function bl(e){return{data:$l(e),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"transparent",paper_bgcolor:"transparent",height:700,yaxis:{title:{text:"Price"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Points"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function wl(e,t,a){function s(){if(r){const e={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((e,t)=>t+2)),"margin.l":20,"margin.t":5},t=l.data[0].marker.size;for(let e=0;e<t.length;e++)t[e]=Math.round(t[e]/2);const a={marker:{size:t,color:l.data[0].marker.color,opacity:.75}};l.data[0].marker.size=t,Plotly.update(n,a,e,0)}}let n,l,r=!1;q((()=>{l=bl(o),new Plotly.newPlot(n,l.data,l.layout,l.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph"),e.children[0].children[0].classList.add("tall-graph")})),a(4,r=!0)}));let{data:o,page:i,mobileView:c}=t;return e.$$set=e=>{"data"in e&&a(1,o=e.data),"page"in e&&a(2,i=e.page),"mobileView"in e&&a(3,c=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&i&&function(){if(r){let e=bl(o);l.data[0]=e.data[0],Plotly.redraw(n),c&&s()}}(),8&e.$$.dirty&&!c&&function(){if(r){const e={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((e,t)=>t+1)),"margin.l":60,"margin.t":15};Plotly.update(n,{},e,0)}}(),24&e.$$.dirty&&r&&c&&s()},[n,o,i,c,r,function(e){J[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class xl extends xe{constructor(e){super(),we(this,e,wl,gl,r,{data:1,page:2,mobileView:3})}}function El(t){let a,s,n,l,r,o,i,c,d,f,u,h,m,p,v,g,y,$,b,D,k,_,P,N,z,M,C,L,j,H,F,R,U,q,Y,W,X,J,K,Q,Z,ee,te,ae,se,ne,le;return{c(){a=V("div"),s=V("table"),n=V("thead"),l=V("tr"),r=V("th"),o=I("Name"),i=T(),c=V("th"),d=I("Price"),f=T(),u=V("th"),h=I("Points"),m=T(),p=V("th"),v=I("Minutes"),g=T(),y=V("th"),$=I("Points per Game"),b=T(),D=V("th"),k=I("Points per 90"),_=T(),P=V("th"),N=I("Form"),z=T(),M=V("th"),C=I("Goals"),L=T(),j=V("th"),H=I("Assists"),F=T(),R=V("th"),U=I("Clean Sheets"),q=T(),Y=V("th"),W=I("Saves"),X=T(),J=V("th"),K=I("Bonus"),Q=T(),Z=V("th"),ee=I("Transfers In"),te=T(),ae=V("th"),se=I("Transfers Out"),ne=T(),le=V("tbody"),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"TABLE",{id:!0});var w=A(s);n=S(w,"THEAD",{});var x=A(n);l=S(x,"TR",{});var V=A(l);r=S(V,"TH",{});var I=A(r);o=O(I,"Name"),I.forEach(E),i=B(V),c=S(V,"TH",{});var T=A(c);d=O(T,"Price"),T.forEach(E),f=B(V),u=S(V,"TH",{});var G=A(u);h=O(G,"Points"),G.forEach(E),m=B(V),p=S(V,"TH",{});var re=A(p);v=O(re,"Minutes"),re.forEach(E),g=B(V),y=S(V,"TH",{});var oe=A(y);$=O(oe,"Points per Game"),oe.forEach(E),b=B(V),D=S(V,"TH",{});var ie=A(D);k=O(ie,"Points per 90"),ie.forEach(E),_=B(V),P=S(V,"TH",{});var ce=A(P);N=O(ce,"Form"),ce.forEach(E),z=B(V),M=S(V,"TH",{});var de=A(M);C=O(de,"Goals"),de.forEach(E),L=B(V),j=S(V,"TH",{});var fe=A(j);H=O(fe,"Assists"),fe.forEach(E),F=B(V),R=S(V,"TH",{});var ue=A(R);U=O(ue,"Clean Sheets"),ue.forEach(E),q=B(V),Y=S(V,"TH",{});var he=A(Y);W=O(he,"Saves"),he.forEach(E),X=B(V),J=S(V,"TH",{});var me=A(J);K=O(me,"Bonus"),me.forEach(E),Q=B(V),Z=S(V,"TH",{});var pe=A(Z);ee=O(pe,"Transfers In"),pe.forEach(E),te=B(V),ae=S(V,"TH",{});var ve=A(ae);se=O(ve,"Transfers Out"),ve.forEach(E),V.forEach(E),x.forEach(E),ne=B(w),le=S(w,"TBODY",{}),A(le).forEach(E),w.forEach(E),t.forEach(E),this.h()},h(){G(s,"id","myTable"),G(a,"class","table svelte-1wpwh5")},m(e,t){x(e,a,t),w(a,s),w(s,n),w(n,l),w(l,r),w(r,o),w(l,i),w(l,c),w(c,d),w(l,f),w(l,u),w(u,h),w(l,m),w(l,p),w(p,v),w(l,g),w(l,y),w(y,$),w(l,b),w(l,D),w(D,k),w(l,_),w(l,P),w(P,N),w(l,z),w(l,M),w(M,C),w(l,L),w(l,j),w(j,H),w(l,F),w(l,R),w(R,U),w(l,q),w(l,Y),w(Y,W),w(l,X),w(l,J),w(J,K),w(l,Q),w(l,Z),w(Z,ee),w(l,te),w(l,ae),w(ae,se),w(s,ne),w(s,le)},p:e,i:e,o:e,d(e){e&&E(a)}}}function Dl(e){switch(e){case"Spurs":return"tottenham-hotspur";case"Nott'm Forest":return"nottingham-forest";case"Man Utd":return"manchester-united";case"Man City":return"manchester-city";case"Brighton":return"brighton-and-hove-albion";case"Luton":return"luton-town";case"West Ham":return"west-ham-united";case"Sheffield Utd":return"sheffield-united";case"Wolves":return"wolverhampton-wanderers";case"Newcastle":return"newcastle-united"}return e.toLowerCase().replace(" ","-")}function Vl(e){const t=[];for(const a of Object.keys(e)){if("_id"===a)continue;console.log(a,e[a].points,e[a].minutes,e[a].minutes/90,e[a].points/(e[a].minutes/90));const s=[`${e[a].firstName} ${e[a].surname}`,"£"+e[a].price/10,e[a].points,e[a].minutes,e[a].pointsPerGame,e[a].minutes>0?parseFloat((e[a].points/(e[a].minutes/90)).toFixed(1)):0,e[a].form,e[a].goals,e[a].assists,e[a].cleanSheets,e[a].saves,e[a].bonusPoints,e[a].transferIn,e[a].transferOut];t.push(s)}return t}function kl(e,t,a){let s,n,l,r=!1;q((()=>{!function(){const e={},t={};for(const a of Object.keys(o)){if("_id"===a)continue;const s=o[a].team;e[`${o[a].firstName} ${o[a].surname}`]=s,t[s]=Dl(s)}n=e,l=t}(),function(e){let t=Vl(e);s=new DataTable("#myTable",{responsive:!0,data:t,paging:!1,columnDefs:[{targets:0,createdCell(e,t,a,s,r){const o=n[t];e.style.background=`var(--${l[o]})`,e.style.color=`var(--${l[o]}-secondary)`,e.title=o}}]}),s.order([2,"desc"]).draw()}(o),r=!0}));let{data:o,page:i,mobileView:c}=t;return e.$$set=e=>{"data"in e&&a(0,o=e.data),"page"in e&&a(1,i=e.page),"mobileView"in e&&a(2,c=e.mobileView)},e.$$.update=()=>{3&e.$$.dirty&&i&&function(e){if(r){let t=Vl(e);s.clear(),s.rows.add(t),s.draw()}}(o)},[o,i,c]}class Il extends xe{constructor(e){super(),we(this,e,kl,El,r,{data:0,page:1,mobileView:2})}}const{document:Tl,window:_l}=g;function Pl(t){let a,s,n,l;return{c(){a=V("button"),s=I("Menu"),this.h()},l(e){a=S(e,"BUTTON",{id:!0,class:!0});var t=A(a);s=O(t,"Menu"),t.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),G(a,"class","svelte-b8sri1")},m(e,t){x(e,a,t),w(a,s),n||(l=P(a,"click",Ml),n=!0)},p:e,d(e){e&&E(a),n=!1,l()}}}function Gl(t){let a,s;return{c(){a=V("button"),s=I("Menu"),this.h()},l(e){a=S(e,"BUTTON",{id:!0,style:!0,class:!0});var t=A(a);s=O(t,"Menu"),t.forEach(E),this.h()},h(){G(a,"id","mobileNavBtn"),L(a,"cursor","default"),G(a,"class","svelte-b8sri1")},m(e,t){x(e,a,t),w(a,s)},p:e,d(e){e&&E(a)}}}function Al(t){let a,s;return{c(){a=V("div"),s=V("div"),this.h()},l(e){a=S(e,"DIV",{class:!0});var t=A(a);s=S(t,"DIV",{class:!0}),A(s).forEach(E),t.forEach(E),this.h()},h(){G(s,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(e,t){x(e,a,t),w(a,s)},p:e,i:e,o:e,d(e){e&&E(a)}}}function Nl(e){let t,a,s,n,l,r;return a=new xl({props:{data:e[3],page:e[0],mobileView:e[4]}}),l=new Il({props:{data:e[3],page:e[0],mobileView:e[4]}}),{c(){t=V("div"),ve(a.$$.fragment),s=T(),n=V("div"),ve(l.$$.fragment),this.h()},l(e){t=S(e,"DIV",{class:!0});var r=A(t);ge(a.$$.fragment,r),r.forEach(E),s=B(e),n=S(e,"DIV",{class:!0});var o=A(n);ge(l.$$.fragment,o),o.forEach(E),this.h()},h(){G(t,"class","first-graph"),G(n,"class","table")},m(e,o){x(e,t,o),ye(a,t,null),x(e,s,o),x(e,n,o),ye(l,n,null),r=!0},p(e,t){const s={};8&t&&(s.data=e[3]),1&t&&(s.page=e[0]),16&t&&(s.mobileView=e[4]),a.$set(s);const n={};8&t&&(n.data=e[3]),1&t&&(n.page=e[0]),16&t&&(n.mobileView=e[4]),l.$set(n)},i(e){r||(de(a.$$.fragment,e),de(l.$$.fragment,e),r=!0)},o(e){fe(a.$$.fragment,e),fe(l.$$.fragment,e),r=!1},d(e){e&&E(t),$e(a),e&&E(s),e&&E(n),$e(l)}}}function zl(e){let t,a,s,n,l,r,o,i,c,d;a=new dl({props:{currentPage:e[0],pages:e[6],switchPage:e[5]}}),n=new vl({props:{currentPage:e[0],pages:e[6],switchPage:e[5],toggleMobileNav:Ml}});let f=function(e,t){return 0===e[6].length?Gl:Pl}(e),u=f(e);const h=[Nl,Al],m=[];function p(e,t){return null!=e[3]?0:1}return i=p(e),c=m[i]=h[i](e),{c(){t=V("div"),ve(a.$$.fragment),s=T(),ve(n.$$.fragment),l=T(),u.c(),r=T(),o=V("div"),c.c(),this.h()},l(e){t=S(e,"DIV",{id:!0,class:!0});var i=A(t);ge(a.$$.fragment,i),s=B(i),ge(n.$$.fragment,i),l=B(i),u.l(i),r=B(i),o=S(i,"DIV",{id:!0,class:!0});var d=A(o);c.l(d),d.forEach(E),i.forEach(E),this.h()},h(){G(o,"id","dashboard"),G(o,"class","svelte-b8sri1"),G(t,"id","team"),G(t,"class","svelte-b8sri1")},m(e,c){x(e,t,c),ye(a,t,null),w(t,s),ye(n,t,null),w(t,l),u.m(t,null),w(t,r),w(t,o),m[i].m(o,null),d=!0},p(e,t){const s={};1&t&&(s.currentPage=e[0]),a.$set(s);const l={};1&t&&(l.currentPage=e[0]),n.$set(l),u.p(e,t);let r=i;i=p(e),i===r?m[i].p(e,t):(ie(),fe(m[r],1,1,(()=>{m[r]=null})),ce(),c=m[i],c?c.p(e,t):(c=m[i]=h[i](e),c.c()),de(c,1),c.m(o,null))},i(e){d||(de(a.$$.fragment,e),de(n.$$.fragment,e),de(c),d=!0)},o(e){fe(a.$$.fragment,e),fe(n.$$.fragment,e),fe(c),d=!1},d(e){e&&E(t),$e(a),$e(n),u.d(),m[i].d()}}}function Sl(e){let t,a,s,n,l,r,o;return te(e[7]),Tl.title=t=e[2],n=new Ze({props:{$$slots:{default:[zl]},$$scope:{ctx:e}}}),{c(){a=V("meta"),s=T(),ve(n.$$.fragment),this.h()},l(e){const t=H("svelte-42dgjz",Tl.head);a=S(t,"META",{name:!0,content:!0}),t.forEach(E),s=B(e),ge(n.$$.fragment,e),this.h()},h(){G(a,"name","description"),G(a,"content","Fantasy Premier League Statistics Dashboard")},m(t,i){w(Tl.head,a),x(t,s,i),ye(n,t,i),l=!0,r||(o=P(_l,"resize",e[7]),r=!0)},p(e,[a]){(!l||4&a)&&t!==(t=e[2])&&(Tl.title=t);const s={};2073&a&&(s.$$scope={dirty:a,ctx:e}),n.$set(s)},i(e){l||(de(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){E(a),e&&E(s),$e(n,e),r=!1,o()}}}function Ml(){let e=document.getElementById("mobileNav");"0%"===e.style.width?(e.style.display="block",e.style.width="100%"):(e.style.display="none",e.style.width="0%")}function Ol(e,t,a){let s;function n(e){let t={};for(let a of Object.keys(e))("_id"===a||"all"===d||"attack"===d&&"Forward"===e[a].position||"midfield"===d&&"Midfielder"===e[a].position||"defence"===d&&"Defender"===e[a].position||"goalkeeper"===d&&"Goalkeeper"===e[a].position)&&(t[a]=e[a]);return t}let l,r,o,i=["all","attack","midfield","defence","goalkeeper"],c="Fantasy";q((()=>{!async function(){void 0===d&&a(0,d=i[0]);const e=await fetch(`${xn}/fantasy`);if(!e.ok)return;let t=await e.json();l=t,a(3,r=n(l)),console.log(l),window.dispatchEvent(new Event("resize"))}(),setTimeout((()=>{window.dispatchEvent(new Event("resize"))}),500)}));let{page:d}=t;return e.$$set=e=>{"page"in e&&a(0,d=e.page)},e.$$.update=()=>{2&e.$$.dirty&&a(4,s=o<=700)},[d,o,c,r,s,function(e){a(0,d=e),a(2,c="all"===d?"Fantasy":`Fantasy | ${d[0].toUpperCase()+d.slice(1)}`),a(3,r=n(l));let t=d;"all"===t?t="/fantasy":window.location.href.endsWith("/")||(t="/fantasy/"+t),window.history.pushState(null,null,t)},i,function(){a(1,o=_l.innerWidth)}]}class Bl extends xe{constructor(e){super(),we(this,e,Ol,Sl,r,{page:0})}}function Cl(t){let a,s,n;return{c(){a=V("div"),s=V("div"),n=I("Error: Page not found"),this.h()},l(e){a=S(e,"DIV",{id:!0,class:!0});var t=A(a);s=S(t,"DIV",{class:!0});var l=A(s);n=O(l,"Error: Page not found"),l.forEach(E),t.forEach(E),this.h()},h(){G(s,"class","msg-container svelte-1roblpp"),G(a,"id","error"),G(a,"class","svelte-1roblpp")},m(e,t){x(e,a,t),w(a,s),w(s,n)},p:e,d(e){e&&E(a)}}}function Ll(e){let t,a,s,n;return s=new Ze({props:{$$slots:{default:[Cl]},$$scope:{ctx:e}}}),{c(){t=V("meta"),a=T(),ve(s.$$.fragment),this.h()},l(e){const n=H("svelte-1rqatx0",document.head);t=S(n,"META",{name:!0,content:!0}),n.forEach(E),a=B(e),ge(s.$$.fragment,e),this.h()},h(){document.title="Premier League",G(t,"name","description"),G(t,"content","Premier League Statistics Dashboard")},m(e,l){w(document.head,t),x(e,a,l),ye(s,e,l),n=!0},p(e,[t]){const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),s.$set(a)},i(e){n||(de(s.$$.fragment,e),n=!0)},o(e){fe(s.$$.fragment,e),n=!1},d(e){E(t),e&&E(a),$e(s,e)}}}class jl extends xe{constructor(e){super(),we(this,e,null,Ll,r,{})}}function Hl(t){let a,s;return a=new On({props:{slug:null}}),{c(){ve(a.$$.fragment)},l(e){ge(a.$$.fragment,e)},m(e,t){ye(a,e,t),s=!0},p:e,i(e){s||(de(a.$$.fragment,e),s=!0)},o(e){fe(a.$$.fragment,e),s=!1},d(e){$e(a,e)}}}function Fl(e){let t,a;return t=new On({props:{slug:e[1].team}}),{c(){ve(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,s){ye(t,e,s),a=!0},p(e,a){const s={};2&a&&(s.slug=e[1].team),t.$set(s)},i(e){a||(de(t.$$.fragment,e),a=!0)},o(e){fe(t.$$.fragment,e),a=!1},d(e){$e(t,e)}}}function Rl(e){let t,a;return t=new Bl({props:{page:e[1].page}}),{c(){ve(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,s){ye(t,e,s),a=!0},p(e,a){const s={};2&a&&(s.page=e[1].page),t.$set(s)},i(e){a||(de(t.$$.fragment,e),a=!0)},o(e){fe(t.$$.fragment,e),a=!1},d(e){$e(t,e)}}}function Ul(e){let t,a,s,n,l,r,o,i,c,d,f,u,h,m;return t=new Fe({props:{path:"/",$$slots:{default:[Hl]},$$scope:{ctx:e}}}),s=new Fe({props:{path:"/:team",$$slots:{default:[Fl,({params:e})=>({1:e}),({params:e})=>e?2:0]},$$scope:{ctx:e}}}),l=new Fe({props:{path:"/predictions",component:al}}),o=new Fe({props:{path:"/home",component:Ln}}),c=new Fe({props:{path:"/fantasy/:page",$$slots:{default:[Rl,({params:e})=>({1:e}),({params:e})=>e?2:0]},$$scope:{ctx:e}}}),f=new Fe({props:{path:"/fantasy",component:Bl}}),h=new Fe({props:{path:"/error",component:jl}}),{c(){ve(t.$$.fragment),a=T(),ve(s.$$.fragment),n=T(),ve(l.$$.fragment),r=T(),ve(o.$$.fragment),i=T(),ve(c.$$.fragment),d=T(),ve(f.$$.fragment),u=T(),ve(h.$$.fragment)},l(e){ge(t.$$.fragment,e),a=B(e),ge(s.$$.fragment,e),n=B(e),ge(l.$$.fragment,e),r=B(e),ge(o.$$.fragment,e),i=B(e),ge(c.$$.fragment,e),d=B(e),ge(f.$$.fragment,e),u=B(e),ge(h.$$.fragment,e)},m(e,p){ye(t,e,p),x(e,a,p),ye(s,e,p),x(e,n,p),ye(l,e,p),x(e,r,p),ye(o,e,p),x(e,i,p),ye(c,e,p),x(e,d,p),ye(f,e,p),x(e,u,p),ye(h,e,p),m=!0},p(e,a){const n={};4&a&&(n.$$scope={dirty:a,ctx:e}),t.$set(n);const l={};6&a&&(l.$$scope={dirty:a,ctx:e}),s.$set(l);const r={};6&a&&(r.$$scope={dirty:a,ctx:e}),c.$set(r)},i(e){m||(de(t.$$.fragment,e),de(s.$$.fragment,e),de(l.$$.fragment,e),de(o.$$.fragment,e),de(c.$$.fragment,e),de(f.$$.fragment,e),de(h.$$.fragment,e),m=!0)},o(e){fe(t.$$.fragment,e),fe(s.$$.fragment,e),fe(l.$$.fragment,e),fe(o.$$.fragment,e),fe(c.$$.fragment,e),fe(f.$$.fragment,e),fe(h.$$.fragment,e),m=!1},d(e){$e(t,e),e&&E(a),$e(s,e),e&&E(n),$e(l,e),e&&E(r),$e(o,e),e&&E(i),$e(c,e),e&&E(d),$e(f,e),e&&E(u),$e(h,e)}}}function ql(e){let t,a;return t=new Ze({props:{url:e[0],$$slots:{default:[Ul]},$$scope:{ctx:e}}}),{c(){ve(t.$$.fragment)},l(e){ge(t.$$.fragment,e)},m(e,s){ye(t,e,s),a=!0},p(e,[a]){const s={};1&a&&(s.url=e[0]),4&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s)},i(e){a||(de(t.$$.fragment,e),a=!0)},o(e){fe(t.$$.fragment,e),a=!1},d(e){$e(t,e)}}}function Yl(e,t,a){let{url:s=""}=t;return e.$$set=e=>{"url"in e&&a(0,s=e.url)},[s]}new class extends xe{constructor(e){super(),we(this,e,Yl,ql,r,{url:0})}}({target:document.getElementById("app"),hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
