!function(){"use strict";function e(){}function t(e,t){for(const a in t)e[a]=t[a];return e}function a(e){return e()}function r(){return Object.create(null)}function s(e){e.forEach(a)}function l(e){return"function"==typeof e}function n(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o;function i(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function c(t,...a){if(null==t)return e;const r=t.subscribe(...a);return r.unsubscribe?()=>r.unsubscribe():r}function d(e,t,a){e.$$.on_destroy.push(c(t,a))}function f(e,t,a,r){if(e){const s=u(e,t,a,r);return e[0](s)}}function u(e,a,r,s){return e[1]&&s?t(r.ctx.slice(),e[1](s(a))):r.ctx}function h(e,t,a,r){if(e[2]&&r){const s=e[2](r(a));if(void 0===t.dirty)return s;if("object"==typeof s){const e=[],a=Math.max(t.dirty.length,s.length);for(let r=0;r<a;r+=1)e[r]=t.dirty[r]|s[r];return e}return t.dirty|s}return t.dirty}function m(e,t,a,r,s,l){if(s){const n=u(t,a,r,l);e.p(n,s)}}function p(e){if(e.ctx.length>32){const t=[],a=e.ctx.length/32;for(let e=0;e<a;e++)t[e]=-1;return t}return-1}function g(e){const t={};for(const a in e)"$"!==a[0]&&(t[a]=e[a]);return t}let v,y=!1;function b(e,t,a,r){for(;e<t;){const s=e+(t-e>>1);a(s)<=r?e=s+1:t=s}return e}function $(e,t){if(y){for(!function(e){if(e.hydrate_init)return;e.hydrate_init=!0;let t=e.childNodes;if("HEAD"===e.nodeName){const e=[];for(let a=0;a<t.length;a++){const r=t[a];void 0!==r.claim_order&&e.push(r)}t=e}const a=new Int32Array(t.length+1),r=new Int32Array(t.length);a[0]=-1;let s=0;for(let e=0;e<t.length;e++){const l=t[e].claim_order,n=(s>0&&t[a[s]].claim_order<=l?s+1:b(1,s,(e=>t[a[e]].claim_order),l))-1;r[e]=a[n]+1;const o=n+1;a[o]=e,s=Math.max(o,s)}const l=[],n=[];let o=t.length-1;for(let e=a[s]+1;0!=e;e=r[e-1]){for(l.push(t[e-1]);o>=e;o--)n.push(t[o]);o--}for(;o>=0;o--)n.push(t[o]);l.reverse(),n.sort(((e,t)=>e.claim_order-t.claim_order));for(let t=0,a=0;t<n.length;t++){for(;a<l.length&&n[t].claim_order>=l[a].claim_order;)a++;const r=a<l.length?l[a]:null;e.insertBefore(n[t],r)}}(e),(void 0===e.actual_end_child||null!==e.actual_end_child&&e.actual_end_child.parentNode!==e)&&(e.actual_end_child=e.firstChild);null!==e.actual_end_child&&void 0===e.actual_end_child.claim_order;)e.actual_end_child=e.actual_end_child.nextSibling;t!==e.actual_end_child?void 0===t.claim_order&&t.parentNode===e||e.insertBefore(t,e.actual_end_child):e.actual_end_child=t.nextSibling}else t.parentNode===e&&null===t.nextSibling||e.appendChild(t)}function w(e,t,a){y&&!a?$(e,t):t.parentNode===e&&t.nextSibling==a||e.insertBefore(t,a||null)}function x(e){e.parentNode.removeChild(e)}function E(e,t){for(let a=0;a<e.length;a+=1)e[a]&&e[a].d(t)}function D(e){return document.createElement(e)}function V(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function I(e){return document.createTextNode(e)}function k(){return I(" ")}function _(){return I("")}function T(e,t,a,r){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a,r)}function z(e,t,a){null==a?e.removeAttribute(t):e.getAttribute(t)!==a&&e.setAttribute(t,a)}function G(e){return Array.from(e.childNodes)}function A(e,t,a,r,s=!1){!function(e){void 0===e.claim_info&&(e.claim_info={last_index:0,total_claimed:0})}(e);const l=(()=>{for(let r=e.claim_info.last_index;r<e.length;r++){const l=e[r];if(t(l)){const t=a(l);return void 0===t?e.splice(r,1):e[r]=t,s||(e.claim_info.last_index=r),l}}for(let r=e.claim_info.last_index-1;r>=0;r--){const l=e[r];if(t(l)){const t=a(l);return void 0===t?e.splice(r,1):e[r]=t,s?void 0===t&&e.claim_info.last_index--:e.claim_info.last_index=r,l}}return r()})();return l.claim_order=e.claim_info.total_claimed,e.claim_info.total_claimed+=1,l}function C(e,t,a,r){return A(e,(e=>e.nodeName===t),(e=>{const t=[];for(let r=0;r<e.attributes.length;r++){const s=e.attributes[r];a[s.name]||t.push(s.name)}t.forEach((t=>e.removeAttribute(t)))}),(()=>r(t)))}function L(e,t,a){return C(e,t,a,D)}function P(e,t,a){return C(e,t,a,V)}function N(e,t){return A(e,(e=>3===e.nodeType),(e=>{const a=""+t;if(e.data.startsWith(a)){if(e.data.length!==a.length)return e.splitText(a.length)}else e.data=a}),(()=>I(t)),!0)}function S(e){return N(e," ")}function M(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function B(e,t,a,r){null===a?e.style.removeProperty(t):e.style.setProperty(t,a,r?"important":"")}function O(e,t=document.body){return Array.from(t.querySelectorAll(e))}function j(e){v=e}function H(){if(!v)throw new Error("Function called outside component initialization");return v}function q(e){H().$$.on_mount.push(e)}function F(e,t){return H().$$.context.set(e,t),t}function R(e){return H().$$.context.get(e)}const U=[],Y=[],W=[],X=[],J=Promise.resolve();let K=!1;function Q(e){W.push(e)}const Z=new Set;let ee=0;function te(){const e=v;do{for(;ee<U.length;){const e=U[ee];ee++,j(e),ae(e.$$)}for(j(null),U.length=0,ee=0;Y.length;)Y.pop()();for(let e=0;e<W.length;e+=1){const t=W[e];Z.has(t)||(Z.add(t),t())}W.length=0}while(U.length);for(;X.length;)X.pop()();K=!1,Z.clear(),j(e)}function ae(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}const re=new Set;let se;function le(){se={r:0,c:[],p:se}}function ne(){se.r||s(se.c),se=se.p}function oe(e,t){e&&e.i&&(re.delete(e),e.i(t))}function ie(e,t,a,r){if(e&&e.o){if(re.has(e))return;re.add(e),se.c.push((()=>{re.delete(e),r&&(a&&e.d(1),r())})),e.o(t)}else r&&r()}const ce="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function de(e,t){e.d(1),t.delete(e.key)}function fe(e){return"object"==typeof e&&null!==e?e:{}}function ue(e){e&&e.c()}function he(e,t){e&&e.l(t)}function me(e,t,r,n){const{fragment:o,on_mount:i,on_destroy:c,after_update:d}=e.$$;o&&o.m(t,r),n||Q((()=>{const t=i.map(a).filter(l);c?c.push(...t):s(t),e.$$.on_mount=[]})),d.forEach(Q)}function pe(e,t){const a=e.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(t),a.on_destroy=a.fragment=null,a.ctx=[])}function ge(e,t){-1===e.$$.dirty[0]&&(U.push(e),K||(K=!0,J.then(te)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ve(t,a,l,n,o,i,c,d=[-1]){const f=v;j(t);const u=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:o,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(f?f.$$.context:[])),callbacks:r(),dirty:d,skip_bound:!1,root:a.target||f.$$.root};c&&c(u.root);let h=!1;if(u.ctx=l?l(t,a.props||{},((e,a,...r)=>{const s=r.length?r[0]:a;return u.ctx&&o(u.ctx[e],u.ctx[e]=s)&&(!u.skip_bound&&u.bound[e]&&u.bound[e](s),h&&ge(t,e)),a})):[],u.update(),h=!0,s(u.before_update),u.fragment=!!n&&n(u.ctx),a.target){if(a.hydrate){y=!0;const e=G(a.target);u.fragment&&u.fragment.l(e),e.forEach(x)}else u.fragment&&u.fragment.c();a.intro&&oe(t.$$.fragment),me(t,a.target,a.anchor,a.customElement),y=!1,te()}j(f)}class ye{$destroy(){pe(this,1),this.$destroy=e}$on(e,t){const a=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return a.push(t),()=>{const e=a.indexOf(t);-1!==e&&a.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const be=[];function $e(t,a=e){let r;const s=new Set;function l(e){if(n(t,e)&&(t=e,r)){const e=!be.length;for(const e of s)e[1](),be.push(e,t);if(e){for(let e=0;e<be.length;e+=2)be[e][0](be[e+1]);be.length=0}}}return{set:l,update:function(e){l(e(t))},subscribe:function(n,o=e){const i=[n,o];return s.add(i),1===s.size&&(r=a(l)||e),n(t),()=>{s.delete(i),0===s.size&&(r(),r=null)}}}}function we(t,a,r){const n=!Array.isArray(t),o=n?[t]:t,i=a.length<2;return d=t=>{let r=!1;const d=[];let f=0,u=e;const h=()=>{if(f)return;u();const r=a(n?d[0]:d,t);i?t(r):u=l(r)?r:e},m=o.map(((e,t)=>c(e,(e=>{d[t]=e,f&=~(1<<t),r&&h()}),(()=>{f|=1<<t}))));return r=!0,h(),function(){s(m),u()}},{subscribe:$e(r,d).subscribe};var d}const xe={},Ee={};function De(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const Ve=function(e,t){const a=[];let r=De(e);return{get location(){return r},listen(t){a.push(t);const s=()=>{r=De(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",s),()=>{e.removeEventListener("popstate",s);const r=a.indexOf(t);a.splice(r,1)}},navigate(t,{state:s,replace:l=!1}={}){s={...s,key:Date.now()+""};try{l?e.history.replaceState(s,null,t):e.history.pushState(s,null,t)}catch(a){e.location[l?"replace":"assign"](t)}r=De(e),a.forEach((e=>e({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const a=[{pathname:e,search:""}],r=[];return{get location(){return a[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return a},get index(){return t},get state(){return r[t]},pushState(e,s,l){const[n,o=""]=l.split("?");t++,a.push({pathname:n,search:o}),r.push(e)},replaceState(e,s,l){const[n,o=""]=l.split("?");a[t]={pathname:n,search:o},r[t]=e}}}}()),Ie=/^:(.+)/;function ke(e){return"*"===e[0]}function _e(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Te(e){return e.replace(/(^\/+|\/+$)/g,"")}function ze(e,t){return{route:e,score:e.default?0:_e(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return Ie.test(e)}(t)?ke(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function Ge(e,t){let a,r;const[s]=t.split("?"),l=_e(s),n=""===l[0],o=function(e){return e.map(ze).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,s=o.length;e<s;e++){const s=o[e].route;let i=!1;if(s.default){r={route:s,params:{},uri:t};continue}const c=_e(s.path),d={},f=Math.max(l.length,c.length);let u=0;for(;u<f;u++){const e=c[u],t=l[u];if(void 0!==e&&ke(e)){d["*"===e?"*":e.slice(1)]=l.slice(u).map(decodeURIComponent).join("/");break}if(void 0===t){i=!0;break}let a=Ie.exec(e);if(a&&!n){const e=decodeURIComponent(t);d[a[1]]=e}else if(e!==t){i=!0;break}}if(!i){a={route:s,params:d,uri:"/"+l.slice(0,u).join("/")};break}}return a||r||null}function Ae(e,t){return`${Te("/"===t?e:`${Te(e)}/${Te(t)}`)}/`}function Ce(e){let t;const a=e[9].default,r=f(a,e,e[8],null);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,a){r&&r.m(e,a),t=!0},p(e,[s]){r&&r.p&&(!t||256&s)&&m(r,a,e,e[8],t?h(a,e[8],s,null):p(e[8]),null)},i(e){t||(oe(r,e),t=!0)},o(e){ie(r,e),t=!1},d(e){r&&r.d(e)}}}function Le(e,t,a){let r,s,l,{$$slots:n={},$$scope:o}=t,{basepath:i="/"}=t,{url:c=null}=t;const f=R(xe),u=R(Ee),h=$e([]);d(e,h,(e=>a(6,s=e)));const m=$e(null);let p=!1;const g=f||$e(c?{pathname:c}:Ve.location);d(e,g,(e=>a(5,r=e)));const v=u?u.routerBase:$e({path:i,uri:i});d(e,v,(e=>a(7,l=e)));const y=we([v,m],(([e,t])=>{if(null===t)return e;const{path:a}=e,{route:r,uri:s}=t;return{path:r.default?a:r.path.replace(/\*.*$/,""),uri:s}}));return f||(q((()=>Ve.listen((e=>{g.set(e.location)})))),F(xe,g)),F(Ee,{activeRoute:m,base:v,routerBase:y,registerRoute:function(e){const{path:t}=l;let{path:a}=e;if(e._path=a,e.path=Ae(t,a),"undefined"==typeof window){if(p)return;const t=function(e,t){return Ge([e],t)}(e,r.pathname);t&&(m.set(t),p=!0)}else h.update((t=>(t.push(e),t)))},unregisterRoute:function(e){h.update((t=>{const a=t.indexOf(e);return t.splice(a,1),t}))}}),e.$$set=e=>{"basepath"in e&&a(3,i=e.basepath),"url"in e&&a(4,c=e.url),"$$scope"in e&&a(8,o=e.$$scope)},e.$$.update=()=>{if(128&e.$$.dirty){const{path:e}=l;h.update((t=>(t.forEach((t=>t.path=Ae(e,t._path))),t)))}if(96&e.$$.dirty){const e=Ge(s,r.pathname);m.set(e)}},[h,g,v,i,c,r,s,l,o,n]}class Pe extends ye{constructor(e){super(),ve(this,e,Le,Ce,n,{basepath:3,url:4})}}const Ne=e=>({params:4&e,location:16&e}),Se=e=>({params:e[2],location:e[4]});function Me(e){let t,a,r,s;const l=[Oe,Be],n=[];function o(e,t){return null!==e[0]?0:1}return t=o(e),a=n[t]=l[t](e),{c(){a.c(),r=_()},l(e){a.l(e),r=_()},m(e,a){n[t].m(e,a),w(e,r,a),s=!0},p(e,s){let i=t;t=o(e),t===i?n[t].p(e,s):(le(),ie(n[i],1,1,(()=>{n[i]=null})),ne(),a=n[t],a?a.p(e,s):(a=n[t]=l[t](e),a.c()),oe(a,1),a.m(r.parentNode,r))},i(e){s||(oe(a),s=!0)},o(e){ie(a),s=!1},d(e){n[t].d(e),e&&x(r)}}}function Be(e){let t;const a=e[10].default,r=f(a,e,e[9],Se);return{c(){r&&r.c()},l(e){r&&r.l(e)},m(e,a){r&&r.m(e,a),t=!0},p(e,s){r&&r.p&&(!t||532&s)&&m(r,a,e,e[9],t?h(a,e[9],s,Ne):p(e[9]),Se)},i(e){t||(oe(r,e),t=!0)},o(e){ie(r,e),t=!1},d(e){r&&r.d(e)}}}function Oe(e){let a,r,s;const l=[{location:e[4]},e[2],e[3]];var n=e[0];function o(e){let a={};for(let e=0;e<l.length;e+=1)a=t(a,l[e]);return{props:a}}return n&&(a=new n(o())),{c(){a&&ue(a.$$.fragment),r=_()},l(e){a&&he(a.$$.fragment,e),r=_()},m(e,t){a&&me(a,e,t),w(e,r,t),s=!0},p(e,t){const s=28&t?function(e,t){const a={},r={},s={$$scope:1};let l=e.length;for(;l--;){const n=e[l],o=t[l];if(o){for(const e in n)e in o||(r[e]=1);for(const e in o)s[e]||(a[e]=o[e],s[e]=1);e[l]=o}else for(const e in n)s[e]=1}for(const e in r)e in a||(a[e]=void 0);return a}(l,[16&t&&{location:e[4]},4&t&&fe(e[2]),8&t&&fe(e[3])]):{};if(n!==(n=e[0])){if(a){le();const e=a;ie(e.$$.fragment,1,0,(()=>{pe(e,1)})),ne()}n?(a=new n(o()),ue(a.$$.fragment),oe(a.$$.fragment,1),me(a,r.parentNode,r)):a=null}else n&&a.$set(s)},i(e){s||(a&&oe(a.$$.fragment,e),s=!0)},o(e){a&&ie(a.$$.fragment,e),s=!1},d(e){e&&x(r),a&&pe(a,e)}}}function je(e){let t,a,r=null!==e[1]&&e[1].route===e[7]&&Me(e);return{c(){r&&r.c(),t=_()},l(e){r&&r.l(e),t=_()},m(e,s){r&&r.m(e,s),w(e,t,s),a=!0},p(e,[a]){null!==e[1]&&e[1].route===e[7]?r?(r.p(e,a),2&a&&oe(r,1)):(r=Me(e),r.c(),oe(r,1),r.m(t.parentNode,t)):r&&(le(),ie(r,1,1,(()=>{r=null})),ne())},i(e){a||(oe(r),a=!0)},o(e){ie(r),a=!1},d(e){r&&r.d(e),e&&x(t)}}}function He(e,a,r){let s,l,{$$slots:n={},$$scope:o}=a,{path:i=""}=a,{component:c=null}=a;const{registerRoute:f,unregisterRoute:u,activeRoute:h}=R(Ee);d(e,h,(e=>r(1,s=e)));const m=R(xe);d(e,m,(e=>r(4,l=e)));const p={path:i,default:""===i};let v={},y={};var b;return f(p),"undefined"!=typeof window&&(b=()=>{u(p)},H().$$.on_destroy.push(b)),e.$$set=e=>{r(13,a=t(t({},a),g(e))),"path"in e&&r(8,i=e.path),"component"in e&&r(0,c=e.component),"$$scope"in e&&r(9,o=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&s&&s.route===p&&r(2,v=s.params);{const{path:e,component:t,...s}=a;r(3,y=s)}},a=g(a),[c,s,v,y,l,h,m,p,i,o,n]}class qe extends ye{constructor(e){super(),ve(this,e,He,je,n,{path:8,component:0})}}function Fe(t){let a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C,P=Ue(t[0][0])+"",O=Ue(t[0][1])+"",j=Ue(t[0][2])+"",H=Ue(t[0][3])+"",q=Ue(t[0][4])+"";return{c(){a=D("div"),r=D("div"),s=D("div"),l=I(P),n=k(),o=D("div"),i=D("div"),c=D("div"),d=I(O),f=k(),u=D("div"),h=D("div"),m=D("div"),p=I(j),g=k(),v=D("div"),y=D("div"),b=D("div"),E=I(H),V=k(),_=D("div"),T=D("div"),A=D("div"),C=I(q),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{id:!0,style:!0,class:!0});var $=G(r);s=L($,"DIV",{class:!0});var w=G(s);l=N(w,P),w.forEach(x),$.forEach(x),t.forEach(x),n=S(e),o=L(e,"DIV",{class:!0});var D=G(o);i=L(D,"DIV",{id:!0,style:!0,class:!0});var I=G(i);c=L(I,"DIV",{class:!0});var k=G(c);d=N(k,O),k.forEach(x),I.forEach(x),D.forEach(x),f=S(e),u=L(e,"DIV",{class:!0});var z=G(u);h=L(z,"DIV",{id:!0,style:!0,class:!0});var M=G(h);m=L(M,"DIV",{class:!0});var B=G(m);p=N(B,j),B.forEach(x),M.forEach(x),z.forEach(x),g=S(e),v=L(e,"DIV",{class:!0});var F=G(v);y=L(F,"DIV",{id:!0,style:!0,class:!0});var R=G(y);b=L(R,"DIV",{class:!0});var U=G(b);E=N(U,H),U.forEach(x),R.forEach(x),F.forEach(x),V=S(e),_=L(e,"DIV",{class:!0});var Y=G(_);T=L(Y,"DIV",{id:!0,style:!0,class:!0});var W=G(T);A=L(W,"DIV",{class:!0});var X=G(A);C=N(X,q),X.forEach(x),W.forEach(x),Y.forEach(x),this.h()},h(){z(s,"class","result svelte-156zbji"),z(r,"id","formTile"),B(r,"background",Re(t[0][0],t[1][0])),z(r,"class","svelte-156zbji"),z(a,"class","icon pos-0 svelte-156zbji"),z(c,"class","result svelte-156zbji"),z(i,"id","formTile"),B(i,"background",Re(t[0][1],t[1][1])),z(i,"class","svelte-156zbji"),z(o,"class","icon pos-1 svelte-156zbji"),z(m,"class","result svelte-156zbji"),z(h,"id","formTile"),B(h,"background",Re(t[0][2],t[1][2])),z(h,"class","svelte-156zbji"),z(u,"class","icon pos-2 svelte-156zbji"),z(b,"class","result svelte-156zbji"),z(y,"id","formTile"),B(y,"background",Re(t[0][3],t[1][3])),z(y,"class","svelte-156zbji"),z(v,"class","icon pos-3 svelte-156zbji"),z(A,"class","result svelte-156zbji"),z(T,"id","formTile"),B(T,"background",Re(t[0][4],t[1][4])),z(T,"class","svelte-156zbji"),z(_,"class","icon pos-4 svelte-156zbji")},m(e,t){w(e,a,t),$(a,r),$(r,s),$(s,l),w(e,n,t),w(e,o,t),$(o,i),$(i,c),$(c,d),w(e,f,t),w(e,u,t),$(u,h),$(h,m),$(m,p),w(e,g,t),w(e,v,t),$(v,y),$(y,b),$(b,E),w(e,V,t),w(e,_,t),$(_,T),$(T,A),$(A,C)},p(e,[t]){1&t&&P!==(P=Ue(e[0][0])+"")&&M(l,P),3&t&&B(r,"background",Re(e[0][0],e[1][0])),1&t&&O!==(O=Ue(e[0][1])+"")&&M(d,O),3&t&&B(i,"background",Re(e[0][1],e[1][1])),1&t&&j!==(j=Ue(e[0][2])+"")&&M(p,j),3&t&&B(h,"background",Re(e[0][2],e[1][2])),1&t&&H!==(H=Ue(e[0][3])+"")&&M(E,H),3&t&&B(y,"background",Re(e[0][3],e[1][3])),1&t&&q!==(q=Ue(e[0][4])+"")&&M(C,q),3&t&&B(T,"background",Re(e[0][4],e[1][4]))},i:e,o:e,d(e){e&&x(a),e&&x(n),e&&x(o),e&&x(f),e&&x(u),e&&x(g),e&&x(v),e&&x(V),e&&x(_)}}}function Re(e,t){switch(e){case"W":return t?"linear-gradient(30deg, var(--green), #2bd2ff, #fa8bff)":"#00fe87";case"D":return"#ffdd00";case"L":return"#f83027";default:return"#d6d6d6"}}function Ue(e){switch(e){case"W":case"D":case"L":return e;default:return""}}function Ye(e,t,a){let{form:r,starTeams:s}=t;return e.$$set=e=>{"form"in e&&a(0,r=e.form),"starTeams"in e&&a(1,s=e.starTeams)},[r,s]}class We extends ye{constructor(e){super(),ve(this,e,Ye,Fe,n,{form:0,starTeams:1})}}function Xe(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E=e[5][0]+"",V=e[5][1]+"",_=e[5][2]+"",T=e[5][3]+"",A=e[5][4]+"";return a=new We({props:{form:e[3]+",",starTeams:e[4]}}),{c(){t=D("div"),ue(a.$$.fragment),r=k(),s=D("div"),l=D("div"),n=I(E),o=k(),i=D("div"),c=I(V),d=k(),f=D("div"),u=I(_),h=k(),m=D("div"),p=I(T),g=k(),v=D("div"),y=I(A),this.h()},l(e){t=L(e,"DIV",{class:!0});var b=G(t);he(a.$$.fragment,b),b.forEach(x),r=S(e),s=L(e,"DIV",{class:!0});var $=G(s);l=L($,"DIV",{class:!0});var w=G(l);n=N(w,E),w.forEach(x),o=S($),i=L($,"DIV",{class:!0});var D=G(i);c=N(D,V),D.forEach(x),d=S($),f=L($,"DIV",{class:!0});var I=G(f);u=N(I,_),I.forEach(x),h=S($),m=L($,"DIV",{class:!0});var k=G(m);p=N(k,T),k.forEach(x),g=S($),v=L($,"DIV",{class:!0});var z=G(v);y=N(z,A),z.forEach(x),$.forEach(x),this.h()},h(){z(t,"class","current-form-row icon-row svelte-sbd95v"),z(l,"class","icon-name pos-0 svelte-sbd95v"),z(i,"class","icon-name pos-1 svelte-sbd95v"),z(f,"class","icon-name pos-2 svelte-sbd95v"),z(m,"class","icon-name pos-3 svelte-sbd95v"),z(v,"class","icon-name pos-4 svelte-sbd95v"),z(s,"class","current-form-row name-row svelte-sbd95v")},m(e,x){w(e,t,x),me(a,t,null),w(e,r,x),w(e,s,x),$(s,l),$(l,n),$(s,o),$(s,i),$(i,c),$(s,d),$(s,f),$(f,u),$(s,h),$(s,m),$(m,p),$(s,g),$(s,v),$(v,y),b=!0},p(e,t){const r={};8&t&&(r.form=e[3]+","),16&t&&(r.starTeams=e[4]),a.$set(r),(!b||32&t)&&E!==(E=e[5][0]+"")&&M(n,E),(!b||32&t)&&V!==(V=e[5][1]+"")&&M(c,V),(!b||32&t)&&_!==(_=e[5][2]+"")&&M(u,_),(!b||32&t)&&T!==(T=e[5][3]+"")&&M(p,T),(!b||32&t)&&A!==(A=e[5][4]+"")&&M(y,A)},i(e){b||(oe(a.$$.fragment,e),b=!0)},o(e){ie(a.$$.fragment,e),b=!1},d(e){e&&x(t),pe(a),e&&x(r),e&&x(s)}}}function Je(t){let a;return{c(){a=I("None")},l(e){a=N(e,"None")},m(e,t){w(e,a,t)},p:e,d(e){e&&x(a)}}}function Ke(e){let t,a,r,s=(100*e[0].form[e[2]][e[0]._id][e[1]].formRating5).toFixed(1)+"";return{c(){t=D("span"),a=I(s),r=I("%"),this.h()},l(e){t=L(e,"SPAN",{class:!0});var l=G(t);a=N(l,s),r=N(l,"%"),l.forEach(x),this.h()},h(){z(t,"class","current-form-value svelte-sbd95v")},m(e,s){w(e,t,s),$(t,a),$(t,r)},p(e,t){7&t&&s!==(s=(100*e[0].form[e[2]][e[0]._id][e[1]].formRating5).toFixed(1)+"")&&M(a,s)},d(e){e&&x(t)}}}function Qe(e){let t,a,r,s,l=null!=e[5]&&Xe(e);function n(e,t){return null!=e[1]?Ke:Je}let o=n(e),i=o(e);return{c(){l&&l.c(),t=k(),a=D("div"),r=I("Current form:\r\n  "),i.c(),this.h()},l(e){l&&l.l(e),t=S(e),a=L(e,"DIV",{class:!0});var s=G(a);r=N(s,"Current form:\r\n  "),i.l(s),s.forEach(x),this.h()},h(){z(a,"class","current-form svelte-sbd95v")},m(e,n){l&&l.m(e,n),w(e,t,n),w(e,a,n),$(a,r),i.m(a,null),s=!0},p(e,[r]){null!=e[5]?l?(l.p(e,r),32&r&&oe(l,1)):(l=Xe(e),l.c(),oe(l,1),l.m(t.parentNode,t)):l&&(le(),ie(l,1,1,(()=>{l=null})),ne()),o===(o=n(e))&&i?i.p(e,r):(i.d(1),i=o(e),i&&(i.c(),i.m(a,null)))},i(e){s||(oe(l),s=!0)},o(e){ie(l),s=!1},d(e){l&&l.d(e),e&&x(t),e&&x(a),i.d()}}}function Ze(e,t,a){function r(){let e=function(e,t){return Object.keys(e.form[t][e._id]).sort((function(a,r){return new Date(e.form[t][e._id][a].date)-new Date(e.form[t][e._id][r].date)}))}(o,c),t=function(e,t,a,r){let s=[];for(let l=a.length-1;l>=0&&(null!=e.form[t][e._id][a[l]].score&&s.push(a[l]),!(s.length>=r));l--);return s}(o,c,e,5);a(3,s=function(e,t){let a=[];Object.keys(e.form[t][e._id][i]).length>0&&(a=e.form[t][e._id][i].form5.split(""));for(let e=a.length;e<5;e++)a.unshift("N");return a.join("")}(o,c)),a(4,l=function(e,t,a){let r=[];for(let s of a){let a=e.form[t][e._id][s].team;r.unshift(e.teamRatings[a].totalRating>.75)}for(let e=r.length;e<5;e++)r.unshift(!1);return r}(o,c,t)),a(5,n=function(e,t,a){let r=[];for(let s of a)r.unshift(d(e.form[t][e._id][s].team));for(let e=r.length;e<5;e++)r.unshift("");return r}(o,c,t))}let s,l,n,{data:o,currentMatchday:i,team:c,toInitials:d}=t;return e.$$set=e=>{"data"in e&&a(0,o=e.data),"currentMatchday"in e&&a(1,i=e.currentMatchday),"team"in e&&a(2,c=e.team),"toInitials"in e&&a(6,d=e.toInitials)},e.$$.update=()=>{4&e.$$.dirty&&c&&r()},[o,i,c,s,l,n,d]}class et extends ye{constructor(e){super(),ve(this,e,Ze,Qe,n,{data:0,currentMatchday:1,team:2,toInitials:6})}}function tt(e,t,a){const r=e.slice();return r[8]=t[a],r[10]=a,r}function at(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v=e[3].rows,y=[];for(let t=0;t<v.length;t+=1)y[t]=it(tt(e,v,t));let b=6!=e[3].teamTableIdx&&ct();return{c(){t=D("div"),a=k(),r=D("div"),s=D("div"),l=k(),n=D("div"),o=I("Team"),i=k(),c=D("div"),d=I("GD"),f=k(),u=D("div"),h=I("Points"),m=k();for(let e=0;e<y.length;e+=1)y[e].c();p=k(),b&&b.c(),g=_(),this.h()},l(e){t=L(e,"DIV",{class:!0}),G(t).forEach(x),a=S(e),r=L(e,"DIV",{class:!0});var v=G(r);s=L(v,"DIV",{class:!0}),G(s).forEach(x),l=S(v),n=L(v,"DIV",{class:!0});var $=G(n);o=N($,"Team"),$.forEach(x),i=S(v),c=L(v,"DIV",{class:!0});var w=G(c);d=N(w,"GD"),w.forEach(x),f=S(v),u=L(v,"DIV",{class:!0});var E=G(u);h=N(E,"Points"),E.forEach(x),v.forEach(x),m=S(e);for(let t=0;t<y.length;t+=1)y[t].l(e);p=S(e),b&&b.l(e),g=_(),this.h()},h(){z(t,"class","divider"),z(s,"class","table-element table-position column-title svelte-1l9y3x9"),z(n,"class","table-element table-team-name column-title svelte-1l9y3x9"),z(c,"class","table-element table-gd column-title svelte-1l9y3x9"),z(u,"class","table-element table-points column-title svelte-1l9y3x9"),z(r,"class","table-row svelte-1l9y3x9")},m(e,v){w(e,t,v),w(e,a,v),w(e,r,v),$(r,s),$(r,l),$(r,n),$(n,o),$(r,i),$(r,c),$(c,d),$(r,f),$(r,u),$(u,h),w(e,m,v);for(let t=0;t<y.length;t+=1)y[t].m(e,v);w(e,p,v),b&&b.m(e,v),w(e,g,v)},p(e,t){if(15&t){let a;for(v=e[3].rows,a=0;a<v.length;a+=1){const r=tt(e,v,a);y[a]?y[a].p(r,t):(y[a]=it(r),y[a].c(),y[a].m(p.parentNode,p))}for(;a<y.length;a+=1)y[a].d(1);y.length=v.length}6!=e[3].teamTableIdx?b||(b=ct(),b.c(),b.m(g.parentNode,g)):b&&(b.d(1),b=null)},d(e){e&&x(t),e&&x(a),e&&x(r),e&&x(m),E(y,e),e&&x(p),b&&b.d(e),e&&x(g)}}}function rt(t){let a;return{c(){a=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0,class:!0}),G(a).forEach(x),this.h()},h(){z(a,"id","divider"),z(a,"class","svelte-1l9y3x9")},m(e,t){w(e,a,t)},p:e,d(e){e&&x(a)}}}function st(e){let t,a=e[10]!=e[3].teamTableIdx&&lt();return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,r){a&&a.m(e,r),w(e,t,r)},p(e,r){e[10]!=e[3].teamTableIdx?a||(a=lt(),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&x(t)}}}function lt(e){let t;return{c(){t=D("div"),this.h()},l(e){t=L(e,"DIV",{id:!0,class:!0}),G(t).forEach(x),this.h()},h(){z(t,"id","divider"),z(t,"class","svelte-1l9y3x9")},m(e,a){w(e,t,a)},d(e){e&&x(t)}}}function nt(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p=e[8].position+"",g=e[1](e[8].name)+"",v=e[8].gd+"",y=e[8].points+"";function b(){return e[6](e[8])}return{c(){t=D("div"),a=D("div"),r=I(p),s=k(),l=D("button"),n=I(g),o=k(),i=D("div"),c=I(v),d=k(),f=D("div"),u=I(y),this.h()},l(e){t=L(e,"DIV",{class:!0});var h=G(t);a=L(h,"DIV",{class:!0});var m=G(a);r=N(m,p),m.forEach(x),s=S(h),l=L(h,"BUTTON",{class:!0});var b=G(l);n=N(b,g),b.forEach(x),o=S(h),i=L(h,"DIV",{class:!0});var $=G(i);c=N($,v),$.forEach(x),d=S(h),f=L(h,"DIV",{class:!0});var w=G(f);u=N(w,y),w.forEach(x),h.forEach(x),this.h()},h(){z(a,"class","table-element table-position svelte-1l9y3x9"),z(l,"class","table-element table-team-name svelte-1l9y3x9"),z(i,"class","table-element table-gd svelte-1l9y3x9"),z(f,"class","table-element table-points svelte-1l9y3x9"),z(t,"class","table-row svelte-1l9y3x9")},m(e,p){w(e,t,p),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(t,o),$(t,i),$(i,c),$(t,d),$(t,f),$(f,u),h||(m=T(l,"click",b),h=!0)},p(t,a){e=t,8&a&&p!==(p=e[8].position+"")&&M(r,p),10&a&&g!==(g=e[1](e[8].name)+"")&&M(n,g),8&a&&v!==(v=e[8].gd+"")&&M(c,v),8&a&&y!==(y=e[8].points+"")&&M(u,y)},d(e){e&&x(t),h=!1,m()}}}function ot(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m=e[8].position+"",p=e[1](e[8].name)+"",g=e[8].gd+"",v=e[8].points+"";return{c(){t=D("div"),a=D("div"),r=I(m),s=k(),l=D("a"),n=I(p),i=k(),c=D("div"),d=I(g),f=k(),u=D("div"),h=I(v),this.h()},l(e){t=L(e,"DIV",{class:!0,style:!0});var o=G(t);a=L(o,"DIV",{class:!0,style:!0});var y=G(a);r=N(y,m),y.forEach(x),s=S(o),l=L(o,"A",{href:!0,class:!0,style:!0});var b=G(l);n=N(b,p),b.forEach(x),i=S(o),c=L(o,"DIV",{class:!0,style:!0});var $=G(c);d=N($,g),$.forEach(x),f=S(o),u=L(o,"DIV",{class:!0,style:!0});var w=G(u);h=N(w,v),w.forEach(x),o.forEach(x),this.h()},h(){z(a,"class","table-element table-position this-team svelte-1l9y3x9"),B(a,"color","var(--"+e[0]+"-secondary)"),z(l,"href",o="/"+e[0]),z(l,"class","table-element table-team-name this-team svelte-1l9y3x9"),B(l,"color","var(--"+e[0]+"-secondary)"),z(c,"class","table-element table-gd this-team svelte-1l9y3x9"),B(c,"color","var(--"+e[0]+"-secondary)"),z(u,"class","table-element table-points this-team svelte-1l9y3x9"),B(u,"color","var(--"+e[0]+"-secondary)"),z(t,"class","table-row this-team svelte-1l9y3x9"),B(t,"background-color","var(--"+e[0]+")")},m(e,o){w(e,t,o),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(t,i),$(t,c),$(c,d),$(t,f),$(t,u),$(u,h)},p(e,s){8&s&&m!==(m=e[8].position+"")&&M(r,m),1&s&&B(a,"color","var(--"+e[0]+"-secondary)"),10&s&&p!==(p=e[1](e[8].name)+"")&&M(n,p),1&s&&o!==(o="/"+e[0])&&z(l,"href",o),1&s&&B(l,"color","var(--"+e[0]+"-secondary)"),8&s&&g!==(g=e[8].gd+"")&&M(d,g),1&s&&B(c,"color","var(--"+e[0]+"-secondary)"),8&s&&v!==(v=e[8].points+"")&&M(h,v),1&s&&B(u,"color","var(--"+e[0]+"-secondary)"),1&s&&B(t,"background-color","var(--"+e[0]+")")},d(e){e&&x(t)}}}function it(e){let t,a;function r(e,t){return 0==e[10]?st:e[10]-1!=e[3].teamTableIdx&&e[10]!=e[3].teamTableIdx?rt:void 0}let s=r(e),l=s&&s(e);function n(e,t){return e[10]==e[3].teamTableIdx?ot:nt}let o=n(e),i=o(e);return{c(){l&&l.c(),t=k(),i.c(),a=_()},l(e){l&&l.l(e),t=S(e),i.l(e),a=_()},m(e,r){l&&l.m(e,r),w(e,t,r),i.m(e,r),w(e,a,r)},p(e,c){s===(s=r(e))&&l?l.p(e,c):(l&&l.d(1),l=s&&s(e),l&&(l.c(),l.m(t.parentNode,t))),o===(o=n(e))&&i?i.p(e,c):(i.d(1),i=o(e),i&&(i.c(),i.m(a.parentNode,a)))},d(e){l&&l.d(e),e&&x(t),i.d(e),e&&x(a)}}}function ct(e){let t;return{c(){t=D("div"),this.h()},l(e){t=L(e,"DIV",{id:!0,class:!0}),G(t).forEach(x),this.h()},h(){z(t,"id","divider"),z(t,"class","svelte-1l9y3x9")},m(e,a){w(e,t,a)},d(e){e&&x(t)}}}function dt(t){let a,r=null!=t[3]&&at(t);return{c(){a=D("div"),r&&r.c(),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r&&r.l(t),t.forEach(x),this.h()},h(){z(a,"class","table-snippet svelte-1l9y3x9")},m(e,t){w(e,a,t),r&&r.m(a,null)},p(e,[t]){null!=e[3]?r?r.p(e,t):(r=at(e),r.c(),r.m(a,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&x(a),r&&r.d()}}}function ft(e,t,a){let r,{data:s,hyphenatedTeam:l,team:n,toAlias:o,switchTeam:i}=t;return e.$$set=e=>{"data"in e&&a(4,s=e.data),"hyphenatedTeam"in e&&a(0,l=e.hyphenatedTeam),"team"in e&&a(5,n=e.team),"toAlias"in e&&a(1,o=e.toAlias),"switchTeam"in e&&a(2,i=e.switchTeam)},e.$$.update=()=>{32&e.$$.dirty&&n&&function(){let e,t=Object.keys(s.standings).sort((function(e,t){return s.standings[e][s._id].position-s.standings[t][s._id].position})),[l,o]=function(e,t){let a=e.indexOf(t),r=a-3,s=a+4;return r<0&&(s-=r,r=0),s>e.length-1&&(r-=s-e.length,s=e.length),[r,s]}(t,n),i=[];for(let a=l;a<o;a++)t[a]==n&&(e=a-l),i.push({name:t[a],position:s.standings[t[a]][s._id].position,points:s.standings[t[a]][s._id].points,gd:s.standings[t[a]][s._id].gD});a(3,r={teamTableIdx:e,rows:i})}()},[l,o,i,r,s,n,e=>{i(e.name.toLowerCase().replace(/ /g,"-"))}]}class ut extends ye{constructor(e){super(),ve(this,e,ft,dt,n,{data:4,hyphenatedTeam:0,team:5,toAlias:1,switchTeam:2})}}function ht(e,t,a){const r=e.slice();return r[7]=t[a],r}function mt(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,V,_,A,C,P,B,O,j,H,q,F,R,U,Y,W,X,J,K,Q,Z,ee,te,ae,re,se=e[3](e[0].upcoming[e[1]].nextTeam)+"",le=e[0].upcoming[e[1]].atHome?"Home":"Away",ne=e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position+"",oe=xt(e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position)+"",ie=(100*e[0].form[e[0].upcoming[e[1]].nextTeam][e[0]._id][Et(e[0],e[0].upcoming[e[1]].nextTeam)].formRating5).toFixed(1)+"",ce=Math.round(e[0].upcoming[e[1]].prediction.homeGoals)+"",de=Math.round(e[0].upcoming[e[1]].prediction.awayGoals)+"";function fe(e,t){return e[2]?vt:gt}let ue=fe(e),he=ue(e);function me(e,t){return 0==e[0].upcoming[e[1]].prevMatches.length?bt:yt}let pe=me(e),ge=pe(e),ve=e[0].upcoming[e[1]].prevMatches,ye=[];for(let t=0;t<ve.length;t+=1)ye[t]=$t(ht(e,ve,t));return{c(){t=D("div"),a=D("div"),r=D("h1"),s=I("Next Game: \r\n          "),l=D("button"),n=I(se),o=I(" "),i=I("\r\n          ("),c=I(le),d=I(")"),f=k(),u=D("div"),h=D("div"),he.c(),m=k(),p=D("div"),g=D("div"),v=D("div"),y=I(ne),b=D("span"),V=I(oe),_=k(),A=D("div"),C=I("Current form:\r\n                "),P=D("span"),B=I(ie),O=I("%"),j=k(),H=D("div"),q=I("Score prediction\r\n              "),F=D("br"),R=k(),U=D("a"),Y=D("b"),W=I(ce),X=I(" - "),J=I(de),K=k(),Q=D("br"),Z=k(),ee=D("div"),ge.c(),te=k();for(let e=0;e<ye.length;e+=1)ye[e].c();this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=L(w,"H1",{class:!0});var E=G(r);s=N(E,"Next Game: \r\n          "),l=L(E,"BUTTON",{class:!0});var D=G(l);n=N(D,se),o=N(D," "),D.forEach(x),i=N(E,"\r\n          ("),c=N(E,le),d=N(E,")"),E.forEach(x),w.forEach(x),f=S($),u=L($,"DIV",{class:!0});var I=G(u);h=L(I,"DIV",{class:!0});var k=G(h);he.l(k),m=S(k),p=L(k,"DIV",{class:!0});var T=G(p);g=L(T,"DIV",{class:!0});var z=G(g);v=L(z,"DIV",{class:!0});var M=G(v);y=N(M,ne),b=L(M,"SPAN",{class:!0});var ae=G(b);V=N(ae,oe),ae.forEach(x),M.forEach(x),z.forEach(x),_=S(T),A=L(T,"DIV",{class:!0});var re=G(A);C=N(re,"Current form:\r\n                "),P=L(re,"SPAN",{class:!0});var fe=G(P);B=N(fe,ie),O=N(fe,"%"),fe.forEach(x),re.forEach(x),j=S(T),H=L(T,"DIV",{class:!0});var ue=G(H);q=N(ue,"Score prediction\r\n              "),F=L(ue,"BR",{}),R=S(ue),U=L(ue,"A",{class:!0,href:!0});var me=G(U);Y=L(me,"B",{});var pe=G(Y);W=N(pe,ce),X=N(pe," - "),J=N(pe,de),pe.forEach(x),me.forEach(x),K=S(ue),Q=L(ue,"BR",{}),ue.forEach(x),T.forEach(x),k.forEach(x),Z=S(I),ee=L(I,"DIV",{class:!0});var ve=G(ee);ge.l(ve),te=S(ve);for(let e=0;e<ye.length;e+=1)ye[e].l(ve);ve.forEach(x),I.forEach(x),$.forEach(x),this.h()},h(){z(l,"class","next-game-team-btn svelte-gtrkmp"),z(r,"class","next-game-title-text svelte-gtrkmp"),z(a,"class","next-game-title svelte-gtrkmp"),z(b,"class","ordinal-position svelte-gtrkmp"),z(v,"class","next-game-position svelte-gtrkmp"),z(g,"class","next-game-item svelte-gtrkmp"),z(P,"class","current-form-value svelte-gtrkmp"),z(A,"class","next-game-item current-form svelte-gtrkmp"),z(U,"class","predictions-link svelte-gtrkmp"),z(U,"href","/predictions"),z(H,"class","next-game-item svelte-gtrkmp"),z(p,"class","predictions"),z(h,"class","predictions-and-logo svelte-gtrkmp"),z(ee,"class","past-results svelte-gtrkmp"),z(u,"class","next-game-values svelte-gtrkmp"),z(t,"class","next-game-prediction svelte-gtrkmp")},m(x,E){w(x,t,E),$(t,a),$(a,r),$(r,s),$(r,l),$(l,n),$(l,o),$(r,i),$(r,c),$(r,d),$(t,f),$(t,u),$(u,h),he.m(h,null),$(h,m),$(h,p),$(p,g),$(g,v),$(v,y),$(v,b),$(b,V),$(p,_),$(p,A),$(A,C),$(A,P),$(P,B),$(P,O),$(p,j),$(p,H),$(H,q),$(H,F),$(H,R),$(H,U),$(U,Y),$(Y,W),$(Y,X),$(Y,J),$(H,K),$(H,Q),$(u,Z),$(u,ee),ge.m(ee,null),$(ee,te);for(let e=0;e<ye.length;e+=1)ye[e].m(ee,null);ae||(re=T(l,"click",e[6]),ae=!0)},p(e,t){if(11&t&&se!==(se=e[3](e[0].upcoming[e[1]].nextTeam)+"")&&M(n,se),3&t&&le!==(le=e[0].upcoming[e[1]].atHome?"Home":"Away")&&M(c,le),ue===(ue=fe(e))&&he?he.p(e,t):(he.d(1),he=ue(e),he&&(he.c(),he.m(h,m))),3&t&&ne!==(ne=e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position+"")&&M(y,ne),3&t&&oe!==(oe=xt(e[0].standings[e[0].upcoming[e[1]].nextTeam][e[0]._id].position)+"")&&M(V,oe),3&t&&ie!==(ie=(100*e[0].form[e[0].upcoming[e[1]].nextTeam][e[0]._id][Et(e[0],e[0].upcoming[e[1]].nextTeam)].formRating5).toFixed(1)+"")&&M(B,ie),3&t&&ce!==(ce=Math.round(e[0].upcoming[e[1]].prediction.homeGoals)+"")&&M(W,ce),3&t&&de!==(de=Math.round(e[0].upcoming[e[1]].prediction.awayGoals)+"")&&M(J,de),pe!==(pe=me(e))&&(ge.d(1),ge=pe(e),ge&&(ge.c(),ge.m(ee,te))),19&t){let a;for(ve=e[0].upcoming[e[1]].prevMatches,a=0;a<ve.length;a+=1){const r=ht(e,ve,a);ye[a]?ye[a].p(r,t):(ye[a]=$t(r),ye[a].c(),ye[a].m(ee,null))}for(;a<ye.length;a+=1)ye[a].d(1);ye.length=ve.length}},d(e){e&&x(t),he.d(),ge.d(),E(ye,e),ae=!1,re()}}}function pt(e){let t,a,r,s,l,n,o,i=e[0]._id+"",c=e[0]._id+1+"";return{c(){t=D("div"),a=D("div"),r=D("h1"),s=I(i),l=I("/"),n=I(c),o=I(" SEASON COMPLETE"),this.h()},l(e){t=L(e,"DIV",{class:!0});var d=G(t);a=L(d,"DIV",{class:!0});var f=G(a);r=L(f,"H1",{class:!0});var u=G(r);s=N(u,i),l=N(u,"/"),n=N(u,c),o=N(u," SEASON COMPLETE"),u.forEach(x),f.forEach(x),d.forEach(x),this.h()},h(){z(r,"class","next-game-title-text svelte-gtrkmp"),z(a,"class","next-game-season-complete svelte-gtrkmp"),z(t,"class","next-game-prediction svelte-gtrkmp")},m(e,i){w(e,t,i),$(t,a),$(a,r),$(r,s),$(r,l),$(r,n),$(r,o)},p(e,t){1&t&&i!==(i=e[0]._id+"")&&M(s,i),1&t&&c!==(c=e[0]._id+1+"")&&M(n,c)},d(e){e&&x(t)}}}function gt(t){let a;return{c(){a=D("div"),this.h()},l(e){a=L(e,"DIV",{class:!0}),G(a).forEach(x),this.h()},h(){z(a,"class","next-game-position svelte-gtrkmp")},m(e,t){w(e,a,t)},p:e,d(e){e&&x(a)}}}function vt(e){let t;return{c(){t=D("div"),this.h()},l(e){t=L(e,"DIV",{class:!0,style:!0}),G(t).forEach(x),this.h()},h(){z(t,"class","next-game-logo opposition-badge svelte-gtrkmp"),B(t,"background-image","url('"+e[0].logoURLs[e[0].upcoming[e[1]].nextTeam]+"')")},m(e,a){w(e,t,a)},p(e,a){3&a&&B(t,"background-image","url('"+e[0].logoURLs[e[0].upcoming[e[1]].nextTeam]+"')")},d(e){e&&x(t)}}}function yt(e){let t,a;return{c(){t=D("div"),a=I("Previous results"),this.h()},l(e){t=L(e,"DIV",{class:!0});var r=G(t);a=N(r,"Previous results"),r.forEach(x),this.h()},h(){z(t,"class","next-game-item prev-results-title svelte-gtrkmp")},m(e,r){w(e,t,r),$(t,a)},d(e){e&&x(t)}}}function bt(e){let t,a;return{c(){t=D("div"),a=I("No previous results"),this.h()},l(e){t=L(e,"DIV",{class:!0});var r=G(t);a=N(r,"No previous results"),r.forEach(x),this.h()},h(){z(t,"class","next-game-item prev-results-title no-prev-results svelte-gtrkmp")},m(e,r){w(e,t,r),$(t,a)},d(e){e&&x(t)}}}function $t(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C=new Date(e[7].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"",P=e[4](e[7].homeTeam)+"",O=e[7].homeGoals+"",j=e[7].awayGoals+"",H=e[4](e[7].awayTeam)+"";return{c(){t=D("div"),a=D("div"),r=I(C),s=k(),l=D("div"),n=D("div"),o=D("div"),i=D("div"),c=I(P),d=k(),f=D("div"),u=D("div"),h=I(O),m=k(),p=D("div"),g=D("div"),v=D("div"),y=I(j),b=k(),E=D("div"),V=I(H),_=k(),T=D("div"),A=k(),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=N(w,C),w.forEach(x),s=S($),l=L($,"DIV",{class:!0});var D=G(l);n=L(D,"DIV",{class:!0});var I=G(n);o=L(I,"DIV",{class:!0});var k=G(o);i=L(k,"DIV",{class:!0,style:!0});var z=G(i);c=N(z,P),z.forEach(x),d=S(k),f=L(k,"DIV",{class:!0,style:!0});var M=G(f);u=L(M,"DIV",{class:!0});var B=G(u);h=N(B,O),B.forEach(x),M.forEach(x),k.forEach(x),m=S(I),p=L(I,"DIV",{class:!0});var q=G(p);g=L(q,"DIV",{class:!0,style:!0});var F=G(g);v=L(F,"DIV",{class:!0});var R=G(v);y=N(R,j),R.forEach(x),F.forEach(x),b=S(q),E=L(q,"DIV",{class:!0,style:!0});var U=G(E);V=N(U,H),U.forEach(x),q.forEach(x),I.forEach(x),_=S(D),T=L(D,"DIV",{style:!0}),G(T).forEach(x),D.forEach(x),A=S($),$.forEach(x),this.h()},h(){z(a,"class","past-result-date result-details svelte-gtrkmp"),z(i,"class","home-team svelte-gtrkmp"),B(i,"background","var(--"+e[7].homeTeam.toLowerCase().replace(/ /g,"-")+")"),B(i,"color","var(--"+e[7].homeTeam.toLowerCase().replace(/ /g,"-")+"-secondary)"),z(u,"class","home-goals svelte-gtrkmp"),z(f,"class","goals-container svelte-gtrkmp"),B(f,"background","var(--"+Dt(e[7],!0).toLowerCase().replace(/ /g,"-")+")"),B(f,"color","var(--"+Dt(e[7],!0).toLowerCase().replace(/ /g,"-")+"-secondary)"),z(o,"class","left-side svelte-gtrkmp"),z(v,"class","away-goals svelte-gtrkmp"),z(g,"class","goals-container svelte-gtrkmp"),B(g,"background","var(--"+Dt(e[7],!1).toLowerCase().replace(/ /g,"-")+")"),B(g,"color","var(--"+Dt(e[7],!1).toLowerCase().replace(/ /g,"-")+"-secondary)"),z(E,"class","away-team svelte-gtrkmp"),B(E,"background","var(--"+e[7].awayTeam.toLowerCase().replace(/ /g,"-")+")"),B(E,"color","var(--"+e[7].awayTeam.toLowerCase().replace(/ /g,"-")+"-secondary)"),z(p,"class","right-side svelte-gtrkmp"),z(n,"class","past-result svelte-gtrkmp"),B(T,"clear","both"),z(l,"class","next-game-item result-details svelte-gtrkmp"),z(t,"class","next-game-item-container")},m(e,x){w(e,t,x),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(n,o),$(o,i),$(i,c),$(o,d),$(o,f),$(f,u),$(u,h),$(n,m),$(n,p),$(p,g),$(g,v),$(v,y),$(p,b),$(p,E),$(E,V),$(l,_),$(l,T),$(t,A)},p(e,t){3&t&&C!==(C=new Date(e[7].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"")&&M(r,C),19&t&&P!==(P=e[4](e[7].homeTeam)+"")&&M(c,P),3&t&&B(i,"background","var(--"+e[7].homeTeam.toLowerCase().replace(/ /g,"-")+")"),3&t&&B(i,"color","var(--"+e[7].homeTeam.toLowerCase().replace(/ /g,"-")+"-secondary)"),3&t&&O!==(O=e[7].homeGoals+"")&&M(h,O),3&t&&B(f,"background","var(--"+Dt(e[7],!0).toLowerCase().replace(/ /g,"-")+")"),3&t&&B(f,"color","var(--"+Dt(e[7],!0).toLowerCase().replace(/ /g,"-")+"-secondary)"),3&t&&j!==(j=e[7].awayGoals+"")&&M(y,j),3&t&&B(g,"background","var(--"+Dt(e[7],!1).toLowerCase().replace(/ /g,"-")+")"),3&t&&B(g,"color","var(--"+Dt(e[7],!1).toLowerCase().replace(/ /g,"-")+"-secondary)"),19&t&&H!==(H=e[4](e[7].awayTeam)+"")&&M(V,H),3&t&&B(E,"background","var(--"+e[7].awayTeam.toLowerCase().replace(/ /g,"-")+")"),3&t&&B(E,"color","var(--"+e[7].awayTeam.toLowerCase().replace(/ /g,"-")+"-secondary)")},d(e){e&&x(t)}}}function wt(t){let a;function r(e,t){return null==e[0].upcoming[e[1]].nextTeam?pt:mt}let s=r(t),l=s(t);return{c(){l.c(),a=_()},l(e){l.l(e),a=_()},m(e,t){l.m(e,t),w(e,a,t)},p(e,[t]){s===(s=r(e))&&l?l.p(e,t):(l.d(1),l=s(e),l&&(l.c(),l.m(a.parentNode,a)))},i:e,o:e,d(e){l.d(e),e&&x(a)}}}function xt(e){let t=e%100;return[,"st","nd","rd"][t>20?t%10:t]||"th"}function Et(e,t){let a=Object.keys(e.form[t][e._id]);for(let r=a.length-1;r>=0;r--)if(null!=e.form[t][e._id][a[r]].score)return a[r];return null}function Dt(e,t){return t?e.homeGoals<e.awayGoals?e.awayTeam:e.homeTeam:e.homeGoals>e.awayGoals?e.homeTeam:e.awayTeam}function Vt(e,t,a){let{data:r,team:s,showBadge:l,toAlias:n,toInitials:o,switchTeam:i}=t;return e.$$set=e=>{"data"in e&&a(0,r=e.data),"team"in e&&a(1,s=e.team),"showBadge"in e&&a(2,l=e.showBadge),"toAlias"in e&&a(3,n=e.toAlias),"toInitials"in e&&a(4,o=e.toInitials),"switchTeam"in e&&a(5,i=e.switchTeam)},[r,s,l,n,o,i,()=>{i(r.upcoming[s].nextTeam.toLowerCase().replace(/ /g,"-"))}]}class It extends ye{constructor(e){super(),ve(this,e,Vt,wt,n,{data:0,team:1,showBadge:2,toAlias:3,toInitials:4,switchTeam:5})}}function kt(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C,P,B,O,j,H,q,F,R,U,Y,W,X,J,K,Q,Z,ee,te,ae,re,se=e[2].xG+"",le=e[1][e[0]].xG.toFixed(2)+"",ne=e[2].xG+"",oe=e[2].xC+"",ie=e[1][e[0]].xC.toFixed(2)+"",ce=e[2].xC+"",de=e[2].cleanSheetRatio+"",fe=e[1][e[0]].cleanSheetRatio.toFixed(2)+"",ue=e[2].cleanSheetRatio+"";return{c(){t=D("div"),a=D("div"),r=D("div"),s=D("div"),l=I(se),n=k(),o=D("div"),i=I(le),c=k(),d=D("div"),f=I(ne),h=k(),m=D("div"),p=I("goals per game"),g=k(),v=D("div"),y=D("div"),b=D("div"),E=I(oe),V=k(),_=D("div"),T=I(ie),A=k(),C=D("div"),P=I(ce),O=k(),j=D("div"),H=I("conceded per game"),q=k(),F=D("div"),R=D("div"),U=D("div"),Y=I(de),W=k(),X=D("div"),J=I(fe),K=k(),Q=D("div"),Z=I(ue),te=k(),ae=D("div"),re=I("clean sheets"),this.h()},l(e){t=L(e,"DIV",{class:!0});var u=G(t);a=L(u,"DIV",{class:!0});var $=G(a);r=L($,"DIV",{class:!0});var w=G(r);s=L(w,"DIV",{class:!0});var D=G(s);l=N(D,se),D.forEach(x),n=S(w),o=L(w,"DIV",{class:!0});var I=G(o);i=N(I,le),I.forEach(x),c=S(w),d=L(w,"DIV",{class:!0});var k=G(d);f=N(k,ne),k.forEach(x),w.forEach(x),h=S($),m=L($,"DIV",{class:!0});var z=G(m);p=N(z,"goals per game"),z.forEach(x),$.forEach(x),g=S(u),v=L(u,"DIV",{class:!0});var M=G(v);y=L(M,"DIV",{class:!0});var B=G(y);b=L(B,"DIV",{class:!0});var ee=G(b);E=N(ee,oe),ee.forEach(x),V=S(B),_=L(B,"DIV",{class:!0});var he=G(_);T=N(he,ie),he.forEach(x),A=S(B),C=L(B,"DIV",{class:!0});var me=G(C);P=N(me,ce),me.forEach(x),B.forEach(x),O=S(M),j=L(M,"DIV",{class:!0});var pe=G(j);H=N(pe,"conceded per game"),pe.forEach(x),M.forEach(x),q=S(u),F=L(u,"DIV",{class:!0});var ge=G(F);R=L(ge,"DIV",{class:!0});var ve=G(R);U=L(ve,"DIV",{class:!0});var ye=G(U);Y=N(ye,de),ye.forEach(x),W=S(ve),X=L(ve,"DIV",{class:!0});var be=G(X);J=N(be,fe),be.forEach(x),K=S(ve),Q=L(ve,"DIV",{class:!0});var $e=G(Q);Z=N($e,ue),$e.forEach(x),ve.forEach(x),te=S(ge),ae=L(ge,"DIV",{class:!0});var we=G(ae);re=N(we,"clean sheets"),we.forEach(x),ge.forEach(x),u.forEach(x),this.h()},h(){z(s,"class","season-stat-position hidden svelte-hgcuuq"),z(o,"class","season-stat-number"),z(d,"class",u="season-stat-position ssp-"+e[2].xG+" svelte-hgcuuq"),z(r,"class","season-stat-value svelte-hgcuuq"),z(m,"class","season-stat-text svelte-hgcuuq"),z(a,"class","season-stat goals-per-game svelte-hgcuuq"),z(b,"class","season-stat-position hidden svelte-hgcuuq"),z(_,"class","season-stat-number"),z(C,"class",B="season-stat-position ssp-"+e[2].xC+" svelte-hgcuuq"),z(y,"class","season-stat-value svelte-hgcuuq"),z(j,"class","season-stat-text svelte-hgcuuq"),z(v,"class","season-stat conceded-per-game svelte-hgcuuq"),z(U,"class","season-stat-position hidden svelte-hgcuuq"),z(X,"class","season-stat-number"),z(Q,"class",ee="season-stat-position ssp-"+e[2].cleanSheetRatio+" svelte-hgcuuq"),z(R,"class","season-stat-value svelte-hgcuuq"),z(ae,"class","season-stat-text svelte-hgcuuq"),z(F,"class","season-stat clean-sheet-ratio svelte-hgcuuq"),z(t,"class","season-stats svelte-hgcuuq")},m(e,u){w(e,t,u),$(t,a),$(a,r),$(r,s),$(s,l),$(r,n),$(r,o),$(o,i),$(r,c),$(r,d),$(d,f),$(a,h),$(a,m),$(m,p),$(t,g),$(t,v),$(v,y),$(y,b),$(b,E),$(y,V),$(y,_),$(_,T),$(y,A),$(y,C),$(C,P),$(v,O),$(v,j),$(j,H),$(t,q),$(t,F),$(F,R),$(R,U),$(U,Y),$(R,W),$(R,X),$(X,J),$(R,K),$(R,Q),$(Q,Z),$(F,te),$(F,ae),$(ae,re)},p(e,t){4&t&&se!==(se=e[2].xG+"")&&M(l,se),3&t&&le!==(le=e[1][e[0]].xG.toFixed(2)+"")&&M(i,le),4&t&&ne!==(ne=e[2].xG+"")&&M(f,ne),4&t&&u!==(u="season-stat-position ssp-"+e[2].xG+" svelte-hgcuuq")&&z(d,"class",u),4&t&&oe!==(oe=e[2].xC+"")&&M(E,oe),3&t&&ie!==(ie=e[1][e[0]].xC.toFixed(2)+"")&&M(T,ie),4&t&&ce!==(ce=e[2].xC+"")&&M(P,ce),4&t&&B!==(B="season-stat-position ssp-"+e[2].xC+" svelte-hgcuuq")&&z(C,"class",B),4&t&&de!==(de=e[2].cleanSheetRatio+"")&&M(Y,de),3&t&&fe!==(fe=e[1][e[0]].cleanSheetRatio.toFixed(2)+"")&&M(J,fe),4&t&&ue!==(ue=e[2].cleanSheetRatio+"")&&M(Z,ue),4&t&&ee!==(ee="season-stat-position ssp-"+e[2].cleanSheetRatio+" svelte-hgcuuq")&&z(Q,"class",ee)},d(e){e&&x(t)}}}function _t(t){let a,r=null!=t[1]&&kt(t);return{c(){r&&r.c(),a=_()},l(e){r&&r.l(e),a=_()},m(e,t){r&&r.m(e,t),w(e,a,t)},p(e,[t]){null!=e[1]?r?r.p(e,t):(r=kt(e),r.c(),r.m(a.parentNode,a)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&x(a)}}}function Tt(e){let t=e%100;return e+([,"st","nd","rd"][t>20?t%10:t]||"th")}function zt(e,t,a,r){let s=Object.keys(e).sort((function(a,r){return e[r][t]-e[a][t]})).indexOf(a)+1;return r&&(s=21-s),s}function Gt(e,t,a){return 0==t&&a||0==e&&!a}function At(e,t,a){return a?e:t}function Ct(e,t,a){return a?t:e}function Lt(e,t,a){return 0==e&&a||0==t&&!a}function Pt(e,t,a,r){if(a in e.form)for(let s of Object.keys(e.form[a][r])){let l=e.form[a][r][s].score;if(null!=l){let n=e.form[a][r][s].atHome;Gt(l.homeGoals,l.awayGoals,n)&&(t[a].cleanSheetRatio+=1),Lt(l.homeGoals,l.awayGoals,n)&&(t[a].noGoalRatio+=1),t[a].xG+=At(l.homeGoals,l.awayGoals,n),t[a].xC+=Ct(l.homeGoals,l.awayGoals,n),t[a].played+=1}}}function Nt(e,t,a){function r(e,t){a(2,l=function(e,t){return{xG:Tt(zt(e,"xG",t,!1)),xC:Tt(zt(e,"xC",t,!0)),cleanSheetRatio:Tt(zt(e,"cleanSheetRatio",t,!1))}}(e,t))}let s,l={xG:"",xC:"",cleanSheetRatio:""},n=!1;q((()=>{a(1,s=function(e){let t={};for(let a of Object.keys(e.standings))t[a]={cleanSheetRatio:0,noGoalRatio:0,xC:0,xG:0,played:0},Pt(e,t,a,e._id),Pt(e,t,a,e._id-1),t[a].played>0&&(t[a].xG/=t[a].played,t[a].xC/=t[a].played,t[a].cleanSheetRatio/=t[a].played,t[a].noGoalRatio/=t[a].played);return t}(o)),r(s,i),n=!0}));let{data:o,team:i}=t;return e.$$set=e=>{"data"in e&&a(3,o=e.data),"team"in e&&a(0,i=e.team)},e.$$.update=()=>{1&e.$$.dirty&&i&&n&&r(s,i)},[i,s,l,o]}class St extends ye{constructor(e){super(),ve(this,e,Nt,_t,n,{data:3,team:0})}}function Mt(e){let t,a,r,s,l=new Date(e[0]).toLocaleString()+"";return{c(){t=D("div"),a=I("Last updated: "),r=I(l),s=I(" UTC"),this.h()},l(e){t=L(e,"DIV",{class:!0});var n=G(t);a=N(n,"Last updated: "),r=N(n,l),s=N(n," UTC"),n.forEach(x),this.h()},h(){z(t,"class","last-updated no-select svelte-gf7ypa")},m(e,l){w(e,t,l),$(t,a),$(t,r),$(t,s)},p(e,t){1&t&&l!==(l=new Date(e[0]).toLocaleString()+"")&&M(r,l)},d(e){e&&x(t)}}}function Bt(t){let a,r,s,l,n,o,i,c=null!=t[0]&&Mt(t);return{c(){a=D("div"),r=D("div"),c&&c.c(),s=k(),l=D("div"),n=D("span"),o=I("pl"),i=I("dashboard"),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{class:!0});var d=G(r);c&&c.l(d),s=S(d),l=L(d,"DIV",{class:!0});var f=G(l);n=L(f,"SPAN",{class:!0});var u=G(n);o=N(u,"pl"),u.forEach(x),i=N(f,"dashboard"),f.forEach(x),d.forEach(x),t.forEach(x),this.h()},h(){z(n,"class","pl svelte-gf7ypa"),z(l,"class","version no-select svelte-gf7ypa"),z(r,"class","teams-footer-bottom svelte-gf7ypa"),z(a,"class","teams-footer footer-text-colour svelte-gf7ypa")},m(e,t){w(e,a,t),$(a,r),c&&c.m(r,null),$(r,s),$(r,l),$(l,n),$(n,o),$(l,i)},p(e,[t]){null!=e[0]?c?c.p(e,t):(c=Mt(e),c.c(),c.m(r,s)):c&&(c.d(1),c=null)},i:e,o:e,d(e){e&&x(a),c&&c.d()}}}function Ot(e,t,a){let{lastUpdated:r}=t;return e.$$set=e=>{"lastUpdated"in e&&a(0,r=e.lastUpdated)},[r]}class jt extends ye{constructor(e){super(),ve(this,e,Ot,Bt,n,{lastUpdated:0})}}function Ht(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[5](r)},p:e,i:e,o:e,d(e){e&&x(a),t[5](null)}}}function qt(e){let t,a=e.atHome?"Home":"Away";return t=null!=e.score?`${e.team} (${a}) ${e.score.homeGoals} - ${e.score.awayGoals}`:`${e.team} (${a})`,t}function Ft(e,t,a){let[r,s,l]=function(e,t){let a=[],r=[],s=[];for(let l=1;l<=38;l++){let n=e.fixtures[t][l];a.push(new Date(n.date));let o=e.teamRatings[n.team].totalRating;n.atHome&&(o*=1-e.homeAdvantages[n.team].totalHomeAdvantage),r.push(100*o);let i=qt(n);s.push(i)}return[a,r,s]}(e,t);!function(e,t,a){let r=[];for(let s=0;s<e.length;s++)r.push({x:e[s],y:t[s],details:a[s]});r.sort((function(e,t){return e.x<t.x?-1:e.x==t.x?0:1}));for(let s=0;s<r.length;s++)e[s]=r[s].x,t[s]=r[s].y,a[s]=r[s].details}(r,s,l);let n=Array.from({length:38},((e,t)=>t+1)),o=Array(r.length).fill(13);return o=function(e,t,a,r){let s,l=Number.POSITIVE_INFINITY;for(let e=0;e<t.length;e++){let r=t[e]-a;0<r&&r<l&&(l=r,s=e)}return null!=s&&(e[s]=r),e}(o,r,a,26),{x:r,y:s,type:"scatter",mode:"lines+markers",text:l,line:{color:"#737373"},marker:{size:o,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:s,opacity:1,line:{width:1}},customdata:n,hovertemplate:"<b>%{text}</b><br>Matchday %{customdata}<br>%{x|%d %b %y}<br>Team rating: <b> %{y:.1f}%</b><extra></extra>"}}function Rt(e,t){let a={};return e<=t&&(a={type:"line",x0:e,y0:-4,x1:e,y1:104,line:{color:"black",dash:"dot",width:1}}),a}function Ut(e,t){let a=Array.from(Array(11),((e,t)=>10*t)),[r,s]=function(e){let t=new Date(e[0]);t.setDate(t.getDate()-7);let a=new Date(e[e.length-1]);return a.setDate(a.getDate()+7),[t,a]}(e);return{title:!1,autosize:!0,margin:{r:20,l:60,t:5,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Team rating"},gridcolor:"#d6d6d6",showline:!1,zeroline:!1,fixedrange:!0,ticktext:a,tickvals:a},xaxis:{linecolor:"black",showgrid:!1,showline:!1,range:[r,s],fixedrange:!0},shapes:[Rt(t,s)],dragmode:!1}}function Yt(e,t,a){function r(){if(o){let e={"yaxis.title":null,"margin.l":20,"yaxis.color":"#fafafa"},t=n.data[0].marker.size;for(let e=0;e<t.length;e++)t[e]=Math.round(t[e]/1.7);let a={marker:{size:t,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:n.data[0].y,opacity:1,line:{width:1}}};n.data[0].marker.size=t,Plotly.update(l,a,e,0)}}function s(){n=function(e,t){let a=Date.now(),r=Ft(e,t,a);return{data:[r],layout:Ut(r.x,a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(i,c),new Plotly.newPlot(l,n.data,n.layout,n.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let l,n,o=!1;q((()=>{s(),a(4,o=!0)}));let{data:i,team:c,mobileView:d}=t;return e.$$set=e=>{"data"in e&&a(1,i=e.data),"team"in e&&a(2,c=e.team),"mobileView"in e&&a(3,d=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&c&&function(){if(o){let e=Ft(i,c,Date.now());n.data[0]=e,Plotly.redraw(l),d&&r()}}(),8&e.$$.dirty&&!d&&function(){if(o){let e={"yaxis.title":{text:"Team rating"},"margin.l":60,"yaxis.color":"black"},t=n.data[0].marker.size;for(let e=0;e<t.length;e++)t[e]=Math.round(1.7*t[e]);let a={marker:{size:t,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:n.data[0].y,opacity:1,line:{width:1}}};n.data[0].marker.size=t,Plotly.update(l,a,e,0)}}(),24&e.$$.dirty&&o&&d&&r()},[l,i,c,d,o,function(e){Y[e?"unshift":"push"]((()=>{l=e,a(0,l)}))}]}class Wt extends ye{constructor(e){super(),ve(this,e,Yt,Ht,n,{data:1,team:2,mobileView:3})}}function Xt(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[7](r)},p:e,i:e,o:e,d(e){e&&x(a),t[7](null)}}}function Jt(e,t,a){let r=[],s=[];for(let a in e.form[t][e._id])null!=e.form[t][e._id][a].score&&(s.push(a),r.push(new Date(e.form[t][e._id][a].date)));let l,n=[];for(let a of s){let r=e.form[t][e._id][a].formRating5;n.push(100*r)}if(a){let e=t[0].toLowerCase()+t.slice(1);e=e.replace(/ /g,"-").toLowerCase(),l={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else l={color:"#d3d3d3"};return{x:s,y:n,name:t,mode:"lines",line:l,text:r,hovertemplate:`<b>${t}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Form: <b>%{y:.1f}%</b><extra></extra>`,showlegend:!1}}function Kt(e,t){let a=[],r=Object.keys(e.standings);for(let s=0;s<r.length;s++)if(r[s]!=t){let t=Jt(e,r[s],!1);a.push(t)}let s=Jt(e,t,!0);return a.push(s),a}function Qt(e,t,a){function r(){let e=Array.from(Array(11),((e,t)=>10*t));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,ticktext:e,tickvals:e,range:[-1,101]},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,range:[f[0],f[f.length-1]]},dragmode:!1}}function s(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(n,{},e)}}function l(e,t){return{data:Kt(e,t),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let n,o,i=!1;q((()=>{o=l(c,d),new Plotly.newPlot(n,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),setTimeout((()=>{a(1,u=!0)}),3e3),a(6,i=!0)}));let{data:c,team:d,playedDates:f,lazyLoad:u,mobileView:h}=t;return e.$$set=e=>{"data"in e&&a(2,c=e.data),"team"in e&&a(3,d=e.team),"playedDates"in e&&a(4,f=e.playedDates),"lazyLoad"in e&&a(1,u=e.lazyLoad),"mobileView"in e&&a(5,h=e.mobileView)},e.$$.update=()=>{8&e.$$.dirty&&d&&function(){if(i){let e=l(c,d);for(let t=0;t<20;t++)o.data[t]=e.data[t];o.layout.xaxis.range[0]=f[0],o.layout.xaxis.range[1]=f[f.length-1],Plotly.redraw(n),h&&s()}}(),32&e.$$.dirty&&!h&&function(){if(i){let e={"yaxis.title":{text:"Form rating"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(n,{},e)}}(),96&e.$$.dirty&&i&&h&&s()},[n,u,c,d,f,h,i,function(e){Y[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class Zt extends ye{constructor(e){super(),ve(this,e,Qt,Xt,n,{data:2,team:3,playedDates:4,lazyLoad:1,mobileView:5})}}function ea(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[6](r)},p:e,i:e,o:e,d(e){e&&x(a),t[6](null)}}}function ta(e,t,a,r){let s=Object.keys(e.form[a][e._id]),l=function(e,t,a){let r=[];for(let s of a){let a=e.form[t][e._id][s].position;r.push(a)}return r}(e,a,s),n=function(e,t){let a;if(t){let t=e[0].toLowerCase()+e.slice(1);t=t.replace(/ /g,"-").toLowerCase(),a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else a={color:"#d3d3d3"};return a}(a,r);return{x:s,y:l,name:a,mode:"lines",line:n,text:t,hovertemplate:`<b>${a}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function aa(e,t,a){let r=[],s=Object.keys(e.standings);for(let l=0;l<s.length;l++)if(s[l]!=t){let t=ta(e,a,s[l],!1);r.push(t)}let l=ta(e,a,t,!0);return r.push(l),r}function ra(e,t,a){function r(){let e=Object.keys(d.form[f][d._id]);return[{type:"rect",x0:e[0],y0:4.5,x1:e[e.length-1],y1:.5,line:{width:0},fillcolor:"#00fe87",opacity:.2,layer:"below"},{type:"rect",x0:e[0],y0:6.5,x1:e[e.length-1],y1:4.5,line:{width:0},fillcolor:"#02efff",opacity:.2,layer:"below"},{type:"rect",x0:e[0],y0:20.5,x1:e[e.length-1],y1:17.5,line:{width:0},fillcolor:"#f83027",opacity:.2,layer:"below"}]}function s(){let e=Array.from(Array(20),((e,t)=>t+1));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Position"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,autorange:"reversed",fixedrange:!0,ticktext:e,tickvals:e,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:r(),dragmode:!1}}function l(){if(c){let e={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((e,t)=>t+2)),"margin.l":20,"margin.t":5};Plotly.update(o,{},e)}}function n(e,t){return{data:aa(e,t,u),layout:s(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let o,i,c=!1;q((()=>{i=n(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(5,c=!0)}));let{data:d,team:f,playedDates:u,mobileView:h}=t;return e.$$set=e=>{"data"in e&&a(1,d=e.data),"team"in e&&a(2,f=e.team),"playedDates"in e&&a(3,u=e.playedDates),"mobileView"in e&&a(4,h=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&f&&function(){if(c){let e=n(d,f);for(let t=0;t<20;t++)i.data[t]=e.data[t];i.layout.shapes=r(),Plotly.redraw(o),h&&l()}}(),16&e.$$.dirty&&!h&&function(){if(c){let e={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((e,t)=>t+1)),"margin.l":60,"margin.t":15};Plotly.update(o,{},e)}}(),48&e.$$.dirty&&c&&h&&l()},[o,d,f,u,h,c,function(e){Y[e?"unshift":"push"]((()=>{o=e,a(0,o)}))}]}class sa extends ye{constructor(e){super(),ve(this,e,ra,ea,n,{data:1,team:2,playedDates:3,mobileView:4})}}function la(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[6](r)},p:e,i:e,o:e,d(e){e&&x(a),t[6](null)}}}function na(e,t,a,r){let s=Object.keys(e.form[a][e._id]),l=function(e,t,a){let r=[];for(let s of a){let a=e.form[t][e._id][s].cumPoints;r.push(a)}return r}(e,a,s),n=function(e,t){let a;if(t){let t=e[0].toLowerCase()+e.slice(1);t=t.replace(/ /g,"-").toLowerCase(),a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else a={color:"#d3d3d3"};return a}(a,r);return{x:s,y:l,name:a,mode:"lines",line:n,text:t,hovertemplate:`<b>${a}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function oa(e,t,a){let r=[],s=Object.keys(e.standings);for(let l=0;l<s.length;l++)if(s[l]!=t){let t=na(e,a,s[l],!1);r.push(t)}let l=na(e,a,t,!0);return r.push(l),r}function ia(e,t,a){function r(){if(o){let e={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((e,t)=>t+2)),"margin.l":20,"margin.t":5};Plotly.update(l,{},e)}}function s(e,t){return{data:oa(e,t,d),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Points"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let l,n,o=!1;q((()=>{n=s(i,c),new Plotly.newPlot(l,n.data,n.layout,n.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(5,o=!0)}));let{data:i,team:c,playedDates:d,mobileView:f}=t;return e.$$set=e=>{"data"in e&&a(1,i=e.data),"team"in e&&a(2,c=e.team),"playedDates"in e&&a(3,d=e.playedDates),"mobileView"in e&&a(4,f=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&c&&function(){if(o){let e=s(i,c);for(let t=0;t<20;t++)n.data[t]=e.data[t];Plotly.redraw(l),f&&r()}}(),16&e.$$.dirty&&!f&&function(){if(o){let e={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((e,t)=>t+1)),"margin.l":60,"margin.t":15};Plotly.update(l,{},e)}}(),48&e.$$.dirty&&o&&f&&r()},[l,i,c,d,f,o,function(e){Y[e?"unshift":"push"]((()=>{l=e,a(0,l)}))}]}class ca extends ye{constructor(e){super(),ve(this,e,ia,la,n,{data:1,team:2,playedDates:3,mobileView:4})}}function da(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[6](r)},p:e,i:e,o:e,d(e){e&&x(a),t[6](null)}}}function fa(e){let t={};for(let a of Object.keys(e.standings))for(let r of Object.keys(e.form[a][e._id])){let s=e.form[a][e._id][r].score;null!=s&&(r in t?t[r]+=s.homeGoals+s.awayGoals:t[r]=s.homeGoals+s.awayGoals)}for(let e of Object.keys(t))t[e]/=20;return t}function ua(e,t){let a={},r={};for(let s of Object.keys(e.form[t][e._id])){let l=e.form[t][e._id][s].score;null!=l&&(e.form[t][e._id][s].atHome?(a[s]=l.homeGoals,r[s]=l.awayGoals):(a[s]=l.awayGoals,r[s]=l.homeGoals))}return[a,r]}function ha(e,t,a){return{name:"Avg",type:"line",x:e,y:Object.values(t),text:a,line:{color:"#0080FF",width:2},hovertemplate:"<b>Matchday %{text}</b<br>%{y} goals<extra></extra>"}}function ma(e,t,a){return{name:"Scored",type:"bar",x:e,y:Object.values(t),text:a,marker:{color:"#00fe87"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function pa(e,t,a){return{name:"Conceded",type:"bar",x:e,y:Object.values(t),text:a,marker:{color:"#f83027"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function ga(e,t,a){function r(){if(n){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(s,{},e)}}let s,l,n=!1;q((()=>{l=function(e,t){let[a,r]=ua(e,t),s=fa(e),l=Object.keys(s);return{data:[ma(c,a,l),pa(c,r,l),ha(c,s,l)],layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:15,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,rangemode:"nonnegative",visible:!0,tickformat:"d"},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,showticklabels:!1},legend:{x:1,xanchor:"right",y:1},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(o,i),new Plotly.newPlot(s,l.data,l.layout,l.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(5,n=!0)}));let{data:o,team:i,playedDates:c,mobileView:d}=t;return e.$$set=e=>{"data"in e&&a(1,o=e.data),"team"in e&&a(2,i=e.team),"playedDates"in e&&a(3,c=e.playedDates),"mobileView"in e&&a(4,d=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&i&&function(){if(n){let[e,t]=ua(o,i),a=fa(o),n=Object.keys(a),f=ma(c,e,n),u=pa(c,t,n),h=ha(c,a,n);l.data[0]=f,l.data[1]=u,l.data[2]=h,Plotly.redraw(s),d&&r()}}(),16&e.$$.dirty&&!d&&function(){if(n){let e={"yaxis.title":{text:"Goals"},"yaxis.visible":!0,"margin.l":60};Plotly.update(s,{},e)}}(),48&e.$$.dirty&&n&&d&&r()},[s,o,i,c,d,n,function(e){Y[e?"unshift":"push"]((()=>{s=e,a(0,s)}))}]}class va extends ye{constructor(e){super(),ve(this,e,ga,da,n,{data:1,team:2,playedDates:3,mobileView:4})}}function ya(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[6](r)},p:e,i:e,o:e,d(e){e&&x(a),t[6](null)}}}function ba(e,t){let a=[];for(let r in e.form[t][e._id])null!=e.form[t][e._id][r].score&&a.push(r);return a}function $a(e,t,a,r){let[s,l]=function(e,t){let a=[],r=[];for(let s of Object.keys(e.form[t][e._id])){let l=e.form[t][e._id][s].score;null!=l&&(e.form[t][e._id][s].atHome?l.awayGoals>0?(a.push(1),r.push(0)):(r.push(1),a.push(0)):l.homeGoals>0?(a.push(1),r.push(0)):(r.push(1),a.push(0)))}return[r,a]}(e,t);return[{name:"Clean sheets",type:"bar",x:a,y:s,text:r,marker:{color:"#00fe87"},hovertemplate:"<b>Clean sheet<extra></extra>",showlegend:!1},{name:"Conceded",type:"bar",x:a,y:l,text:r,marker:{color:"#f83027"},hovertemplate:"<b>Goals conceded<extra></extra>",showlegend:!1}]}function wa(e){return{name:"Avg",type:"line",x:e,y:Array(e.length).fill(1.1),line:{color:"#FAFAFA",width:1},marker:{size:1},hoverinfo:"skip"}}function xa(e,t,a){function r(){return{type:"line",x0:f[0],y0:.5,x1:f[f.length-1],y1:.5,layer:"below",line:{color:"#d3d3d3",width:2}}}function s(e){return{title:!1,autosize:!0,height:60,margin:{r:20,l:60,t:0,b:40,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{showticklabels:!1,gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:f,ticktext:e},shapes:[r()],dragmode:!1,showlegend:!1}}function l(){if(i){let e={"margin.l":20};Plotly.update(n,{},e)}}let n,o,i=!1;q((()=>{o=function(e,t){let a=ba(e,t),[r,l]=$a(e,t,f,a);return{data:[r,l,wa(r.x)],layout:s(a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(c,d),new Plotly.newPlot(n,o.data,o.layout,o.config),a(5,i=!0)}));let{data:c,team:d,playedDates:f,mobileView:u}=t;return e.$$set=e=>{"data"in e&&a(1,c=e.data),"team"in e&&a(2,d=e.team),"playedDates"in e&&a(3,f=e.playedDates),"mobileView"in e&&a(4,u=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&d&&function(){if(i){let e=ba(c,d),[t,a]=$a(c,d,f,e),s=wa(t.x);o.data[0]=t,o.data[1]=a,o.data[2]=s;for(let t=0;t<e.length;t++)o.layout.xaxis.ticktext[t]=e[t];o.layout.shapes[0]=r(),Plotly.redraw(n),u&&l()}}(),16&e.$$.dirty&&!u&&function(){if(i){let e={"margin.l":60};Plotly.update(n,{},e)}}(),48&e.$$.dirty&&i&&u&&l()},[n,c,d,f,u,i,function(e){Y[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class Ea extends ye{constructor(e){super(),ve(this,e,xa,ya,n,{data:1,team:2,playedDates:3,mobileView:4})}}function Da(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[8](r)},p:e,i:e,o:e,d(e){e&&x(a),t[8](null)}}}function Va(e,t,a){function r(){let e=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Scored"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function s(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(n,{},e)}}function l(){o={data:d(),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(n,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let n,o,i=!1;q((()=>{l(),a(7,i=!0)}));let{team:c,getScoredBars:d,getScoredTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=t;return e.$$set=e=>{"team"in e&&a(1,c=e.team),"getScoredBars"in e&&a(2,d=e.getScoredBars),"getScoredTeamBars"in e&&a(3,f=e.getScoredTeamBars),"getXLabels"in e&&a(4,u=e.getXLabels),"getYAxisLayout"in e&&a(5,h=e.getYAxisLayout),"mobileView"in e&&a(6,m=e.mobileView)},e.$$.update=()=>{2&e.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(n,{yaxis:h()}),Plotly.redraw(n),m&&s()),64&e.$$.dirty&&!m&&function(){if(i){let e={"yaxis.title":{text:"Scored"},"yaxis.visible":!0,"margin.l":60};Plotly.update(n,{},e)}}(),192&e.$$.dirty&&i&&m&&s()},[n,c,d,f,u,h,m,i,function(e){Y[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class Ia extends ye{constructor(e){super(),ve(this,e,Va,Da,n,{team:1,getScoredBars:2,getScoredTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function ka(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[8](r)},p:e,i:e,o:e,d(e){e&&x(a),t[8](null)}}}function _a(e,t,a){function r(){let e=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Conceded"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:e,tickvals:e},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function s(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(n,{},e)}}function l(){o={data:d(),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(n,o.data,o.layout,o.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")}))}let n,o,i=!1;q((()=>{l(),a(7,i=!0)}));let{team:c,getConcededBars:d,getConcededTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=t;return e.$$set=e=>{"team"in e&&a(1,c=e.team),"getConcededBars"in e&&a(2,d=e.getConcededBars),"getConcededTeamBars"in e&&a(3,f=e.getConcededTeamBars),"getXLabels"in e&&a(4,u=e.getXLabels),"getYAxisLayout"in e&&a(5,h=e.getYAxisLayout),"mobileView"in e&&a(6,m=e.mobileView)},e.$$.update=()=>{2&e.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(n,{yaxis:h()}),Plotly.redraw(n),m&&s()),64&e.$$.dirty&&!m&&function(){if(i){let e={"yaxis.title":{text:"Conceded"},"yaxis.visible":!0,"margin.l":60};Plotly.update(n,{},e)}}(),192&e.$$.dirty&&i&&m&&s()},[n,c,d,f,u,h,m,i,function(e){Y[e?"unshift":"push"]((()=>{n=e,a(0,n)}))}]}class Ta extends ye{constructor(e){super(),ve(this,e,_a,ka,n,{team:1,getConcededBars:2,getConcededTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function za(e){let t,a,r,s,l,n;return a=new Ia({props:{team:e[0],getScoredBars:e[3],getScoredTeamBars:e[5],getXLabels:e[7],getYAxisLayout:e[8],mobileView:e[1]}}),l=new Ta({props:{team:e[0],getConcededBars:e[4],getConcededTeamBars:e[6],getXLabels:e[7],getYAxisLayout:e[8],mobileView:e[1]}}),{c(){t=D("div"),ue(a.$$.fragment),r=k(),s=D("div"),ue(l.$$.fragment),this.h()},l(e){t=L(e,"DIV",{class:!0});var n=G(t);he(a.$$.fragment,n),n.forEach(x),r=S(e),s=L(e,"DIV",{class:!0});var o=G(s);he(l.$$.fragment,o),o.forEach(x),this.h()},h(){z(t,"class","graph freq-graph mini-graph"),z(s,"class","graph freq-graph mini-graph")},m(e,o){w(e,t,o),me(a,t,null),w(e,r,o),w(e,s,o),me(l,s,null),n=!0},p(e,t){const r={};1&t&&(r.team=e[0]),2&t&&(r.mobileView=e[1]),a.$set(r);const s={};1&t&&(s.team=e[0]),2&t&&(s.mobileView=e[1]),l.$set(s)},i(e){n||(oe(a.$$.fragment,e),oe(l.$$.fragment,e),n=!0)},o(e){ie(a.$$.fragment,e),ie(l.$$.fragment,e),n=!1},d(e){e&&x(t),pe(a),e&&x(r),e&&x(s),pe(l)}}}function Ga(e){let t,a,r=e[2]&&za(e);return{c(){t=D("div"),r&&r.c(),this.h()},l(e){t=L(e,"DIV",{class:!0});var a=G(t);r&&r.l(a),a.forEach(x),this.h()},h(){z(t,"class","two-graphs svelte-4fb41e")},m(e,s){w(e,t,s),r&&r.m(t,null),a=!0},p(e,[a]){e[2]?r?(r.p(e,a),4&a&&oe(r,1)):(r=za(e),r.c(),oe(r,1),r.m(t,null)):r&&(le(),ie(r,1,1,(()=>{r=null})),ne())},i(e){a||(oe(r),a=!0)},o(e){ie(r),a=!1},d(e){e&&x(t),r&&r.d()}}}function Aa(e,t,a){let r="Score";return"Conceded"==t&&(r="Concede"),{x:Object.keys(e),y:Object.values(e),type:"bar",name:t,marker:{color:a},hovertemplate:`${r} %{x} with probability <b>%{y:.2f}</b><extra></extra>`,line:{width:0},hoverinfo:"x+y",opacity:.5}}function Ca(e,t,a,r){if(r in e.form)for(let s of Object.keys(e.form[r][a])){let l=e.form[r][a][s].score;null!=l&&(e.form[r][a][s].atHome?l.homeGoals in t?t[l.homeGoals]+=1:t[l.homeGoals]=1:l.awayGoals in t?t[l.awayGoals]+=1:t[l.awayGoals]=1)}}function La(e){let t=function(e){let t=0;for(let a in e){let e=parseInt(a);e>t&&(t=e)}return t}(e);for(let a=1;a<t;a++)a in e||(e[a]=0)}function Pa(e,t){let a={};return Ca(e,a,e._id,t),Ca(e,a,e._id-1,t),La(a),a}function Na(e,t,a,r){if(r in e.form)for(let s of Object.keys(e.form[r][a])){let l=e.form[r][a][s].score;null!=l&&(e.form[r][a][s].atHome?l.awayGoals in t?t[l.awayGoals]+=1:t[l.awayGoals]=1:l.homeGoals in t?t[l.homeGoals]+=1:t[l.homeGoals]=1)}}function Sa(e,t){let a={};return Na(e,a,e._id,t),Na(e,a,e._id-1,t),La(a),a}function Ma(e,t){for(let a of Object.values(e))a>t&&(t=a);return t}function Ba(e,t,a){let r=0;return r=Ma(e,r),r=Ma(t,r),r=Ma(a,r),r}function Oa(e){let t=0;for(let a in e)t+=e[a];return t}function ja(e,t,a){let r=Oa(e),s=Oa(t);for(let e in t)t[e]*=r/s;let l=Oa(a);for(let e in a)a[e]*=r/l}function Ha(e){let t=Oa(e);for(let a in e)e[a]/=t}function qa(e,t,a){function r(e,t,a){return[{x:Object.keys(o),y:Object.values(o),type:"bar",name:"Avg",marker:{color:"#C6C6C6"},line:{width:0},hovertemplate:"Average %{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},Aa(e,t,a)]}let s=["#00fe87","#aef23e","#ffdd00","#ff9000","#f83027"],l=(n=s,n.slice().reverse()).concat(["#00fe87","#00fe87","#00fe87","#00fe87","#00fe87"]);var n;let o,i,c,d,f=s.concat(["#f83027","#f83027","#f83027","#f83027","#f83027"]);let u=!1;q((()=>{o=function(e){let t={};for(let a of Object.keys(e.standings))Ca(e,t,e._id,a),Ca(e,t,e._id-1,a);La(t);for(let e of Object.keys(t))t[e]/=20;return t}(h),i=Pa(h,m),c=Sa(h,m),ja(o,i,c),function(e,t,a){Ha(e),Ha(t),Ha(a)}(o,i,c),d=Ba(o,i,c),a(2,u=!0)}));let{data:h,team:m,mobileView:p}=t;return e.$$set=e=>{"data"in e&&a(9,h=e.data),"team"in e&&a(0,m=e.team),"mobileView"in e&&a(1,p=e.mobileView)},e.$$.update=()=>{1&e.$$.dirty&&m&&u&&(i=Pa(h,m),c=Sa(h,m),ja(o,i,c),Ha(i),Ha(c),d=Ba(o,i,c))},[m,p,u,function(){return r(i,"Scored",l)},function(){return r(c,"Conceded",f)},function(){return Aa(i,"Scored",l)},function(){return Aa(c,"Conceded",f)},function(){return Object.keys(o)},function(){return{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,autorange:!1,range:[0,d]}},h]}class Fa extends ye{constructor(e){super(),ve(this,e,qa,Ga,n,{data:9,team:0,mobileView:1})}}function Ra(e,t,a){const r=e.slice();return r[31]=t[a],r}function Ua(e){let t,a,r,s,l=e[2](e[31])+"";return{c(){t=D("button"),a=I(l),this.h()},l(e){t=L(e,"BUTTON",{class:!0});var r=G(t);a=N(r,l),r.forEach(x),this.h()},h(){z(t,"class","spider-opp-team-btn svelte-1cvzyov")},m(l,n){w(l,t,n),$(t,a),r||(s=T(t,"click",e[8]),r=!0)},p(e,t){6&t[0]&&l!==(l=e[2](e[31])+"")&&M(a,l)},d(e){e&&x(t),r=!1,s()}}}function Ya(e){let t,a=e[31]!=e[0]&&Ua(e);return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,r){a&&a.m(e,r),w(e,t,r)},p(e,r){e[31]!=e[0]?a?a.p(e,r):(a=Ua(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&x(t)}}}function Wa(t){let a,r,s,l,n,o,i=t[1],c=[];for(let e=0;e<i.length;e+=1)c[e]=Ya(Ra(t,i,e));return{c(){a=D("div"),r=D("div"),s=D("div"),l=k(),n=D("div"),o=D("div");for(let e=0;e<c.length;e+=1)c[e].c();this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{id:!0});var i=G(r);s=L(i,"DIV",{id:!0}),G(s).forEach(x),i.forEach(x),t.forEach(x),l=S(e),n=L(e,"DIV",{class:!0});var d=G(n);o=L(d,"DIV",{class:!0,id:!0});var f=G(o);for(let e=0;e<c.length;e+=1)c[e].l(f);f.forEach(x),d.forEach(x),this.h()},h(){z(s,"id","plotDiv"),z(r,"id","plotly"),z(a,"class","spider-chart svelte-1cvzyov"),z(o,"class","spider-opp-team-btns svelte-1cvzyov"),z(o,"id","spider-opp-teams"),z(n,"class","spider-opp-team-selector svelte-1cvzyov")},m(e,i){w(e,a,i),$(a,r),$(r,s),t[7](s),w(e,l,i),w(e,n,i),$(n,o);for(let e=0;e<c.length;e+=1)c[e].m(o,null)},p(e,t){if(23&t[0]){let a;for(i=e[1],a=0;a<i.length;a+=1){const r=Ra(e,i,a);c[a]?c[a].p(r,t):(c[a]=Ya(r),c[a].c(),c[a].m(o,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=i.length}},i:e,o:e,d(e){e&&x(a),t[7](null),e&&x(l),e&&x(n),E(c,e)}}}function Xa(e){let t=e[0].toLowerCase()+e.slice(1);return t=t.replace(/ /g,"-").toLowerCase(),getComputedStyle(document.documentElement).getPropertyValue(`--${t}`)}function Ja(e,t,a){return t in e&&null!=e[t][a][1]}function Ka(e,t){let a=0;for(let r in e)e[r]=e[r]/t*100,a+=e[r];return a/Object.keys(e).length}function Qa(e){let t=0;for(let a in e)t+=e[a];return t/Object.keys(e).length}function Za(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(let s of Object.keys(e.standings)){let l=0,n=0;for(let t in e.standings[s]){let a=e.standings[s][t].gF;a>0&&(l+=a,n+=e.standings[s][t].played)}let o=null;n>0&&(o=l/n),o>a?a=o:o<r&&(r=o),t[s]=o}return[t,[r,a]]}(e);return t=function(e,t){let[a,r]=t;for(let t in e)null==e[t]?e[t]=0:e[t]=(e[t]-a)/(r-a)*100;return e}(t,a),t.avg=Qa(t),t}function er(e){let[t,a]=function(e){let t={},a=Number.NEGATIVE_INFINITY,r=Number.POSITIVE_INFINITY;for(let s of Object.keys(e.standings)){let l=0,n=0;for(let t in e.standings[s]){let a=e.standings[s][t].gA;a>0&&(l+=a,n+=e.standings[s][t].played)}let o=null;n>0&&(o=l/n),a=Math.max(a,o),r=Math.min(r,o),t[s]=o}return[t,[r,a]]}(e);return t=function(e,t){let[a,r]=t;for(let t in e)null==e[t]?e[t]=0:e[t]=100-(e[t]-a)/(r-a)*100;return e}(t,a),t.avg=Qa(t),t}function tr(e,t,a){let r=0;for(let s in e[t][a]){let l=e[t][a][s];null!=l.score&&(l.atHome&&0==l.score.awayGoals?r+=1:l.atHome||0!=l.score.homeGoals||(r+=1))}return r}function ar(e,t,a){let r=0,s=null;for(let l in e[t][a]){let n=e[t][a][l];if(null!=n.score){let e;e=n.atHome&&n.score.homeGoals>n.score.awayGoals||!n.atHome&&n.score.homeGoals<n.score.awayGoals?"win":n.atHome&&n.score.homeGoals<n.score.awayGoals||!n.atHome&&n.score.homeGoals>n.score.awayGoals?"lost":"draw",null!=s&&s==e&&(r+=1),s=e}}return r}function rr(e,t,a){let r=0,s=0;for(let l in e[t][a]){let n=e[t][a][l];null!=n.score&&(n.atHome&&n.score.homeGoals>n.score.awayGoals||!n.atHome&&n.score.homeGoals<n.score.awayGoals?(s+=1,s>r&&(r=s)):s=0)}return r}function sr(e,t){let a=e.indexOf(t);return a>-1&&e.splice(a,1),e}function lr(e,t,a,r){let s=0,l=0;for(let n in e[t][a]){let o=e[t][a][n];null!=o.score&&r.includes(o.team)&&(o.atHome&&o.score.homeGoals>o.score.awayGoals||!o.atHome&&o.score.homeGoals<o.score.awayGoals?s+=3:o.score.homeGoals==o.score.awayGoals&&(s+=1),l+=1)}return[s,l]}function nr(e,t,a){function r(){let e=n();g.data.unshift(e)}function s(e){let t=V(e.innerHTML);if(""==e.style.background){let a=t.toLowerCase().replace(/ /g,"-");e.style.background=`var(--${a})`,e.style.color=`var(--${a}-secondary)`}else e.style.background="",e.style.color="black";0==y.length&&g.data.splice(0,1),y.includes(t)?(!function(e){for(let t=0;t<g.data.length;t++)if(g.data[t].name==e){g.data.splice(t,1);break}1==y.length&&r(),Plotly.redraw(p)}(t),sr(y,t)):(!function(e){let t=Xa(e),a={name:e,type:"scatterpolar",r:[c[e],d[e],f[e],u[e],h[e],m[e]],theta:v,fill:"toself",marker:{color:t}};g.data.push(a),Plotly.redraw(p)}(t),y.push(t))}function l(e,t,a){return{name:e,type:"scatterpolar",r:t,theta:v,fill:"toself",marker:{color:a},hovertemplate:`<b>${e}</b><br>%{theta}: %{r}<extra></extra>`,hoveron:"points"}}function n(){return l("Avg",[c.avg,d.avg,f.avg,u.avg,h.avg,m.avg],"#ADADAD")}function o(e){let t=n(),a=function(e){let t=Xa(e);return l(e,[c[e],d[e],f[e],u[e],h[e],m[e]],t)}(e);return[t,a]}function i(e){c=Za(e),d=er(e),f=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let r of Object.keys(e.standings)){let s=tr(e.form,r,e._id);Ja(e.form,r,e._id-1)&&(s+=tr(e.form,r,e._id-1)),Ja(e.form,r,e._id-2)&&(s+=tr(e.form,r,e._id-2)),s>a&&(a=s),t[r]=s}return t.avg=Ka(t,a),t}(e),u=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let r of Object.keys(e.standings)){let s=ar(e.form,r,e._id);Ja(e.form,r,e._id-1)&&(s+=ar(e.form,r,e._id-1)),Ja(e.form,r,e._id-2)&&(s+=ar(e.form,r,e._id-2)),s>a&&(a=s),t[r]=s}return t.avg=Ka(t,a),t}(e),h=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let r of Object.keys(e.standings)){let s=rr(e.form,r,e._id);Ja(e.form,r,e._id-1)&&(s+=rr(e.form,r,e._id-1)),Ja(e.form,r,e._id-2)&&(s+=rr(e.form,r,e._id-2)),s>a&&(a=s),t[r]=s}return t.avg=Ka(t,a),t}(e),m=function(e){let t={},a=Number.NEGATIVE_INFINITY;for(let r of Object.keys(e.standings)){let s=["Manchester United","Liverpool","Manchester City","Arsenal","Chelsea","Tottenham Hotspur"];s=sr(s,r);let[l,n]=lr(e.form,r,e._id,s);if(Ja(e.form,r,e._id-1)){let[t,a]=lr(e.form,r,e._id-1,s);l+=t,n+=a}if(Ja(e.form,r,e._id-2)){let[t,a]=lr(e.form,r,e._id-2,s);l+=t,n+=a}l/=n,l>a&&(a=l),t[r]=l}return t.avg=Ka(t,a),t}(e)}let c,d,f,u,h,m,p,g,v=["Attack","Defence","Clean sheets","Consistency","Win streak","Vs big 6"],y=[],b=!1;function $(){if(b){let e=o(x);!function(e){let t=e.length;for(let a=0;a<t;a++)e.pop()}(g.data),g.data.push(e[0]),g.data.push(e[1]),function(){for(let e=0;e<y.length;e++){for(let e=0;e<g.data.length;e++)if(g.data[e].name==y[e]&&y[e]!=x){g.data.splice(e,1);break}1==y.length&&r(),sr(y,y[e])}Plotly.redraw(p)}(),function(){let e=document.getElementById("spider-opp-teams");for(let t=0;t<e.children.length;t++){let a=e.children[t];""!=a.style.background&&(a.style.background="",a.style.color="black")}}(),setTimeout((()=>{document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn")}),0)}}q((()=>{g=function(e,t){return i(e),{data:o(t),layout:{height:550,polar:{radialaxis:{visible:!0,range:[0,100]}},hover:"closest",margin:{t:25,b:25,l:75,r:75},showlegend:!1,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(w,x),new Plotly.newPlot(p,g.data,g.layout,g.config).then((e=>{e.children[0].children[0].classList.add("resizable-spider-chart")})),document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn"),b=!0}));let{data:w,team:x,teams:E,toAlias:D,toName:V}=t;return e.$$set=e=>{"data"in e&&a(5,w=e.data),"team"in e&&a(0,x=e.team),"teams"in e&&a(1,E=e.teams),"toAlias"in e&&a(2,D=e.toAlias),"toName"in e&&a(6,V=e.toName)},e.$$.update=()=>{1&e.$$.dirty[0]&&x&&$()},[x,E,D,p,s,w,V,function(e){Y[e?"unshift":"push"]((()=>{p=e,a(3,p)}))},e=>{s(e.target)}]}class or extends ye{constructor(e){super(),ve(this,e,nr,Wa,n,{data:5,team:0,teams:1,toAlias:2,toName:6},null,[-1,-1])}}function ir(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[5](r)},p:e,i:e,o:e,d(e){e&&x(a),t[5](null)}}}function cr(e,t,a){return t in e&&null!=e[t][a][1]}function dr(e,t,a,r){for(let s in t[a][r]){let l=t[a][r][s].score;null!=l&&(l=t[a][r][s].atHome?l.homeGoals+" - "+l.awayGoals:l.awayGoals+" - "+l.homeGoals,l in e?e[l][0]+=1:e[l]=[1])}}function fr(e,t,a,r){for(let s in t[a][r]){let l=t[a][r][s].score;null!=l&&(l=t[a][r][s].atHome?l.homeGoals+" - "+l.awayGoals:l.awayGoals+" - "+l.homeGoals,e[l][1]+=1)}}function ur(e,t,a){for(let e in a)1==a[e].length&&a[e].push(0);fr(a,e.form,t,e._id),cr(e.form,t,e._id-1)&&fr(a,e.form,t,e._id-1),cr(e.form,t,e._id-2)&&fr(a,e.form,t,e._id-2)}function hr(e){let t=Object.entries(e).sort(((e,t)=>t[1][0]-e[1][0])),a=[],r=[],s=[];for(let e=0;e<t.length;e++)a.push(t[e][0]),r.push(t[e][1][0]),s.push(t[e][1][1]);return[{x:a,y:r,type:"bar",name:"Avg",marker:{color:"#C6C6C6"},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},{x:a,y:s,type:"bar",name:"Scorelines",marker:{color:function(e){let t=[];for(let a of e){let[e,r,s]=a.split(" "),l=parseInt(e),n=parseInt(s);l>n?t.push("#00fe87"):l<n?t.push("#f83027"):t.push("#ffdd00")}return t}(a)},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y",opacity:.5}]}function mr(e){let t=0,a=0;for(let r in e)t+=e[r][0],a+=e[r][1];for(let r in e)e[r][1]*=t/a}function pr(e){let t=0,a=0;for(let r in e)t+=e[r][0],a+=e[r][1];for(let r in e)e[r][0]/=t,e[r][1]/=a}function gr(e,t,a){function r(){if(i){let e={"yaxis.title":null,"yaxis.visible":!1,"xaxis.tickfont.size":5,"margin.l":20};Plotly.update(l,{},e)}}function s(e,t){return o=function(e){let t={};for(let a in e.form)for(let r=0;r<3;r++)(0==r||cr(e.form,a,e._id-r))&&dr(t,e.form,a,e._id-r);return t}(e),ur(e,t,o),mr(o),pr(o),{data:hr(o),layout:{title:!1,autosize:!0,margin:{r:20,l:65,t:15,b:60,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Scoreline"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},legend:{x:1,xanchor:"right",y:.95},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let l,n,o,i=!1;q((()=>{n=s(c,d),new Plotly.newPlot(l,n.data,n.layout,n.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,i=!0)}));let{data:c,team:d,mobileView:f}=t;return e.$$set=e=>{"data"in e&&a(1,c=e.data),"team"in e&&a(2,d=e.team),"mobileView"in e&&a(3,f=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&d&&function(){if(i){!function(e){for(let t in e)e[t][1]=0}(o),ur(c,d,o),mr(o),pr(o);let e=hr(o);n.data[1]=e[1],Plotly.redraw(l),f&&r()}}(),8&e.$$.dirty&&!f&&function(){if(i){let e={"yaxis.title":{text:"Probability"},"yaxis.visible":!0,"xaxis.tickfont.size":12,"margin.l":65};Plotly.update(l,{},e)}}(),24&e.$$.dirty&&i&&f&&r()},[l,c,d,f,i,function(e){Y[e?"unshift":"push"]((()=>{l=e,a(0,l)}))}]}class vr extends ye{constructor(e){super(),ve(this,e,gr,ir,n,{data:1,team:2,mobileView:3})}}function yr(e,t,a){const r=e.slice();return r[9]=t[a],r[8]=a,r}function br(e,t,a){const r=e.slice();return r[6]=t[a],r[8]=a,r}function $r(e){let t,a=[],r=new Map,s=e[1];const l=e=>e[9];for(let t=0;t<s.length;t+=1){let n=yr(e,s,t),o=l(n);r.set(o,a[t]=Dr(o,n))}return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=_()},l(e){for(let t=0;t<a.length;t+=1)a[t].l(e);t=_()},m(e,r){for(let t=0;t<a.length;t+=1)a[t].m(e,r);w(e,t,r)},p(e,n){15&n&&(s=e[1],a=function(e,t,a,r,s,l,n,o,i,c,d,f){let u=e.length,h=l.length,m=u;const p={};for(;m--;)p[e[m].key]=m;const g=[],v=new Map,y=new Map;for(m=h;m--;){const e=f(s,l,m),o=a(e);let i=n.get(o);i?r&&i.p(e,t):(i=c(o,e),i.c()),v.set(o,g[m]=i),o in p&&y.set(o,Math.abs(m-p[o]))}const b=new Set,$=new Set;function w(e){oe(e,1),e.m(o,d),n.set(e.key,e),d=e.first,h--}for(;u&&h;){const t=g[h-1],a=e[u-1],r=t.key,s=a.key;t===a?(d=t.first,u--,h--):v.has(s)?!n.has(r)||b.has(r)?w(t):$.has(s)?u--:y.get(r)>y.get(s)?($.add(r),w(t)):(b.add(s),u--):(i(a,n),u--)}for(;u--;){const t=e[u];v.has(t.key)||i(t,n)}for(;h;)w(g[h-1]);return g}(a,n,l,1,e,s,r,t.parentNode,de,Dr,t,yr))},d(e){for(let t=0;t<a.length;t+=1)a[t].d(e);e&&x(t)}}}function wr(e){let t,a=e[4],r=[];for(let t=0;t<a.length;t+=1)r[t]=Vr(br(e,a,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=_()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);w(e,t,a)},p(e,s){if(16&s){let l;for(a=e[4],l=0;l<a.length;l+=1){const n=br(e,a,l);r[l]?r[l].p(n,s):(r[l]=Vr(n),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}},d(e){E(r,e),e&&x(t)}}}function xr(e){let t,a,r,s,l,n,o,i=e[2](e[9])+"";function c(){return e[5](e[9])}return{c(){t=D("button"),a=D("div"),r=D("div"),s=I(i),l=k(),this.h()},l(e){t=L(e,"BUTTON",{class:!0});var n=G(t);a=L(n,"DIV",{class:!0});var o=G(a);r=L(o,"DIV",{class:!0});var c=G(r);s=N(c,i),c.forEach(x),o.forEach(x),l=S(n),n.forEach(x),this.h()},h(){z(r,"class","team-name svelte-14hel93"),z(a,"class","team-container svelte-14hel93"),z(t,"class","team-link svelte-14hel93")},m(e,i){w(e,t,i),$(t,a),$(a,r),$(r,s),$(t,l),n||(o=T(t,"click",c),n=!0)},p(t,a){e=t,6&a&&i!==(i=e[2](e[9])+"")&&M(s,i)},d(e){e&&x(t),n=!1,o()}}}function Er(e){let t,a,r,s,l,n,o=e[2](e[9])+"";return{c(){t=D("a"),a=D("div"),r=D("div"),s=I(o),l=k(),this.h()},l(e){t=L(e,"A",{href:!0,class:!0});var n=G(t);a=L(n,"DIV",{class:!0,style:!0});var i=G(a);r=L(i,"DIV",{class:!0});var c=G(r);s=N(c,o),c.forEach(x),i.forEach(x),l=S(n),n.forEach(x),this.h()},h(){z(r,"class","this-team-name svelte-14hel93"),z(a,"class","this-team-container"),B(a,"color","var(--"+e[9].toLowerCase().replace(/ /g,"-")+"-secondary)"),B(a,"background-color","var(--"+e[9].toLowerCase().replace(/ /g,"-")+")"),z(t,"href",n="/"+e[9].toLowerCase().replace(/ /g,"-")),z(t,"class","team-link")},m(e,n){w(e,t,n),$(t,a),$(a,r),$(r,s),$(t,l)},p(e,r){6&r&&o!==(o=e[2](e[9])+"")&&M(s,o),2&r&&B(a,"color","var(--"+e[9].toLowerCase().replace(/ /g,"-")+"-secondary)"),2&r&&B(a,"background-color","var(--"+e[9].toLowerCase().replace(/ /g,"-")+")"),2&r&&n!==(n="/"+e[9].toLowerCase().replace(/ /g,"-"))&&z(t,"href",n)},d(e){e&&x(t)}}}function Dr(e,t){let a,r,s;function l(e,t){return 3&t&&(r=null),null==r&&(r=!(e[9].toLowerCase().replace(/ /g,"-")!=e[0])),r?Er:xr}let n=l(t,-1),o=n(t);return{key:e,first:null,c(){a=_(),o.c(),s=_(),this.h()},l(e){a=_(),o.l(e),s=_(),this.h()},h(){this.first=a},m(e,t){w(e,a,t),o.m(e,t),w(e,s,t)},p(e,a){n===(n=l(t=e,a))&&o?o.p(t,a):(o.d(1),o=n(t),o&&(o.c(),o.m(s.parentNode,s)))},d(e){e&&x(a),o.d(e),e&&x(s)}}}function Vr(t){let a;return{c(){a=D("div"),this.h()},l(e){a=L(e,"DIV",{class:!0,style:!0}),G(a).forEach(x),this.h()},h(){z(a,"class","placeholder svelte-14hel93"),B(a,"width",t[6]+"%")},m(e,t){w(e,a,t)},p:e,d(e){e&&x(a)}}}function Ir(t){let a,r,s,l,n,o,c,d,f,u,h,m,p,g,v;function y(e,t){return 0==e[1].length?wr:$r}let b=y(t),E=b(t);return{c(){a=D("nav"),r=D("div"),s=D("p"),l=D("span"),n=I("pl"),o=I("dashboard"),c=k(),d=D("div"),E.c(),f=k(),u=D("div"),h=D("button"),m=D("img"),this.h()},l(e){a=L(e,"NAV",{id:!0,class:!0});var t=G(a);r=L(t,"DIV",{class:!0});var i=G(r);s=L(i,"P",{});var p=G(s);l=L(p,"SPAN",{style:!0});var g=G(l);n=N(g,"pl"),g.forEach(x),o=N(p,"dashboard"),p.forEach(x),i.forEach(x),c=S(t),d=L(t,"DIV",{class:!0});var v=G(d);E.l(v),v.forEach(x),f=S(t),u=L(t,"DIV",{class:!0});var y=G(u);h=L(y,"BUTTON",{class:!0});var b=G(h);m=L(b,"IMG",{src:!0,alt:!0,class:!0}),b.forEach(x),y.forEach(x),t.forEach(x),this.h()},h(){B(l,"color","var(--green)"),z(r,"class","title no-selection svelte-14hel93"),z(d,"class","team-links svelte-14hel93"),i(m.src,p="img/arrow-bar-left.svg")||z(m,"src","img/arrow-bar-left.svg"),z(m,"alt",""),z(m,"class","svelte-14hel93"),z(h,"class","close-btn svelte-14hel93"),z(u,"class","close"),z(a,"id","navBar"),z(a,"class","svelte-14hel93")},m(e,t){w(e,a,t),$(a,r),$(r,s),$(s,l),$(l,n),$(s,o),$(a,c),$(a,d),E.m(d,null),$(a,f),$(a,u),$(u,h),$(h,m),g||(v=T(h,"click",kr),g=!0)},p(e,[t]){b===(b=y(e))&&E?E.p(e,t):(E.d(1),E=b(e),E&&(E.c(),E.m(d,null)))},i:e,o:e,d(e){e&&x(a),E.d(),g=!1,v()}}}function kr(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function _r(e,t,a){let r=[];for(let e=0;e<20;e++)r.push(35+5*Math.floor(8*Math.random()));let{team:s,teams:l,toAlias:n,switchTeam:o}=t;return e.$$set=e=>{"team"in e&&a(0,s=e.team),"teams"in e&&a(1,l=e.teams),"toAlias"in e&&a(2,n=e.toAlias),"switchTeam"in e&&a(3,o=e.switchTeam)},[s,l,n,o,r,e=>{o(e.toLowerCase().replace(/ /g,"-"))}]}class Tr extends ye{constructor(e){super(),ve(this,e,_r,Ir,n,{team:0,teams:1,toAlias:2,switchTeam:3})}}function zr(t){let a,r,s,l,n,o;return{c(){a=D("div"),r=D("div"),s=D("div"),l=D("span"),n=I("pl"),o=I("dashboard"),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{class:!0});var i=G(r);s=L(i,"DIV",{class:!0});var c=G(s);l=L(c,"SPAN",{class:!0});var d=G(l);n=N(d,"pl"),d.forEach(x),o=N(c,"dashboard"),c.forEach(x),i.forEach(x),t.forEach(x),this.h()},h(){z(l,"class","pl svelte-iu0x3p"),z(s,"class","version no-select svelte-iu0x3p"),z(r,"class","teams-footer-bottom svelte-iu0x3p"),z(a,"class","teams-footer footer-text-colour svelte-iu0x3p")},m(e,t){w(e,a,t),$(a,r),$(r,s),$(s,l),$(l,n),$(s,o)},p:e,i:e,o:e,d(e){e&&x(a)}}}class Gr extends ye{constructor(e){super(),ve(this,e,null,zr,n,{})}}function Ar(e,t,a){const r=e.slice();return r[12]=t[a],r[14]=a,r}function Cr(e,t,a){const r=e.slice();return r[15]=t[a],r[17]=a,r}function Lr(e,t,a){const r=e.slice();return r[14]=t[a],r[17]=a,r}function Pr(e,t,a){const r=e.slice();return r[12]=t[a],r[17]=a,r}function Nr(e,t,a){const r=e.slice();return r[12]=t[a],r[17]=a,r}function Sr(e,t,a){const r=e.slice();return r[15]=t[a],r[17]=a,r}function Mr(e){let t,a,r,s,l=e[3],n=[];for(let t=0;t<l.length;t+=1)n[t]=Or(Sr(e,l,t));return{c(){t=D("div"),a=D("div"),r=I("Upcoming"),s=k();for(let e=0;e<n.length;e+=1)n[e].c();this.h()},l(e){t=L(e,"DIV",{class:!0});var l=G(t);a=L(l,"DIV",{class:!0});var o=G(a);r=N(o,"Upcoming"),o.forEach(x),s=S(l);for(let e=0;e<n.length;e+=1)n[e].l(l);l.forEach(x),this.h()},h(){z(a,"class","upcoming-title svelte-zdr4ds"),z(t,"class","upcoming-matches")},m(e,l){w(e,t,l),$(t,a),$(a,r),$(t,s);for(let e=0;e<n.length;e+=1)n[e].m(t,null)},p(e,a){if(10&a){let r;for(l=e[3],r=0;r<l.length;r+=1){const s=Sr(e,l,r);n[r]?n[r].p(s,a):(n[r]=Or(s),n[r].c(),n[r].m(t,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=l.length}},d(e){e&&x(t),E(n,e)}}}function Br(e){let t,a,r=e[15].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"";return{c(){t=D("div"),a=I(r),this.h()},l(e){t=L(e,"DIV",{class:!0});var s=G(t);a=N(s,r),s.forEach(x),this.h()},h(){z(t,"class","upcoming-match-date svelte-zdr4ds")},m(e,r){w(e,t,r),$(t,a)},p(e,t){8&t&&r!==(r=e[15].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&M(a,r)},d(e){e&&x(t)}}}function Or(e){let t,a,r,s,l,n,o,i,c,d,f,u,h=0==e[17]||e[15].time.getDate()!=e[3][e[17]-1].time.getDate(),m=e[15].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"",p=e[1](e[15].home)+"",g=e[1](e[15].away)+"",v=h&&Br(e);return{c(){v&&v.c(),t=k(),a=D("div"),r=D("div"),s=I(m),l=k(),n=D("div"),o=D("div"),i=I(p),c=k(),d=D("div"),f=I(g),u=k(),this.h()},l(e){v&&v.l(e),t=S(e),a=L(e,"DIV",{class:!0});var h=G(a);r=L(h,"DIV",{class:!0});var y=G(r);s=N(y,m),y.forEach(x),l=S(h),n=L(h,"DIV",{class:!0});var b=G(n);o=L(b,"DIV",{class:!0,style:!0});var $=G(o);i=N($,p),$.forEach(x),c=S(b),d=L(b,"DIV",{class:!0,style:!0});var w=G(d);f=N(w,g),w.forEach(x),b.forEach(x),u=S(h),h.forEach(x),this.h()},h(){z(r,"class","upcoming-match-time svelte-zdr4ds"),z(o,"class","upcoming-match-home svelte-zdr4ds"),B(o,"background","var(--"+e[15].home.toLowerCase().replace(/ /g,"-")+")"),B(o,"color","var(--"+e[15].home.toLowerCase().replace(/ /g,"-")+"-secondary)"),z(d,"class","upcoming-match-away svelte-zdr4ds"),B(d,"background","var(--"+e[15].away.toLowerCase().replace(/ /g,"-")+")"),B(d,"color","var(--"+e[15].away.toLowerCase().replace(/ /g,"-")+"-secondary)"),z(n,"class","upcoming-match-teams svelte-zdr4ds"),z(a,"class","upcoming-match svelte-zdr4ds")},m(e,h){v&&v.m(e,h),w(e,t,h),w(e,a,h),$(a,r),$(r,s),$(a,l),$(a,n),$(n,o),$(o,i),$(n,c),$(n,d),$(d,f),$(a,u)},p(e,a){8&a&&(h=0==e[17]||e[15].time.getDate()!=e[3][e[17]-1].time.getDate()),h?v?v.p(e,a):(v=Br(e),v.c(),v.m(t.parentNode,t)):v&&(v.d(1),v=null),8&a&&m!==(m=e[15].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"")&&M(s,m),10&a&&p!==(p=e[1](e[15].home)+"")&&M(i,p),8&a&&B(o,"background","var(--"+e[15].home.toLowerCase().replace(/ /g,"-")+")"),8&a&&B(o,"color","var(--"+e[15].home.toLowerCase().replace(/ /g,"-")+"-secondary)"),10&a&&g!==(g=e[1](e[15].away)+"")&&M(f,g),8&a&&B(d,"background","var(--"+e[15].away.toLowerCase().replace(/ /g,"-")+")"),8&a&&B(d,"color","var(--"+e[15].away.toLowerCase().replace(/ /g,"-")+"-secondary)")},d(e){v&&v.d(e),e&&x(t),e&&x(a)}}}function jr(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,V,_,T,A,C,P,M,B,O,j,H,q,F,R,U,Y,W,X,J,K,Q,Z=e[4],ee=[];for(let t=0;t<Z.length;t+=1)ee[t]=Hr(Nr(e,Z,t));return{c(){t=D("div"),a=D("div"),r=I("Standings"),s=k(),l=D("div"),n=D("div"),o=D("div"),i=k(),c=D("div"),d=k(),f=D("div"),u=I("W"),h=k(),m=D("div"),p=I("D"),g=k(),v=D("div"),y=I("L"),b=k(),V=D("div"),_=I("GF"),T=k(),A=D("div"),C=I("GA"),P=k(),M=D("div"),B=I("GD"),O=k(),j=D("div"),H=I("Played"),q=k(),F=D("div"),R=I("Points"),U=k(),Y=D("div"),W=I("Rating"),X=k(),J=D("div"),K=I("Form"),Q=k();for(let e=0;e<ee.length;e+=1)ee[e].c();this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=N(w,"Standings"),w.forEach(x),s=S($),l=L($,"DIV",{class:!0});var E=G(l);n=L(E,"DIV",{class:!0});var D=G(n);o=L(D,"DIV",{class:!0}),G(o).forEach(x),i=S(D),c=L(D,"DIV",{class:!0}),G(c).forEach(x),d=S(D),f=L(D,"DIV",{class:!0});var I=G(f);u=N(I,"W"),I.forEach(x),h=S(D),m=L(D,"DIV",{class:!0});var k=G(m);p=N(k,"D"),k.forEach(x),g=S(D),v=L(D,"DIV",{class:!0});var z=G(v);y=N(z,"L"),z.forEach(x),b=S(D),V=L(D,"DIV",{class:!0});var Z=G(V);_=N(Z,"GF"),Z.forEach(x),T=S(D),A=L(D,"DIV",{class:!0});var te=G(A);C=N(te,"GA"),te.forEach(x),P=S(D),M=L(D,"DIV",{class:!0});var ae=G(M);B=N(ae,"GD"),ae.forEach(x),O=S(D),j=L(D,"DIV",{class:!0});var re=G(j);H=N(re,"Played"),re.forEach(x),q=S(D),F=L(D,"DIV",{class:!0});var se=G(F);R=N(se,"Points"),se.forEach(x),U=S(D),Y=L(D,"DIV",{class:!0});var le=G(Y);W=N(le,"Rating"),le.forEach(x),X=S(D),J=L(D,"DIV",{class:!0});var ne=G(J);K=N(ne,"Form"),ne.forEach(x),D.forEach(x),Q=S(E);for(let e=0;e<ee.length;e+=1)ee[e].l(E);E.forEach(x),$.forEach(x),this.h()},h(){z(a,"class","standings-title svelte-zdr4ds"),z(o,"class","standings-position svelte-zdr4ds"),z(c,"class","standings-team-name svelte-zdr4ds"),z(f,"class","standings-won bold svelte-zdr4ds"),z(m,"class","standings-drawn bold svelte-zdr4ds"),z(v,"class","standings-lost bold svelte-zdr4ds"),z(V,"class","standings-gf bold svelte-zdr4ds"),z(A,"class","standings-ga bold svelte-zdr4ds"),z(M,"class","standings-gd bold svelte-zdr4ds"),z(j,"class","standings-played bold svelte-zdr4ds"),z(F,"class","standings-points bold svelte-zdr4ds"),z(Y,"class","standings-rating bold svelte-zdr4ds"),z(J,"class","standings-form bold svelte-zdr4ds"),z(n,"class","table-row svelte-zdr4ds"),z(l,"class","standings svelte-zdr4ds"),z(t,"class","standings-table")},m(e,x){w(e,t,x),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(n,o),$(n,i),$(n,c),$(n,d),$(n,f),$(f,u),$(n,h),$(n,m),$(m,p),$(n,g),$(n,v),$(v,y),$(n,b),$(n,V),$(V,_),$(n,T),$(n,A),$(A,C),$(n,P),$(n,M),$(M,B),$(n,O),$(n,j),$(j,H),$(n,q),$(n,F),$(F,R),$(n,U),$(n,Y),$(Y,W),$(n,X),$(n,J),$(J,K),$(l,Q);for(let e=0;e<ee.length;e+=1)ee[e].m(l,null)},p(e,t){if(17&t){let a;for(Z=e[4],a=0;a<Z.length;a+=1){const r=Nr(e,Z,a);ee[a]?ee[a].p(r,t):(ee[a]=Hr(r),ee[a].c(),ee[a].m(l,null))}for(;a<ee.length;a+=1)ee[a].d(1);ee.length=Z.length}},d(e){e&&x(t),E(ee,e)}}}function Hr(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C,P,B,O,j,H,q,F,R,U,Y,W,X,J=e[12].position+"",K=e[12].team+"",Q=e[12].won+"",Z=e[12].drawn+"",ee=e[12].lost+"",te=e[12].gF+"",ae=e[12].gA+"",re=e[12].gD+"",se=e[12].played+"",le=e[12].points+"",ne=e[0].teamRatings[e[12].team].totalRating.toFixed(2)+"",oe=e[0].form[e[12].team][e[0]._id][13].formRating5.toFixed(2)+"";return{c(){t=D("div"),a=D("div"),r=I(J),s=k(),l=D("div"),n=I(K),o=k(),i=D("div"),c=I(Q),d=k(),f=D("div"),u=I(Z),h=k(),m=D("div"),p=I(ee),g=k(),v=D("div"),y=I(te),b=k(),E=D("div"),V=I(ae),_=k(),T=D("div"),A=I(re),C=k(),P=D("div"),B=I(se),O=k(),j=D("div"),H=I(le),q=k(),F=D("div"),R=I(ne),U=k(),Y=D("div"),W=I(oe),X=k(),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=N(w,J),w.forEach(x),s=S($),l=L($,"DIV",{class:!0});var D=G(l);n=N(D,K),D.forEach(x),o=S($),i=L($,"DIV",{class:!0});var I=G(i);c=N(I,Q),I.forEach(x),d=S($),f=L($,"DIV",{class:!0});var k=G(f);u=N(k,Z),k.forEach(x),h=S($),m=L($,"DIV",{class:!0});var z=G(m);p=N(z,ee),z.forEach(x),g=S($),v=L($,"DIV",{class:!0});var M=G(v);y=N(M,te),M.forEach(x),b=S($),E=L($,"DIV",{class:!0});var ie=G(E);V=N(ie,ae),ie.forEach(x),_=S($),T=L($,"DIV",{class:!0});var ce=G(T);A=N(ce,re),ce.forEach(x),C=S($),P=L($,"DIV",{class:!0});var de=G(P);B=N(de,se),de.forEach(x),O=S($),j=L($,"DIV",{class:!0});var fe=G(j);H=N(fe,le),fe.forEach(x),q=S($),F=L($,"DIV",{class:!0});var ue=G(F);R=N(ue,ne),ue.forEach(x),U=S($),Y=L($,"DIV",{class:!0});var he=G(Y);W=N(he,oe),he.forEach(x),X=S($),$.forEach(x),this.h()},h(){z(a,"class","standings-position svelte-zdr4ds"),z(l,"class","standings-team-name svelte-zdr4ds"),z(i,"class","standings-won svelte-zdr4ds"),z(f,"class","standings-drawn svelte-zdr4ds"),z(m,"class","standings-lost svelte-zdr4ds"),z(v,"class","standings-gf svelte-zdr4ds"),z(E,"class","standings-ga svelte-zdr4ds"),z(T,"class","standings-gd svelte-zdr4ds"),z(P,"class","standings-played svelte-zdr4ds"),z(j,"class","standings-points svelte-zdr4ds"),z(F,"class","standings-rating svelte-zdr4ds"),z(Y,"class","standings-form svelte-zdr4ds"),z(t,"class","table-row "+(e[17]%2==0?"grey-row":"")+" "+(e[17]<4?"cl":"")+" "+(e[17]>3&&e[17]<6?"el":"")+" "+(e[17]>16?"relegation":"")+" svelte-zdr4ds")},m(e,x){w(e,t,x),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(t,o),$(t,i),$(i,c),$(t,d),$(t,f),$(f,u),$(t,h),$(t,m),$(m,p),$(t,g),$(t,v),$(v,y),$(t,b),$(t,E),$(E,V),$(t,_),$(t,T),$(T,A),$(t,C),$(t,P),$(P,B),$(t,O),$(t,j),$(j,H),$(t,q),$(t,F),$(F,R),$(t,U),$(t,Y),$(Y,W),$(t,X)},p(e,t){16&t&&J!==(J=e[12].position+"")&&M(r,J),16&t&&K!==(K=e[12].team+"")&&M(n,K),16&t&&Q!==(Q=e[12].won+"")&&M(c,Q),16&t&&Z!==(Z=e[12].drawn+"")&&M(u,Z),16&t&&ee!==(ee=e[12].lost+"")&&M(p,ee),16&t&&te!==(te=e[12].gF+"")&&M(y,te),16&t&&ae!==(ae=e[12].gA+"")&&M(V,ae),16&t&&re!==(re=e[12].gD+"")&&M(A,re),16&t&&se!==(se=e[12].played+"")&&M(B,se),16&t&&le!==(le=e[12].points+"")&&M(H,le),17&t&&ne!==(ne=e[0].teamRatings[e[12].team].totalRating.toFixed(2)+"")&&M(R,ne),17&t&&oe!==(oe=e[0].form[e[12].team][e[0]._id][13].formRating5.toFixed(2)+"")&&M(W,oe)},d(e){e&&x(t)}}}function qr(e){let t,a,r,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,V,_,A=e[2],C=[];for(let t=0;t<A.length;t+=1)C[t]=Fr(Pr(e,A,t));let P=Array(38),M=[];for(let t=0;t<P.length;t+=1)M[t]=Rr(Lr(e,P,t));let B=e[2],O=[];for(let t=0;t<B.length;t+=1)O[t]=Yr(Ar(e,B,t));return{c(){t=D("div"),a=D("div"),r=D("button"),l=I("Rating"),o=k(),i=D("div"),c=D("button"),d=I("Form"),u=k(),h=D("div"),m=D("div");for(let e=0;e<C.length;e+=1)C[e].c();p=k(),g=D("div"),v=D("div"),y=D("div");for(let e=0;e<M.length;e+=1)M[e].c();b=k();for(let e=0;e<O.length;e+=1)O[e].c();this.h()},l(e){t=L(e,"DIV",{class:!0});var s=G(t);a=L(s,"DIV",{class:!0});var n=G(a);r=L(n,"BUTTON",{id:!0,class:!0});var f=G(r);l=N(f,"Rating"),f.forEach(x),n.forEach(x),o=S(s),i=L(s,"DIV",{class:!0});var $=G(i);c=L($,"BUTTON",{id:!0,class:!0});var w=G(c);d=N(w,"Form"),w.forEach(x),$.forEach(x),s.forEach(x),u=S(e),h=L(e,"DIV",{class:!0});var E=G(h);m=L(E,"DIV",{class:!0});var D=G(m);for(let e=0;e<C.length;e+=1)C[e].l(D);D.forEach(x),p=S(E),g=L(E,"DIV",{class:!0});var V=G(g);v=L(V,"DIV",{class:!0});var I=G(v);y=L(I,"DIV",{class:!0});var k=G(y);for(let e=0;e<M.length;e+=1)M[e].l(k);k.forEach(x),I.forEach(x),b=S(V);for(let e=0;e<O.length;e+=1)O[e].l(V);V.forEach(x),E.forEach(x),this.h()},h(){z(r,"id","rating-scale-btn"),z(r,"class",n="scale-btn "+("rating"==e[5]?"scaling-selected":"")+" svelte-zdr4ds"),z(a,"class","scale-team-ratings svelte-zdr4ds"),z(c,"id","form-scale-btn"),z(c,"class",f="scale-btn "+("form"==e[5]?"scaling-selected":"")+" svelte-zdr4ds"),z(i,"class","scale-team-form svelte-zdr4ds"),z(t,"class","scale-btns svelte-zdr4ds"),z(m,"class","fixtures-teams-container svelte-zdr4ds"),z(y,"class","fixtures-matches svelte-zdr4ds"),z(v,"class","fixtures-table-row svelte-zdr4ds"),z(g,"class","fixtures-matches-container svelte-zdr4ds"),z(h,"class","fixtures-table svelte-zdr4ds")},m(s,n){w(s,t,n),$(t,a),$(a,r),$(r,l),$(t,o),$(t,i),$(i,c),$(c,d),w(s,u,n),w(s,h,n),$(h,m);for(let e=0;e<C.length;e+=1)C[e].m(m,null);$(h,p),$(h,g),$(g,v),$(v,y);for(let e=0;e<M.length;e+=1)M[e].m(y,null);$(g,b);for(let e=0;e<O.length;e+=1)O[e].m(g,null);V||(_=[T(r,"click",e[6]),T(c,"click",e[7])],V=!0)},p(e,t){if(32&t&&n!==(n="scale-btn "+("rating"==e[5]?"scaling-selected":"")+" svelte-zdr4ds")&&z(r,"class",n),32&t&&f!==(f="scale-btn "+("form"==e[5]?"scaling-selected":"")+" svelte-zdr4ds")&&z(c,"class",f),6&t){let a;for(A=e[2],a=0;a<A.length;a+=1){const r=Pr(e,A,a);C[a]?C[a].p(r,t):(C[a]=Fr(r),C[a].c(),C[a].m(m,null))}for(;a<C.length;a+=1)C[a].d(1);C.length=A.length}if(6&t){let a;for(B=e[2],a=0;a<B.length;a+=1){const r=Ar(e,B,a);O[a]?O[a].p(r,t):(O[a]=Yr(r),O[a].c(),O[a].m(g,null))}for(;a<O.length;a+=1)O[a].d(1);O.length=B.length}},d(e){e&&x(t),e&&x(u),e&&x(h),E(C,e),E(M,e),E(O,e),V=!1,s(_)}}}function Fr(e){let t,a,r,s,l,n=e[1](e[12].team)+"";return{c(){t=D("div"),a=D("div"),r=I(n),l=k(),this.h()},l(e){t=L(e,"DIV",{class:!0});var s=G(t);a=L(s,"DIV",{class:!0,style:!0});var o=G(a);r=N(o,n),o.forEach(x),l=S(s),s.forEach(x),this.h()},h(){z(a,"class","fixtures-team svelte-zdr4ds"),z(a,"style",s="background: var(--"+e[12].team.toLowerCase().replace(/ /g,"-")+"); color: var(--"+e[12].team.toLowerCase().replace(/ /g,"-")+"-secondary); "+(0==e[17]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(e[17]==e[2].length-1?"border-radius: 0 0 0 4px;":"")),z(t,"class","fixtures-table-row svelte-zdr4ds")},m(e,s){w(e,t,s),$(t,a),$(a,r),$(t,l)},p(e,t){6&t&&n!==(n=e[1](e[12].team)+"")&&M(r,n),4&t&&s!==(s="background: var(--"+e[12].team.toLowerCase().replace(/ /g,"-")+"); color: var(--"+e[12].team.toLowerCase().replace(/ /g,"-")+"-secondary); "+(0==e[17]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(e[17]==e[2].length-1?"border-radius: 0 0 0 4px;":""))&&z(a,"style",s)},d(e){e&&x(t)}}}function Rr(t){let a,r,s=t[17]+1+"";return{c(){a=D("div"),r=I(s),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=N(t,s),t.forEach(x),this.h()},h(){z(a,"class","match svelte-zdr4ds")},m(e,t){w(e,a,t),$(a,r)},p:e,d(e){e&&x(a)}}}function Ur(e){let t,a,r,s,l=`${e[1](e[15].team)} (${e[15].atHome?"H":"A"}`;return{c(){t=D("div"),a=I(l),r=I(")\r\n                    "),this.h()},l(e){t=L(e,"DIV",{class:!0,style:!0});var s=G(t);a=N(s,l),r=N(s,")\r\n                    "),s.forEach(x),this.h()},h(){z(t,"class","match svelte-zdr4ds"),z(t,"style",s="background: "+e[15].colour+"; "+("FINISHED"==e[15].status?"filter: grayscale(100%)":"")+" "+(e[17]==e[12].matches.length-1?"border-right: 2px solid black":""))},m(e,s){w(e,t,s),$(t,a),$(t,r)},p(e,r){6&r&&l!==(l=`${e[1](e[15].team)} (${e[15].atHome?"H":"A"}`)&&M(a,l),4&r&&s!==(s="background: "+e[15].colour+"; "+("FINISHED"==e[15].status?"filter: grayscale(100%)":"")+" "+(e[17]==e[12].matches.length-1?"border-right: 2px solid black":""))&&z(t,"style",s)},d(e){e&&x(t)}}}function Yr(e){let t,a,r,s=e[12].matches,l=[];for(let t=0;t<s.length;t+=1)l[t]=Ur(Cr(e,s,t));return{c(){t=D("div"),a=D("div");for(let e=0;e<l.length;e+=1)l[e].c();r=k(),this.h()},l(e){t=L(e,"DIV",{class:!0});var s=G(t);a=L(s,"DIV",{class:!0});var n=G(a);for(let e=0;e<l.length;e+=1)l[e].l(n);n.forEach(x),r=S(s),s.forEach(x),this.h()},h(){z(a,"class","fixtures-matches svelte-zdr4ds"),z(t,"class","fixtures-table-row svelte-zdr4ds")},m(e,s){w(e,t,s),$(t,a);for(let e=0;e<l.length;e+=1)l[e].m(a,null);$(t,r)},p(e,t){if(6&t){let r;for(s=e[12].matches,r=0;r<s.length;r+=1){const n=Cr(e,s,r);l[r]?l[r].p(n,t):(l[r]=Ur(n),l[r].c(),l[r].m(a,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=s.length}},d(e){e&&x(t),E(l,e)}}}function Wr(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g=null!=e[3]&&Mr(e),v=null!=e[4]&&jr(e),y=null!=e[2]&&qr(e);return m=new Gr({}),{c(){t=D("div"),a=D("div"),r=D("div"),s=D("div"),g&&g.c(),l=k(),n=D("div"),v&&v.c(),o=k(),i=D("div"),c=D("div"),d=D("div"),f=I("Fixtures"),u=k(),y&&y.c(),h=k(),ue(m.$$.fragment),this.h()},l(e){t=L(e,"DIV",{id:!0,class:!0});var p=G(t);a=L(p,"DIV",{class:!0});var b=G(a);r=L(b,"DIV",{class:!0});var $=G(r);s=L($,"DIV",{class:!0});var w=G(s);g&&g.l(w),w.forEach(x),$.forEach(x),l=S(b),n=L(b,"DIV",{class:!0});var E=G(n);v&&v.l(E),E.forEach(x),b.forEach(x),o=S(p),i=L(p,"DIV",{class:!0});var D=G(i);c=L(D,"DIV",{class:!0});var V=G(c);d=L(V,"DIV",{class:!0});var I=G(d);f=N(I,"Fixtures"),I.forEach(x),u=S(V),y&&y.l(V),V.forEach(x),D.forEach(x),p.forEach(x),h=S(e),he(m.$$.fragment,e),this.h()},h(){z(s,"class","upcoming-matches-container"),z(r,"class","left svelte-zdr4ds"),z(n,"class","standings-container svelte-zdr4ds"),z(a,"class","row svelte-zdr4ds"),z(d,"class","fixtures-title svelte-zdr4ds"),z(c,"class","fixtures svelte-zdr4ds"),z(i,"class","row svelte-zdr4ds"),z(t,"id","page-content"),z(t,"class","svelte-zdr4ds")},m(e,b){w(e,t,b),$(t,a),$(a,r),$(r,s),g&&g.m(s,null),$(a,l),$(a,n),v&&v.m(n,null),$(t,o),$(t,i),$(i,c),$(c,d),$(d,f),$(c,u),y&&y.m(c,null),w(e,h,b),me(m,e,b),p=!0},p(e,[t]){null!=e[3]?g?g.p(e,t):(g=Mr(e),g.c(),g.m(s,null)):g&&(g.d(1),g=null),null!=e[4]?v?v.p(e,t):(v=jr(e),v.c(),v.m(n,null)):v&&(v.d(1),v=null),null!=e[2]?y?y.p(e,t):(y=qr(e),y.c(),y.m(c,null)):y&&(y.d(1),y=null)},i(e){p||(oe(m.$$.fragment,e),p=!0)},o(e){ie(m.$$.fragment,e),p=!1},d(e){e&&x(t),g&&g.d(),v&&v.d(),y&&y.d(),e&&x(h),pe(m,e)}}}function Xr(e){return e<.05?"#00fe87":e<.1?"#63fb6e":e<.15?"#8df755":e<.2?"#aef23e":e<.25?"#cbec27":e<.3?"#e6e50f":e<.35?"#ffdd00":e<.4?"#ffc400":e<.45?"#ffab00":e<.5?"#ff9000":e<.55?"#ff7400":e<.6?"#ff5618":"#f83027"}function Jr(e,t,a){let r,s,l,n="rating";q((()=>{a(3,r=function(){let e=[];for(let t in o.upcoming){let a=new Date(o.upcoming[t].date);o.upcoming[t].atHome&&e.push({time:a,home:t,away:o.upcoming[t].nextTeam})}return e.sort(((e,t)=>e.time-t.time)),e}()),a(4,s=function(){let e=[];for(let t in o.standings){let a=Object(o.standings[t][o._id]);a.team=t,e.push(a)}return e.sort(((e,t)=>e.position-t.position)),e}()),a(2,l=function(e){let t=[];for(let a of e){let e=[];for(let t in o.fixtures[a.team]){let r=o.fixtures[a.team][t],s=r.atHome?0:o.homeAdvantages[r.team].totalHomeAdvantage;e.push({team:r.team,atHome:r.atHome,status:r.status,colour:Xr(o.teamRatings[r.team].totalRating+s)})}t.push({team:a.team,matches:e})}return t}(s))}));let{data:o,mobileView:i,toInitials:c}=t;return e.$$set=e=>{"data"in e&&a(0,o=e.data),"mobileView"in e&&a(8,i=e.mobileView),"toInitials"in e&&a(1,c=e.toInitials)},e.$$.update=()=>{e.$$.dirty},[o,c,l,r,s,n,function(){if("rating"!=n){a(5,n="rating");for(let e of l)for(let t of e.matches){let e=t.atHome?0:o.homeAdvantages[t.team].totalHomeAdvantage;t.colour=Xr(o.teamRatings[t.team].totalRating+e)}a(2,l)}},function(){if("form"!=n){a(5,n="form");for(let t of l)for(let a of t.matches){let r=.5,s=Object.keys(o.form[t.team][o._id]).reverse(),l=a.atHome?0:o.homeAdvantages[a.team].totalHomeAdvantage;for(let e of s)null!=o.form[a.team][o._id][e].formRating5&&(r=o.form[a.team][o._id][e].formRating5);a.colour=(e=r+l)<.2?"#00fe87":e<.25?"#63fb6e":e<.35?"#8df755":e<.4?"#aef23e":e<.45?"#cbec27":e<.5?"#e6e50f":e<.55?"#ffdd00":e<.6?"#ffc400":e<.65?"#ffab00":e<.7?"#ff9000":e<.75?"#ff7400":e<.8?"#ff5618":"#f83027"}var e;a(2,l)}},i]}class Kr extends ye{constructor(e){super(),ve(this,e,Jr,Wr,n,{data:0,mobileView:8,toInitials:1})}}function Qr(e,t,a){const r=e.slice();return r[11]=t[a],r[13]=a,r}function Zr(e){let t,a=e[2],r=[];for(let t=0;t<a.length;t+=1)r[t]=ss(Qr(e,a,t));return{c(){t=D("div");for(let e=0;e<r.length;e+=1)r[e].c();this.h()},l(e){t=L(e,"DIV",{class:!0});var a=G(t);for(let e=0;e<r.length;e+=1)r[e].l(a);a.forEach(x),this.h()},h(){z(t,"class","team-links svelte-1d401pl")},m(e,a){w(e,t,a);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,s){if(15&s){let l;for(a=e[2],l=0;l<a.length;l+=1){const n=Qr(e,a,l);r[l]?r[l].p(n,s):(r[l]=ss(n),r[l].c(),r[l].m(t,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}},d(e){e&&x(t),E(r,e)}}}function es(e){let t;function a(e,t){return 0==e[13]||1==e[13]&&null==e[2][0]?rs:e[13]==e[2].length-1||e[13]==e[2].length-2&&null==e[2][e[2].length-1]?as:ts}let r=a(e),s=r(e);return{c(){s.c(),t=_()},l(e){s.l(e),t=_()},m(e,a){s.m(e,a),w(e,t,a)},p(e,l){r===(r=a(e))&&s?s.p(e,l):(s.d(1),s=r(e),s&&(s.c(),s.m(t.parentNode,t)))},d(e){s.d(e),e&&x(t)}}}function ts(e){let t,a,r,s,l=e[1](e[0][e[13]])+"";function n(){return e[9](e[11])}return{c(){t=D("button"),a=I(l),this.h()},l(e){t=L(e,"BUTTON",{style:!0,class:!0});var r=G(t);a=N(r,l),r.forEach(x),this.h()},h(){B(t,"color","var(--"+e[11]+"-secondary)"),B(t,"background-color","var(--"+e[11]+")"),z(t,"class","team-link svelte-1d401pl")},m(e,l){w(e,t,l),$(t,a),r||(s=T(t,"click",n),r=!0)},p(r,s){e=r,3&s&&l!==(l=e[1](e[0][e[13]])+"")&&M(a,l),4&s&&B(t,"color","var(--"+e[11]+"-secondary)"),4&s&&B(t,"background-color","var(--"+e[11]+")")},d(e){e&&x(t),r=!1,s()}}}function as(e){let t,a,r,s,l=e[1](e[0][e[13]])+"";function n(){return e[8](e[13])}return{c(){t=D("button"),a=I(l),this.h()},l(e){t=L(e,"BUTTON",{style:!0,class:!0});var r=G(t);a=N(r,l),r.forEach(x),this.h()},h(){B(t,"color","var(--"+e[2][e[13]]+"-secondary)"),B(t,"background-color","var(--"+e[2][e[13]]+")"),z(t,"class","team-link last-team svelte-1d401pl")},m(e,l){w(e,t,l),$(t,a),r||(s=T(t,"click",n),r=!0)},p(r,s){e=r,3&s&&l!==(l=e[1](e[0][e[13]])+"")&&M(a,l),4&s&&B(t,"color","var(--"+e[2][e[13]]+"-secondary)"),4&s&&B(t,"background-color","var(--"+e[2][e[13]]+")")},d(e){e&&x(t),r=!1,s()}}}function rs(e){let t,a,r,s,l=e[1](e[0][e[13]])+"";function n(){return e[7](e[13])}return{c(){t=D("button"),a=I(l),this.h()},l(e){t=L(e,"BUTTON",{style:!0,class:!0});var r=G(t);a=N(r,l),r.forEach(x),this.h()},h(){B(t,"color","var(--"+e[2][e[13]]+"-secondary)"),B(t,"background-color","var(--"+e[2][e[13]]+")"),z(t,"class","team-link first-team svelte-1d401pl")},m(e,l){w(e,t,l),$(t,a),r||(s=T(t,"click",n),r=!0)},p(r,s){e=r,3&s&&l!==(l=e[1](e[0][e[13]])+"")&&M(a,l),4&s&&B(t,"color","var(--"+e[2][e[13]]+"-secondary)"),4&s&&B(t,"background-color","var(--"+e[2][e[13]]+")")},d(e){e&&x(t),r=!1,s()}}}function ss(e){let t,a=null!=e[11]&&es(e);return{c(){a&&a.c(),t=_()},l(e){a&&a.l(e),t=_()},m(e,r){a&&a.m(e,r),w(e,t,r)},p(e,r){null!=e[11]?a?a.p(e,r):(a=es(e),a.c(),a.m(t.parentNode,t)):a&&(a.d(1),a=null)},d(e){a&&a.d(e),e&&x(t)}}}function ls(t){let a,r=null!=t[2]&&Zr(t);return{c(){a=D("nav"),r&&r.c(),this.h()},l(e){a=L(e,"NAV",{id:!0,style:!0,class:!0});var t=G(a);r&&r.l(t),t.forEach(x),this.h()},h(){z(a,"id","mobileNav"),B(a,"width","0px"),z(a,"class","svelte-1d401pl")},m(e,t){w(e,a,t),r&&r.m(a,null)},p(e,[t]){null!=e[2]?r?r.p(e,t):(r=Zr(e),r.c(),r.m(a,null)):r&&(r.d(1),r=null)},i:e,o:e,d(e){e&&x(a),r&&r.d()}}}function ns(e,t,a){function r(e){i(e),window.scrollTo(0,0),c()}let s,{hyphenatedTeam:l,teams:n,toAlias:o,switchTeam:i,toggleMobileNav:c}=t;return e.$$set=e=>{"hyphenatedTeam"in e&&a(4,l=e.hyphenatedTeam),"teams"in e&&a(0,n=e.teams),"toAlias"in e&&a(1,o=e.toAlias),"switchTeam"in e&&a(5,i=e.switchTeam),"toggleMobileNav"in e&&a(6,c=e.toggleMobileNav)},e.$$.update=()=>{17&e.$$.dirty&&l&&n.length>0&&function(){let e=[];for(let t=0;t<n.length;t++){let a=n[t].toLowerCase().replace(/ /g,"-");a!=l?e.push(a):e.push(null)}a(2,s=e)}()},[n,o,s,r,l,i,c,e=>{r(s[e])},e=>{r(s[e])},e=>{r(e)}]}class os extends ye{constructor(e){super(),ve(this,e,ns,ls,n,{hyphenatedTeam:4,teams:0,toAlias:1,switchTeam:5,toggleMobileNav:6})}}function is(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{id:!0});var t=G(a);r=L(t,"DIV",{id:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"id","plotDiv"),z(a,"id","plotly")},m(e,s){w(e,a,s),$(a,r),t[5](r)},p:e,i:e,o:e,d(e){e&&x(a),t[5](null)}}}function cs(e,t){return{x:e,y:t,type:"scatter",fill:"tozeroy",mode:"lines",name:"Conceded",line:{color:"#f83027"},hovertemplate:"%{x|%d %b %Y}<br>Avg conceded: <b>%{y:.1f}</b><extra></extra>"}}function ds(e,t){let a=function(e,t,a){let r=[];for(let s=a-1;s>=0;s--){let a=e.form[t][e._id-s];for(let e of Object.keys(a)){let t=a[e];if(null!=t.score){let a,s;t.atHome?(a=t.score.homeGoals,s=t.score.awayGoals):(a=t.score.awayGoals,s=t.score.homeGoals),r.push({date:new Date(t.date),matchday:e,scored:a,conceded:s})}}}return r}(e,t,3);a.sort((function(e,t){return e.date<t.date?-1:e.date==t.date?0:1}));let r=[],s=[],l=[];for(let e=0;e<a.length;e++)r.push(a[e].date),s.push(a[e].scored),l.push(a[e].conceded);for(let e=0;e<r.length;e++){let t=e-1,a=1;for(;t>e-5&&t>=0;)s[e]+=s[t],l[e]+=l[t],a+=1,t-=1;a>1&&(s[e]/=a,l[e]/=a)}return[r,s,l]}function fs(e,t,a){return[(r=e,s=t,{x:r,y:s,type:"scatter",fill:"tozeroy",mode:"lines",name:"Scored",line:{color:"#00fe87"},hovertemplate:"%{x|%d %b %Y}<br>Avg scored: <b>%{y:.1f}</b><extra></extra>"}),cs(e,a)];var r,s}function us(e){return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals (5-game avg)"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array"},dragmode:!1,shapes:[...e],legend:{x:1,xanchor:"right",y:.95}}}function hs(e,t){let[a,r,s]=ds(e,t),l=function(e,t){let a=[];for(let l=0;l<e.length-1;l++)r=new Date(e[l+1]),s=new Date(e[l]),Math.floor((r-s)/864e5)>60&&a.push({type:"line",x0:e[l],y0:0,x1:e[l],y1:t,line:{color:"black",dash:"dot",width:1}});var r,s;return a}(a,Math.max(Math.max(...r),Math.max(...s)));return{data:[...fs(a,r,s)],layout:us(l),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function ms(e,t,a){function r(){if(n){let e={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(s,{},e)}}let s,l,n=!1;q((()=>{l=hs(o,i),new Plotly.newPlot(s,l.data,l.layout,l.config).then((e=>{e.children[0].children[0].classList.add("resizable-graph")})),a(4,n=!0)}));let{data:o,team:i,mobileView:c}=t;return e.$$set=e=>{"data"in e&&a(1,o=e.data),"team"in e&&a(2,i=e.team),"mobileView"in e&&a(3,c=e.mobileView)},e.$$.update=()=>{4&e.$$.dirty&&i&&function(){if(n){let e=hs(o,i);l.data[0]=e.data[0],l.data[1]=e.data[1],l.layout.shapes=e.layout.shapes,Plotly.redraw(s),c&&r()}}(),8&e.$$.dirty&&!c&&function(){if(n){let e={"yaxis.title":{text:"Goals (5-game avg)"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(s,{},e)}}(),24&e.$$.dirty&&n&&c&&r()},[s,o,i,c,n,function(e){Y[e?"unshift":"push"]((()=>{s=e,a(0,s)}))}]}class ps extends ye{constructor(e){super(),ve(this,e,ms,is,n,{data:1,team:2,mobileView:3})}}const{document:gs,window:vs}=ce;function ys(t){let a,r,s,l;return{c(){a=D("button"),r=I("Select Team"),this.h()},l(e){a=L(e,"BUTTON",{id:!0,class:!0});var t=G(a);r=N(t,"Select Team"),t.forEach(x),this.h()},h(){z(a,"id","mobileNavBtn"),z(a,"class","svelte-pnntzb")},m(e,t){w(e,a,t),$(a,r),s||(l=T(a,"click",zs),s=!0)},p:e,d(e){e&&x(a),s=!1,l()}}}function bs(t){let a,r;return{c(){a=D("button"),r=I("Select Team"),this.h()},l(e){a=L(e,"BUTTON",{id:!0,style:!0,class:!0});var t=G(a);r=N(t,"Select Team"),t.forEach(x),this.h()},h(){z(a,"id","mobileNavBtn"),B(a,"cursor","default"),z(a,"class","svelte-pnntzb")},m(e,t){w(e,a,t),$(a,r)},p:e,d(e){e&&x(a)}}}function $s(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{class:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"class","loading-spinner"),z(a,"class","loading-spinner-container")},m(e,t){w(e,a,t),$(a,r)},p:e,i:e,o:e,d(e){e&&x(a)}}}function ws(e){let t,a,r,s;const l=[Es,xs],n=[];function o(e,t){return"overview"==e[0]?0:1}return t=o(e),a=n[t]=l[t](e),{c(){a.c(),r=_()},l(e){a.l(e),r=_()},m(e,a){n[t].m(e,a),w(e,r,a),s=!0},p(e,s){let i=t;t=o(e),t===i?n[t].p(e,s):(le(),ie(n[i],1,1,(()=>{n[i]=null})),ne(),a=n[t],a?a.p(e,s):(a=n[t]=l[t](e),a.c()),oe(a,1),a.m(r.parentNode,r))},i(e){s||(oe(a),s=!0)},o(e){ie(a),s=!1},d(e){n[t].d(e),e&&x(r)}}}function xs(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C,P,M,B,O;let j=Ds(e);function H(t){e[16](t)}c=new Wt({props:{data:e[9],team:e[5],mobileView:e[10]}}),h=new et({props:{data:e[9],currentMatchday:e[7],team:e[5],toInitials:Ts}}),p=new ut({props:{data:e[9],hyphenatedTeam:e[0],team:e[5],switchTeam:e[13],toAlias:e[11]}}),y=new It({props:{data:e[9],team:e[5],showBadge:_s,toAlias:e[11],toInitials:Ts,switchTeam:e[13]}});let q={data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]};void 0!==e[3]&&(q.lazyLoad=e[3]),P=new Zt({props:q}),Y.push((()=>function(e,t,a){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=a,a(e.$$.ctx[r]))}(P,"lazyLoad",H)));let F=e[3]&&Vs(e);return{c(){t=D("div"),a=D("div"),j.c(),r=k(),s=D("div"),l=D("h1"),n=I("Fixtures"),o=k(),i=D("div"),ue(c.$$.fragment),d=k(),f=D("div"),u=D("div"),ue(h.$$.fragment),m=k(),ue(p.$$.fragment),g=k(),v=D("div"),ue(y.$$.fragment),b=k(),E=D("div"),V=D("div"),_=D("h1"),T=I("Form"),A=k(),C=D("div"),ue(P.$$.fragment),B=k(),F&&F.c(),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);j.l(w),r=S(w),s=L(w,"DIV",{class:!0});var D=G(s);l=L(D,"H1",{class:!0});var I=G(l);n=N(I,"Fixtures"),I.forEach(x),o=S(D),i=L(D,"DIV",{class:!0});var k=G(i);he(c.$$.fragment,k),k.forEach(x),D.forEach(x),w.forEach(x),d=S($),f=L($,"DIV",{class:!0});var z=G(f);u=L(z,"DIV",{class:!0});var M=G(u);he(h.$$.fragment,M),m=S(M),he(p.$$.fragment,M),M.forEach(x),g=S(z),v=L(z,"DIV",{class:!0});var O=G(v);he(y.$$.fragment,O),O.forEach(x),z.forEach(x),b=S($),E=L($,"DIV",{class:!0});var H=G(E);V=L(H,"DIV",{class:!0});var q=G(V);_=L(q,"H1",{class:!0});var R=G(_);T=N(R,"Form"),R.forEach(x),A=S(q),C=L(q,"DIV",{class:!0});var U=G(C);he(P.$$.fragment,U),U.forEach(x),q.forEach(x),H.forEach(x),B=S($),F&&F.l($),$.forEach(x),this.h()},h(){z(l,"class","lowered"),z(i,"class","graph mini-graph mobile-margin"),z(s,"class","row-right fixtures-graph row-graph svelte-pnntzb"),z(a,"class","row multi-element-row small-bottom-margin svelte-pnntzb"),z(u,"class","row-left form-details svelte-pnntzb"),z(v,"class","row-right svelte-pnntzb"),z(f,"class","row multi-element-row svelte-pnntzb"),z(_,"class","lowered"),z(C,"class","graph full-row-graph svelte-pnntzb"),z(V,"class","form-graph row-graph svelte-pnntzb"),z(E,"class","row svelte-pnntzb"),z(t,"class","page-content svelte-pnntzb")},m(e,x){w(e,t,x),$(t,a),j.m(a,null),$(a,r),$(a,s),$(s,l),$(l,n),$(s,o),$(s,i),me(c,i,null),$(t,d),$(t,f),$(f,u),me(h,u,null),$(u,m),me(p,u,null),$(f,g),$(f,v),me(y,v,null),$(t,b),$(t,E),$(E,V),$(V,_),$(_,T),$(V,A),$(V,C),me(P,C,null),$(t,B),F&&F.m(t,null),O=!0},p(e,a){j.p(e,a);const r={};512&a&&(r.data=e[9]),32&a&&(r.team=e[5]),1024&a&&(r.mobileView=e[10]),c.$set(r);const s={};512&a&&(s.data=e[9]),128&a&&(s.currentMatchday=e[7]),32&a&&(s.team=e[5]),h.$set(s);const l={};512&a&&(l.data=e[9]),1&a&&(l.hyphenatedTeam=e[0]),32&a&&(l.team=e[5]),p.$set(l);const n={};512&a&&(n.data=e[9]),32&a&&(n.team=e[5]),y.$set(n);const o={};var i;512&a&&(o.data=e[9]),32&a&&(o.team=e[5]),256&a&&(o.playedDates=e[8]),1024&a&&(o.mobileView=e[10]),!M&&8&a&&(M=!0,o.lazyLoad=e[3],i=()=>M=!1,X.push(i)),P.$set(o),e[3]?F?(F.p(e,a),8&a&&oe(F,1)):(F=Vs(e),F.c(),oe(F,1),F.m(t,null)):F&&(le(),ie(F,1,1,(()=>{F=null})),ne())},i(e){O||(oe(c.$$.fragment,e),oe(h.$$.fragment,e),oe(p.$$.fragment,e),oe(y.$$.fragment,e),oe(P.$$.fragment,e),oe(F),O=!0)},o(e){ie(c.$$.fragment,e),ie(h.$$.fragment,e),ie(p.$$.fragment,e),ie(y.$$.fragment,e),ie(P.$$.fragment,e),ie(F),O=!1},d(e){e&&x(t),j.d(),pe(c),pe(h),pe(p),pe(y),pe(P),F&&F.d()}}}function Es(e){let t,a;return t=new Kr({props:{data:e[9],mobileView:e[10],toInitials:Ts}}),{c(){ue(t.$$.fragment)},l(e){he(t.$$.fragment,e)},m(e,r){me(t,e,r),a=!0},p(e,a){const r={};512&a&&(r.data=e[9]),1024&a&&(r.mobileView=e[10]),t.$set(r)},i(e){a||(oe(t.$$.fragment,e),a=!0)},o(e){ie(t.$$.fragment,e),a=!1},d(e){pe(t,e)}}}function Ds(e){let t,a,r,s,l,n,o,i,c,d,f,u,h=e[9].standings[e[5]][e[9]._id].position+"";return{c(){t=D("div"),a=D("div"),r=V("svg"),s=V("circle"),n=V("circle"),i=V("circle"),d=k(),f=D("div"),u=I(h),this.h()},l(e){t=L(e,"DIV",{class:!0});var l=G(t);a=L(l,"DIV",{class:!0});var o=G(a);r=P(o,"svg",{class:!0});var c=G(r);s=P(c,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),G(s).forEach(x),n=P(c,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),G(n).forEach(x),i=P(c,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),G(i).forEach(x),c.forEach(x),o.forEach(x),d=S(l),f=L(l,"DIV",{class:!0});var m=G(f);u=N(m,h),m.forEach(x),l.forEach(x),this.h()},h(){z(s,"cx","300"),z(s,"cy","150"),z(s,"r","100"),z(s,"stroke-width","0"),z(s,"fill",l="var(--"+e[0]+"-secondary)"),z(n,"cx","170"),z(n,"cy","170"),z(n,"r","140"),z(n,"stroke-width","0"),z(n,"fill",o="var(--"+e[0]+")"),z(i,"cx","300"),z(i,"cy","320"),z(i,"r","170"),z(i,"stroke-width","0"),z(i,"fill",c="var(--"+e[0]+")"),z(r,"class","circles-background svelte-pnntzb"),z(a,"class","circles-background-container svelte-pnntzb"),z(f,"class","position-central svelte-pnntzb"),z(t,"class","row-left position-no-badge svelte-pnntzb")},m(e,l){w(e,t,l),$(t,a),$(a,r),$(r,s),$(r,n),$(r,i),$(t,d),$(t,f),$(f,u)},p(e,t){1&t&&l!==(l="var(--"+e[0]+"-secondary)")&&z(s,"fill",l),1&t&&o!==(o="var(--"+e[0]+")")&&z(n,"fill",o),1&t&&c!==(c="var(--"+e[0]+")")&&z(i,"fill",c),544&t&&h!==(h=e[9].standings[e[5]][e[9]._id].position+"")&&M(u,h)},d(e){e&&x(t)}}}function Vs(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_,T,A,C,P,M,B,O,j,H,q,F,R,U,Y,W,X,J,K,Q,Z,ee,te,ae,re,se,le,ne,ce,de,fe,ge,ve,ye,be,$e,we,xe;return o=new sa({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),p=new ca({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),T=new va({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),B=new Ea({props:{data:e[9],team:e[5],playedDates:e[8],mobileView:e[10]}}),H=new St({props:{data:e[9],team:e[5]}}),Y=new ps({props:{data:e[9],team:e[5],mobileView:e[10]}}),ee=new Fa({props:{data:e[9],team:e[5],mobileView:e[10]}}),le=new vr({props:{data:e[9],team:e[5],mobileView:e[10]}}),be=new or({props:{data:e[9],team:e[5],teams:e[6],toAlias:e[11],toName:e[12]}}),we=new jt({props:{lastUpdated:e[9].lastUpdated}}),{c(){t=D("div"),a=D("div"),r=D("h1"),s=I("Position"),l=k(),n=D("div"),ue(o.$$.fragment),i=k(),c=D("div"),d=D("div"),f=D("h1"),u=I("Points"),h=k(),m=D("div"),ue(p.$$.fragment),g=k(),v=D("div"),y=D("div"),b=D("h1"),E=I("Goals Scored and Conceded"),V=k(),_=D("div"),ue(T.$$.fragment),A=k(),C=D("div"),P=D("div"),M=D("div"),ue(B.$$.fragment),O=k(),j=D("div"),ue(H.$$.fragment),q=k(),F=D("div"),R=D("div"),U=D("div"),ue(Y.$$.fragment),W=k(),X=D("div"),J=D("div"),K=D("h1"),Q=I("Goals Per Game"),Z=k(),ue(ee.$$.fragment),te=k(),ae=D("div"),re=D("div"),se=D("div"),ue(le.$$.fragment),ne=k(),ce=D("div"),de=D("div"),fe=D("h1"),ge=I("Team Comparison"),ve=k(),ye=D("div"),ue(be.$$.fragment),$e=k(),ue(we.$$.fragment),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=L(w,"H1",{class:!0});var D=G(r);s=N(D,"Position"),D.forEach(x),l=S(w),n=L(w,"DIV",{class:!0});var I=G(n);he(o.$$.fragment,I),I.forEach(x),w.forEach(x),$.forEach(x),i=S(e),c=L(e,"DIV",{class:!0});var k=G(c);d=L(k,"DIV",{class:!0});var z=G(d);f=L(z,"H1",{class:!0});var oe=G(f);u=N(oe,"Points"),oe.forEach(x),h=S(z),m=L(z,"DIV",{class:!0});var ie=G(m);he(p.$$.fragment,ie),ie.forEach(x),z.forEach(x),k.forEach(x),g=S(e),v=L(e,"DIV",{class:!0});var ue=G(v);y=L(ue,"DIV",{class:!0});var me=G(y);b=L(me,"H1",{class:!0});var pe=G(b);E=N(pe,"Goals Scored and Conceded"),pe.forEach(x),V=S(me),_=L(me,"DIV",{class:!0});var xe=G(_);he(T.$$.fragment,xe),xe.forEach(x),me.forEach(x),ue.forEach(x),A=S(e),C=L(e,"DIV",{class:!0});var Ee=G(C);P=L(Ee,"DIV",{class:!0});var De=G(P);M=L(De,"DIV",{class:!0});var Ve=G(M);he(B.$$.fragment,Ve),Ve.forEach(x),De.forEach(x),Ee.forEach(x),O=S(e),j=L(e,"DIV",{class:!0});var Ie=G(j);he(H.$$.fragment,Ie),Ie.forEach(x),q=S(e),F=L(e,"DIV",{class:!0});var ke=G(F);R=L(ke,"DIV",{class:!0});var _e=G(R);U=L(_e,"DIV",{class:!0});var Te=G(U);he(Y.$$.fragment,Te),Te.forEach(x),_e.forEach(x),ke.forEach(x),W=S(e),X=L(e,"DIV",{class:!0});var ze=G(X);J=L(ze,"DIV",{class:!0});var Ge=G(J);K=L(Ge,"H1",{});var Ae=G(K);Q=N(Ae,"Goals Per Game"),Ae.forEach(x),Z=S(Ge),he(ee.$$.fragment,Ge),Ge.forEach(x),ze.forEach(x),te=S(e),ae=L(e,"DIV",{class:!0});var Ce=G(ae);re=L(Ce,"DIV",{class:!0});var Le=G(re);se=L(Le,"DIV",{class:!0});var Pe=G(se);he(le.$$.fragment,Pe),Pe.forEach(x),Le.forEach(x),Ce.forEach(x),ne=S(e),ce=L(e,"DIV",{class:!0});var Ne=G(ce);de=L(Ne,"DIV",{class:!0});var Se=G(de);fe=L(Se,"H1",{});var Me=G(fe);ge=N(Me,"Team Comparison"),Me.forEach(x),ve=S(Se),ye=L(Se,"DIV",{class:!0});var Be=G(ye);he(be.$$.fragment,Be),Be.forEach(x),Se.forEach(x),Ne.forEach(x),$e=S(e),he(we.$$.fragment,e),this.h()},h(){z(r,"class","lowered"),z(n,"class","graph full-row-graph svelte-pnntzb"),z(a,"class","position-over-time-graph row-graph svelte-pnntzb"),z(t,"class","row svelte-pnntzb"),z(f,"class","lowered"),z(m,"class","graph full-row-graph svelte-pnntzb"),z(d,"class","position-over-time-graph row-graph svelte-pnntzb"),z(c,"class","row svelte-pnntzb"),z(b,"class","lowered"),z(_,"class","graph full-row-graph svelte-pnntzb"),z(y,"class","goals-scored-vs-conceded-graph row-graph svelte-pnntzb"),z(v,"class","row no-bottom-margin svelte-pnntzb"),z(M,"class","clean-sheets graph full-row-graph svelte-pnntzb"),z(P,"class","row-graph svelte-pnntzb"),z(C,"class","row svelte-pnntzb"),z(j,"class","season-stats-row svelte-pnntzb"),z(U,"class","graph full-row-graph svelte-pnntzb"),z(R,"class","row-graph svelte-pnntzb"),z(F,"class","row svelte-pnntzb"),z(J,"class","goals-freq-row row-graph svelte-pnntzb"),z(X,"class","row svelte-pnntzb"),z(se,"class","score-freq graph svelte-pnntzb"),z(re,"class","row-graph svelte-pnntzb"),z(ae,"class","row svelte-pnntzb"),z(ye,"class","spider-chart-container svelte-pnntzb"),z(de,"class","spider-chart-row row-graph svelte-pnntzb"),z(ce,"class","row svelte-pnntzb")},m(e,x){w(e,t,x),$(t,a),$(a,r),$(r,s),$(a,l),$(a,n),me(o,n,null),w(e,i,x),w(e,c,x),$(c,d),$(d,f),$(f,u),$(d,h),$(d,m),me(p,m,null),w(e,g,x),w(e,v,x),$(v,y),$(y,b),$(b,E),$(y,V),$(y,_),me(T,_,null),w(e,A,x),w(e,C,x),$(C,P),$(P,M),me(B,M,null),w(e,O,x),w(e,j,x),me(H,j,null),w(e,q,x),w(e,F,x),$(F,R),$(R,U),me(Y,U,null),w(e,W,x),w(e,X,x),$(X,J),$(J,K),$(K,Q),$(J,Z),me(ee,J,null),w(e,te,x),w(e,ae,x),$(ae,re),$(re,se),me(le,se,null),w(e,ne,x),w(e,ce,x),$(ce,de),$(de,fe),$(fe,ge),$(de,ve),$(de,ye),me(be,ye,null),w(e,$e,x),me(we,e,x),xe=!0},p(e,t){const a={};512&t&&(a.data=e[9]),32&t&&(a.team=e[5]),256&t&&(a.playedDates=e[8]),1024&t&&(a.mobileView=e[10]),o.$set(a);const r={};512&t&&(r.data=e[9]),32&t&&(r.team=e[5]),256&t&&(r.playedDates=e[8]),1024&t&&(r.mobileView=e[10]),p.$set(r);const s={};512&t&&(s.data=e[9]),32&t&&(s.team=e[5]),256&t&&(s.playedDates=e[8]),1024&t&&(s.mobileView=e[10]),T.$set(s);const l={};512&t&&(l.data=e[9]),32&t&&(l.team=e[5]),256&t&&(l.playedDates=e[8]),1024&t&&(l.mobileView=e[10]),B.$set(l);const n={};512&t&&(n.data=e[9]),32&t&&(n.team=e[5]),H.$set(n);const i={};512&t&&(i.data=e[9]),32&t&&(i.team=e[5]),1024&t&&(i.mobileView=e[10]),Y.$set(i);const c={};512&t&&(c.data=e[9]),32&t&&(c.team=e[5]),1024&t&&(c.mobileView=e[10]),ee.$set(c);const d={};512&t&&(d.data=e[9]),32&t&&(d.team=e[5]),1024&t&&(d.mobileView=e[10]),le.$set(d);const f={};512&t&&(f.data=e[9]),32&t&&(f.team=e[5]),64&t&&(f.teams=e[6]),be.$set(f);const u={};512&t&&(u.lastUpdated=e[9].lastUpdated),we.$set(u)},i(e){xe||(oe(o.$$.fragment,e),oe(p.$$.fragment,e),oe(T.$$.fragment,e),oe(B.$$.fragment,e),oe(H.$$.fragment,e),oe(Y.$$.fragment,e),oe(ee.$$.fragment,e),oe(le.$$.fragment,e),oe(be.$$.fragment,e),oe(we.$$.fragment,e),xe=!0)},o(e){ie(o.$$.fragment,e),ie(p.$$.fragment,e),ie(T.$$.fragment,e),ie(B.$$.fragment,e),ie(H.$$.fragment,e),ie(Y.$$.fragment,e),ie(ee.$$.fragment,e),ie(le.$$.fragment,e),ie(be.$$.fragment,e),ie(we.$$.fragment,e),xe=!1},d(e){e&&x(t),pe(o),e&&x(i),e&&x(c),pe(p),e&&x(g),e&&x(v),pe(T),e&&x(A),e&&x(C),pe(B),e&&x(O),e&&x(j),pe(H),e&&x(q),e&&x(F),pe(Y),e&&x(W),e&&x(X),pe(ee),e&&x(te),e&&x(ae),pe(le),e&&x(ne),e&&x(ce),pe(be),e&&x($e),pe(we,e)}}}function Is(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v=("overview"!=e[0]?e[11](e[5]):"Overview")+"";function y(e,t){return 0==e[6].length?bs:ys}a=new Tr({props:{team:e[0],teams:e[6],toAlias:e[11],switchTeam:e[13]}}),s=new os({props:{hyphenatedTeam:e[0],teams:e[6],toAlias:e[11],switchTeam:e[13],toggleMobileNav:zs}});let b=y(e),E=b(e);const V=[ws,$s],_=[];function T(e,t){return null!=e[9]?0:1}return m=T(e),p=_[m]=V[m](e),{c(){t=D("div"),ue(a.$$.fragment),r=k(),ue(s.$$.fragment),l=k(),E.c(),n=k(),o=D("div"),i=D("div"),c=D("a"),d=D("div"),f=I(v),h=k(),p.c(),this.h()},l(e){t=L(e,"DIV",{id:!0,class:!0});var u=G(t);he(a.$$.fragment,u),r=S(u),he(s.$$.fragment,u),l=S(u),E.l(u),n=S(u),o=L(u,"DIV",{id:!0,class:!0});var m=G(o);i=L(m,"DIV",{class:!0,style:!0});var g=G(i);c=L(g,"A",{class:!0,href:!0});var y=G(c);d=L(y,"DIV",{class:!0,style:!0});var b=G(d);f=N(b,v),b.forEach(x),y.forEach(x),g.forEach(x),h=S(m),p.l(m),m.forEach(x),u.forEach(x),this.h()},h(){z(d,"class","title svelte-pnntzb"),B(d,"color","var(--"+e[0]+"-secondary)"),z(c,"class","main-link no-decoration svelte-pnntzb"),z(c,"href",u="/"+e[0]),z(i,"class","header svelte-pnntzb"),B(i,"background-color","var(--"+e[0]+")"),z(o,"id","dashboard"),z(o,"class","svelte-pnntzb"),z(t,"id","team"),z(t,"class","svelte-pnntzb")},m(e,u){w(e,t,u),me(a,t,null),$(t,r),me(s,t,null),$(t,l),E.m(t,null),$(t,n),$(t,o),$(o,i),$(i,c),$(c,d),$(d,f),$(o,h),_[m].m(o,null),g=!0},p(e,r){const l={};1&r&&(l.team=e[0]),64&r&&(l.teams=e[6]),a.$set(l);const h={};1&r&&(h.hyphenatedTeam=e[0]),64&r&&(h.teams=e[6]),s.$set(h),b===(b=y(e))&&E?E.p(e,r):(E.d(1),E=b(e),E&&(E.c(),E.m(t,n))),(!g||33&r)&&v!==(v=("overview"!=e[0]?e[11](e[5]):"Overview")+"")&&M(f,v),(!g||1&r)&&B(d,"color","var(--"+e[0]+"-secondary)"),(!g||1&r&&u!==(u="/"+e[0]))&&z(c,"href",u),(!g||1&r)&&B(i,"background-color","var(--"+e[0]+")");let $=m;m=T(e),m===$?_[m].p(e,r):(le(),ie(_[$],1,1,(()=>{_[$]=null})),ne(),p=_[m],p?p.p(e,r):(p=_[m]=V[m](e),p.c()),oe(p,1),p.m(o,null))},i(e){g||(oe(a.$$.fragment,e),oe(s.$$.fragment,e),oe(p),g=!0)},o(e){ie(a.$$.fragment,e),ie(s.$$.fragment,e),ie(p),g=!1},d(e){e&&x(t),pe(a),pe(s),E.d(),_[m].d()}}}function ks(e){let t,a,r,l,n,o,i,c,d=!1,f=()=>{d=!1};return Q(e[14]),Q(e[15]),gs.title=a=e[4],n=new Pe({props:{$$slots:{default:[Is]},$$scope:{ctx:e}}}),{c(){r=D("meta"),l=k(),ue(n.$$.fragment),this.h()},l(e){const t=O('[data-svelte="svelte-1b9t1l7"]',gs.head);r=L(t,"META",{name:!0,content:!0}),t.forEach(x),l=S(e),he(n.$$.fragment,e),this.h()},h(){z(r,"name","description"),z(r,"content","Premier League Statistics Dashboard")},m(a,s){$(gs.head,r),w(a,l,s),me(n,a,s),o=!0,i||(c=[T(vs,"resize",e[14]),T(vs,"scroll",(()=>{d=!0,clearTimeout(t),t=setTimeout(f,100),e[15]()}))],i=!0)},p(e,[r]){2&r&&!d&&(d=!0,clearTimeout(t),scrollTo(vs.pageXOffset,e[1]),t=setTimeout(f,100)),(!o||16&r)&&a!==(a=e[4])&&(gs.title=a);const s={};1050601&r&&(s.$$scope={dirty:r,ctx:e}),n.$set(s)},i(e){o||(oe(n.$$.fragment,e),o=!0)},o(e){ie(n.$$.fragment,e),o=!1},d(e){x(r),e&&x(l),pe(n,e),i=!1,s(c)}}}const _s=!1;function Ts(e){switch(e){case"Brighton and Hove Albion":return"BHA";case"Manchester City":return"MCI";case"Manchester United":return"MUN";case"Aston Villa":return"AVL";case"Sheffield United":return"SHU";case"West Bromwich Albion":return"WBA";case"West Ham United":return"WHU"}return e.slice(0,3).toUpperCase()}function zs(){let e=document.getElementById("mobileNav");"0px"==e.style.width?(e.style.animation="appear 0.1s ease-in 1",e.style.width="100%"):(e.style.animation=null,e.style.width="0px")}function Gs(e){return e.toLowerCase().split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})).join(" ").replace("And","and")}function As(e,t){let a=function(e,t){let a=[];for(let r in e.form[t][e._id])null!=e.form[t][e._id][r].score&&a.push(r);return a}(e,t);0==a.length&&(a=Object.keys(e.fixtures[t]));let r=[];for(let t=0;t<a.length;t++){let s=[];for(let r in e.standings)s.push(new Date(e.fixtures[r][a[t]].date));s.sort(),r.push(s[Math.floor(s.length/2)])}return r.sort((function(e,t){return e-t})),r}function Cs(e,t){let a=Object.keys(e.form[t][e._id]).reverse();if(a.length>0)for(let r of a)if(null!=e.form[t][e._id][r].score)return r;return null}function Ls(e,t,a){let r,s,l={"Wolverhampton Wanderers":"Wolves","Tottenham Hotspur":"Spurs","Leeds United":"Leeds","West Ham United":"West Ham","Brighton and Hove Albion":"Brighton"};function n(){"overview"==p?(a(5,h="Overview"),a(4,u=`Dashboard | ${h}`),a(0,p="overview")):null!=p&&(a(5,h=Gs(p.replace(/\-/g," "))),a(4,u=`Dashboard | ${h}`)),async function(e){const t=await fetch(e);return await t.json()}("https://pldashboard-backend.vercel.app/api/teams").then((e=>{a(6,m=Object.keys(e.standings)),null==p?(a(5,h=m[0]),a(4,u=`Dashboard | ${h}`),a(0,p=h.toLowerCase().replace(/ /g,"-")),history.pushState({},null,window.location.href+p)):"Overview"==h||m.includes(h)||(window.location.href="/error"),"Overview"!=h&&(a(7,i=Cs(e,h)),a(8,c=As(e,h))),a(9,d=e),console.log(d)})).then((()=>{window.dispatchEvent(new Event("resize"))}))}let o,i,c,d,f=!1,u="Dashboard",h="",m=[];q((()=>{n()}));let{hyphenatedTeam:p}=t;return e.$$set=e=>{"hyphenatedTeam"in e&&a(0,p=e.hyphenatedTeam)},e.$$.update=()=>{2&e.$$.dirty&&s>30&&(a(3,f=!0),window.dispatchEvent(new Event("resize"))),4&e.$$.dirty&&a(10,r=o<=700)},[p,s,o,f,u,h,m,i,c,d,r,function(e){return e in l?l[e]:e},function(e){return Object.values(l).includes(e)?Object.keys(l).find((t=>l[t]===e)):e},function(e){a(0,p=e),"overview"==p?(a(5,h="Overview"),a(4,u=`Dashboard | ${h}`)):(a(5,h=Gs(p.replace(/\-/g," "))),a(4,u=`Dashboard | ${h}`),a(7,i=Cs(d,h)),a(8,c=As(d,h))),window.history.pushState(null,null,p)},function(){a(2,o=vs.innerWidth)},function(){a(1,s=vs.pageYOffset)},function(e){f=e,a(3,f)}]}class Ps extends ye{constructor(e){super(),ve(this,e,Ls,ks,n,{hyphenatedTeam:0})}}function Ns(t){let a,r,s,l,n,o,c,d,f,u,h,m,p;return{c(){a=D("div"),r=D("div"),s=D("div"),l=k(),n=D("img"),c=k(),d=D("div"),f=D("a"),u=I("Dashboard"),h=k(),m=D("a"),p=I("Fantasy"),this.h()},l(e){a=L(e,"DIV",{id:!0,class:!0});var t=G(a);r=L(t,"DIV",{class:!0});var o=G(r);s=L(o,"DIV",{id:!0,class:!0}),G(s).forEach(x),l=S(o),n=L(o,"IMG",{src:!0,alt:!0,class:!0}),c=S(o),d=L(o,"DIV",{class:!0});var i=G(d);f=L(i,"A",{class:!0,href:!0});var g=G(f);u=N(g,"Dashboard"),g.forEach(x),h=S(i),m=L(i,"A",{class:!0,href:!0});var v=G(m);p=N(v,"Fantasy"),v.forEach(x),i.forEach(x),o.forEach(x),t.forEach(x),this.h()},h(){z(s,"id","circle"),z(s,"class","svelte-1ho2fee"),i(n.src,o="img/pldashboard5.png")||z(n,"src","img/pldashboard5.png"),z(n,"alt","pldashboard"),z(n,"class","svelte-1ho2fee"),z(f,"class","dashboard-link svelte-1ho2fee"),z(f,"href","/"),z(m,"class","fantasy-link svelte-1ho2fee"),z(m,"href","/"),z(d,"class","links svelte-1ho2fee"),z(r,"class","content svelte-1ho2fee"),z(a,"id","home"),z(a,"class","svelte-1ho2fee")},m(e,t){w(e,a,t),$(a,r),$(r,s),$(r,l),$(r,n),$(r,c),$(r,d),$(d,f),$(f,u),$(d,h),$(d,m),$(m,p)},p:e,d(e){e&&x(a)}}}function Ss(e){let t,a,r,s;return r=new Pe({props:{$$slots:{default:[Ns]},$$scope:{ctx:e}}}),{c(){t=D("meta"),a=k(),ue(r.$$.fragment),this.h()},l(e){const s=O('[data-svelte="svelte-96hcuw"]',document.head);t=L(s,"META",{name:!0,content:!0}),s.forEach(x),a=S(e),he(r.$$.fragment,e),this.h()},h(){document.title="Premier League Dashboard",z(t,"name","description"),z(t,"content","Premier League Statistics Dashboard")},m(e,l){$(document.head,t),w(e,a,l),me(r,e,l),s=!0},p(e,[t]){const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),r.$set(a)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){ie(r.$$.fragment,e),s=!1},d(e){x(t),e&&x(a),pe(r,e)}}}class Ms extends ye{constructor(e){super(),ve(this,e,null,Ss,n,{})}}const{document:Bs}=ce;function Os(e,t,a){const r=e.slice();return r[2]=t[a]._id,r[3]=t[a].predictions,r}function js(e,t,a){const r=e.slice();return r[6]=t[a],r}function Hs(t){let a,r;return{c(){a=D("div"),r=D("div"),this.h()},l(e){a=L(e,"DIV",{class:!0});var t=G(a);r=L(t,"DIV",{class:!0}),G(r).forEach(x),t.forEach(x),this.h()},h(){z(r,"class","loading-spinner"),z(a,"class","loading-spinner-container")},m(e,t){w(e,a,t),$(a,r)},p:e,d(e){e&&x(a)}}}function qs(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b=(100*e[0].accuracy.scoreAccuracy).toFixed(2)+"",E=(100*e[0].accuracy.resultAccuracy).toFixed(2)+"",V=null!=e[0].predictions&&Fs(e);return{c(){t=D("div"),a=D("div"),r=D("div"),s=D("span"),l=I("Predicting with accuracy: "),n=D("b"),o=I(b),i=I("%"),c=D("br"),d=k(),f=D("div"),u=I("General results accuracy: "),h=D("b"),m=I(E),p=I("%"),g=k(),v=D("div"),y=D("div"),V&&V.c(),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=L(w,"DIV",{class:!0});var D=G(r);s=L(D,"SPAN",{class:!0});var I=G(s);l=N(I,"Predicting with accuracy: "),n=L(I,"B",{});var k=G(n);o=N(k,b),i=N(k,"%"),k.forEach(x),I.forEach(x),c=L(D,"BR",{}),d=S(D),f=L(D,"DIV",{class:!0});var _=G(f);u=N(_,"General results accuracy: "),h=L(_,"B",{});var T=G(h);m=N(T,E),p=N(T,"%"),T.forEach(x),_.forEach(x),D.forEach(x),w.forEach(x),g=S($),v=L($,"DIV",{class:!0});var z=G(v);y=L(z,"DIV",{class:!0});var A=G(y);V&&V.l(A),A.forEach(x),z.forEach(x),$.forEach(x),this.h()},h(){z(s,"class","accuracy-item svelte-1qm3m7y"),z(f,"class","accuracy-item svelte-1qm3m7y"),z(r,"class","accuracy svelte-1qm3m7y"),z(a,"class","accuracy-display svelte-1qm3m7y"),z(y,"class","predictions svelte-1qm3m7y"),z(v,"class","predictions-container svelte-1qm3m7y"),z(t,"class","page-content svelte-1qm3m7y")},m(e,b){w(e,t,b),$(t,a),$(a,r),$(r,s),$(s,l),$(s,n),$(n,o),$(n,i),$(r,c),$(r,d),$(r,f),$(f,u),$(f,h),$(h,m),$(h,p),$(t,g),$(t,v),$(v,y),V&&V.m(y,null)},p(e,t){1&t&&b!==(b=(100*e[0].accuracy.scoreAccuracy).toFixed(2)+"")&&M(o,b),1&t&&E!==(E=(100*e[0].accuracy.resultAccuracy).toFixed(2)+"")&&M(m,E),null!=e[0].predictions?V?V.p(e,t):(V=Fs(e),V.c(),V.m(y,null)):V&&(V.d(1),V=null)},d(e){e&&x(t),V&&V.d()}}}function Fs(e){let t,a=e[0].predictions,r=[];for(let t=0;t<a.length;t+=1)r[t]=Xs(Os(e,a,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=_()},l(e){for(let t=0;t<r.length;t+=1)r[t].l(e);t=_()},m(e,a){for(let t=0;t<r.length;t+=1)r[t].m(e,a);w(e,t,a)},p(e,s){if(1&s){let l;for(a=e[0].predictions,l=0;l<a.length;l+=1){const n=Os(e,a,l);r[l]?r[l].p(n,s):(r[l]=Xs(n),r[l].c(),r[l].m(t.parentNode,t))}for(;l<r.length;l+=1)r[l].d(1);r.length=a.length}},d(e){E(r,e),e&&x(t)}}}function Rs(e){let t,a,r=el(e[6].datetime)+"";return{c(){t=D("div"),a=I(r),this.h()},l(e){t=L(e,"DIV",{class:!0});var s=G(t);a=N(s,r),s.forEach(x),this.h()},h(){z(t,"class","prediction-time svelte-1qm3m7y")},m(e,r){w(e,t,r),$(t,a)},p(e,t){1&t&&r!==(r=el(e[6].datetime)+"")&&M(a,r)},d(e){e&&x(t)}}}function Us(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g=e[6].home+"",v=e[6].actual.homeGoals+"",y=e[6].actual.awayGoals+"",b=e[6].away+"";return{c(){t=D("div"),a=D("div"),r=I("Actual:"),s=k(),l=D("div"),n=D("div"),o=I(g),i=k(),c=D("div"),d=I(v),f=I(" - "),u=I(y),h=k(),m=D("div"),p=I(b),this.h()},l(e){t=L(e,"DIV",{class:!0});var $=G(t);a=L($,"DIV",{class:!0});var w=G(a);r=N(w,"Actual:"),w.forEach(x),s=S($),l=L($,"DIV",{class:!0});var E=G(l);n=L(E,"DIV",{class:!0});var D=G(n);o=N(D,g),D.forEach(x),i=S(E),c=L(E,"DIV",{class:!0});var V=G(c);d=N(V,v),f=N(V," - "),u=N(V,y),V.forEach(x),h=S(E),m=L(E,"DIV",{class:!0});var I=G(m);p=N(I,b),I.forEach(x),E.forEach(x),$.forEach(x),this.h()},h(){z(a,"class","prediction-label svelte-1qm3m7y"),z(n,"class","prediction-initials svelte-1qm3m7y"),z(c,"class","prediction-score svelte-1qm3m7y"),z(m,"class","prediction-initials svelte-1qm3m7y"),z(l,"class","prediction-value svelte-1qm3m7y"),z(t,"class","actual prediction-item svelte-1qm3m7y")},m(e,g){w(e,t,g),$(t,a),$(a,r),$(t,s),$(t,l),$(l,n),$(n,o),$(l,i),$(l,c),$(c,d),$(c,f),$(c,u),$(l,h),$(l,m),$(m,p)},p(e,t){1&t&&g!==(g=e[6].home+"")&&M(o,g),1&t&&v!==(v=e[6].actual.homeGoals+"")&&M(d,v),1&t&&y!==(y=e[6].actual.awayGoals+"")&&M(u,y),1&t&&b!==(b=e[6].away+"")&&M(p,b)},d(e){e&&x(t)}}}function Ys(e){let t,a,r,s,l,n,o,i=e[6].prediction.homeGoals+"",c=e[6].prediction.awayGoals+"";return{c(){t=D("div"),a=D("div"),r=D("b"),s=I(i),l=I(" - "),n=I(c),this.h()},l(e){t=L(e,"DIV",{class:!0,id:!0});var o=G(t);a=L(o,"DIV",{class:!0});var d=G(a);r=L(d,"B",{});var f=G(r);s=N(f,i),l=N(f," - "),n=N(f,c),f.forEach(x),d.forEach(x),o.forEach(x),this.h()},h(){z(a,"class","detailed-predicted-score svelte-1qm3m7y"),z(t,"class","prediction-details svelte-1qm3m7y"),z(t,"id",o=e[6]._id)},m(e,o){w(e,t,o),$(t,a),$(a,r),$(r,s),$(r,l),$(r,n)},p(e,a){1&a&&i!==(i=e[6].prediction.homeGoals+"")&&M(s,i),1&a&&c!==(c=e[6].prediction.awayGoals+"")&&M(n,c),1&a&&o!==(o=e[6]._id)&&z(t,"id",o)},d(e){e&&x(t)}}}function Ws(e){let t,a,r,s,l,n,o,i,c,d,f,u,h,m,p,g,v,y,b,E,V,_=e[6].home+"",A=Math.round(e[6].prediction.homeGoals)+"",C=Math.round(e[6].prediction.awayGoals)+"",P=e[6].away+"";function B(e,t){return null!=e[6].actual?Us:Rs}let O=B(e),j=O(e),H=null!=e[6].prediction&&Ys(e);function q(){return e[1](e[6])}return{c(){t=D("button"),a=D("div"),r=D("div"),s=I("Predicted:"),l=k(),n=D("div"),o=D("div"),i=I(_),c=k(),d=D("div"),f=I(A),u=I(" - "),h=I(C),m=k(),p=D("div"),g=I(P),v=k(),j.c(),y=k(),H&&H.c(),this.h()},l(e){t=L(e,"BUTTON",{class:!0});var b=G(t);a=L(b,"DIV",{class:!0});var $=G(a);r=L($,"DIV",{class:!0});var w=G(r);s=N(w,"Predicted:"),w.forEach(x),l=S($),n=L($,"DIV",{class:!0});var E=G(n);o=L(E,"DIV",{class:!0});var D=G(o);i=N(D,_),D.forEach(x),c=S(E),d=L(E,"DIV",{class:!0});var V=G(d);f=N(V,A),u=N(V," - "),h=N(V,C),V.forEach(x),m=S(E),p=L(E,"DIV",{class:!0});var I=G(p);g=N(I,P),I.forEach(x),E.forEach(x),$.forEach(x),v=S(b),j.l(b),y=S(b),H&&H.l(b),b.forEach(x),this.h()},h(){z(r,"class","prediction-label svelte-1qm3m7y"),z(o,"class","prediction-initials svelte-1qm3m7y"),z(d,"class","prediction-score svelte-1qm3m7y"),z(p,"class","prediction-initials svelte-1qm3m7y"),z(n,"class","prediction-value svelte-1qm3m7y"),z(a,"class","prediction prediction-item svelte-1qm3m7y"),z(t,"class",b="prediction-container "+e[6].colour+" svelte-1qm3m7y")},m(e,b){w(e,t,b),$(t,a),$(a,r),$(r,s),$(a,l),$(a,n),$(n,o),$(o,i),$(n,c),$(n,d),$(d,f),$(d,u),$(d,h),$(n,m),$(n,p),$(p,g),$(t,v),j.m(t,null),$(t,y),H&&H.m(t,null),E||(V=T(t,"click",q),E=!0)},p(a,r){e=a,1&r&&_!==(_=e[6].home+"")&&M(i,_),1&r&&A!==(A=Math.round(e[6].prediction.homeGoals)+"")&&M(f,A),1&r&&C!==(C=Math.round(e[6].prediction.awayGoals)+"")&&M(h,C),1&r&&P!==(P=e[6].away+"")&&M(g,P),O===(O=B(e))&&j?j.p(e,r):(j.d(1),j=O(e),j&&(j.c(),j.m(t,y))),null!=e[6].prediction?H?H.p(e,r):(H=Ys(e),H.c(),H.m(t,null)):H&&(H.d(1),H=null),1&r&&b!==(b="prediction-container "+e[6].colour+" svelte-1qm3m7y")&&z(t,"class",b)},d(e){e&&x(t),j.d(),H&&H.d(),E=!1,V()}}}function Xs(e){let t,a,r,s,l,n,o,i=e[2]+"",c=e[3],d=[];for(let t=0;t<c.length;t+=1)d[t]=Ws(js(e,c,t));return{c(){t=D("div"),a=I(i),r=k(),s=D("div"),l=k();for(let e=0;e<d.length;e+=1)d[e].c();n=k(),o=D("div"),this.h()},l(e){t=L(e,"DIV",{class:!0});var c=G(t);a=N(c,i),c.forEach(x),r=S(e),s=L(e,"DIV",{class:!0}),G(s).forEach(x),l=S(e);for(let t=0;t<d.length;t+=1)d[t].l(e);n=S(e),o=L(e,"DIV",{class:!0}),G(o).forEach(x),this.h()},h(){z(t,"class","date svelte-1qm3m7y"),z(s,"class","medium-predictions-divider svelte-1qm3m7y"),z(o,"class","predictions-gap svelte-1qm3m7y")},m(e,i){w(e,t,i),$(t,a),w(e,r,i),w(e,s,i),w(e,l,i);for(let t=0;t<d.length;t+=1)d[t].m(e,i);w(e,n,i),w(e,o,i)},p(e,t){if(1&t&&i!==(i=e[2]+"")&&M(a,i),1&t){let a;for(c=e[3],a=0;a<c.length;a+=1){const r=js(e,c,a);d[a]?d[a].p(r,t):(d[a]=Ws(r),d[a].c(),d[a].m(n.parentNode,n))}for(;a<d.length;a+=1)d[a].d(1);d.length=c.length}},d(e){e&&x(t),e&&x(r),e&&x(s),e&&x(l),E(d,e),e&&x(n),e&&x(o)}}}function Js(e){let t,a,r,s,l;function n(e,t){return null!=e[0]?qs:Hs}let o=n(e),i=o(e);return{c(){t=D("div"),a=D("div"),r=D("a"),s=I("Predictions"),l=k(),i.c(),this.h()},l(e){t=L(e,"DIV",{id:!0,class:!0});var n=G(t);a=L(n,"DIV",{class:!0});var o=G(a);r=L(o,"A",{class:!0,href:!0});var c=G(r);s=N(c,"Predictions"),c.forEach(x),o.forEach(x),l=S(n),i.l(n),n.forEach(x),this.h()},h(){z(r,"class","predictions-title svelte-1qm3m7y"),z(r,"href","/predictions"),z(a,"class","predictions-header svelte-1qm3m7y"),z(t,"id","predictions"),z(t,"class","svelte-1qm3m7y")},m(e,n){w(e,t,n),$(t,a),$(a,r),$(r,s),$(t,l),i.m(t,null)},p(e,a){o===(o=n(e))&&i?i.p(e,a):(i.d(1),i=o(e),i&&(i.c(),i.m(t,null)))},d(e){e&&x(t),i.d()}}}function Ks(e){let t,a,r,s;return r=new Pe({props:{$$slots:{default:[Js]},$$scope:{ctx:e}}}),{c(){t=D("meta"),a=k(),ue(r.$$.fragment),this.h()},l(e){const s=O('[data-svelte="svelte-1w56yuh"]',Bs.head);t=L(s,"META",{name:!0,content:!0}),s.forEach(x),a=S(e),he(r.$$.fragment,e),this.h()},h(){Bs.title="Predictions",z(t,"name","description"),z(t,"content","Premier League Statistics Dashboard")},m(e,l){$(Bs.head,t),w(e,a,l),me(r,e,l),s=!0},p(e,[t]){const a={};513&t&&(a.$$scope={dirty:t,ctx:e}),r.$set(a)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){ie(r.$$.fragment,e),s=!1},d(e){x(t),e&&x(a),pe(r,e)}}}function Qs(e,t){return Math.round(e.homeGoals)==t.homeGoals&&Math.round(e.awayGoals)==t.awayGoals}function Zs(e,t){return Math.round(e.homeGoals)>Math.round(e.awayGoals)&&Math.round(t.homeGoals)>Math.round(t.awayGoals)||Math.round(e.homeGoals)==Math.round(e.awayGoals)&&Math.round(t.homeGoals)==Math.round(t.awayGoals)||Math.round(e.homeGoals)<Math.round(e.awayGoals)&&Math.round(t.homeGoals)<Math.round(t.awayGoals)}function el(e){return new Date(e).toTimeString().slice(0,5)}function tl(e,t,a){let r;q((()=>{(async function(e){const t=await fetch(e);return await t.json()})("https://pldashboard-backend.vercel.app/api/predictions").then((e=>{!function(e){e.sort(((e,t)=>new Date(t._id)-new Date(e._id)));for(let t=0;t<e.length;t++)e[t].predictions.sort(((e,t)=>new Date(e.datetime)-new Date(t.datetime)))}(e),function(e){let t=0,a=0,r=0;for(let s=0;s<e.predictions.length;s++)for(let l=0;l<e.predictions[s].predictions.length;l++){let n=e.predictions[s].predictions[l];null!=n.actual&&(Qs(n.prediction,n.actual)?(n.colour="green",t+=1,a+=1):Zs(n.prediction,n.actual)?(n.colour="yellow",a+=1):n.colour="red",r+=1)}e.accuracy={scoreAccuracy:t/r,resultAccuracy:a/r}}(e={predictions:e}),a(0,r=e),console.log(r)}))}));return[r,e=>function(e){let t=document.getElementById(e);null!=t&&t.classList.toggle("expanded")}(e._id)]}class al extends ye{constructor(e){super(),ve(this,e,tl,Ks,n,{})}}function rl(t){let a,r,s;return{c(){a=D("div"),r=D("div"),s=I("Error: Page not found"),this.h()},l(e){a=L(e,"DIV",{id:!0,class:!0});var t=G(a);r=L(t,"DIV",{class:!0});var l=G(r);s=N(l,"Error: Page not found"),l.forEach(x),t.forEach(x),this.h()},h(){z(r,"class","msg-container svelte-1n44sa0"),z(a,"id","error"),z(a,"class","svelte-1n44sa0")},m(e,t){w(e,a,t),$(a,r),$(r,s)},p:e,d(e){e&&x(a)}}}function sl(e){let t,a,r,s;return r=new Pe({props:{$$slots:{default:[rl]},$$scope:{ctx:e}}}),{c(){t=D("meta"),a=k(),ue(r.$$.fragment),this.h()},l(e){const s=O('[data-svelte="svelte-1rqatx0"]',document.head);t=L(s,"META",{name:!0,content:!0}),s.forEach(x),a=S(e),he(r.$$.fragment,e),this.h()},h(){document.title="Premier League",z(t,"name","description"),z(t,"content","Premier League Statistics Dashboard")},m(e,l){$(document.head,t),w(e,a,l),me(r,e,l),s=!0},p(e,[t]){const a={};1&t&&(a.$$scope={dirty:t,ctx:e}),r.$set(a)},i(e){s||(oe(r.$$.fragment,e),s=!0)},o(e){ie(r.$$.fragment,e),s=!1},d(e){x(t),e&&x(a),pe(r,e)}}}class ll extends ye{constructor(e){super(),ve(this,e,null,sl,n,{})}}function nl(t){let a,r;return a=new Ps({props:{hyphenatedTeam:null}}),{c(){ue(a.$$.fragment)},l(e){he(a.$$.fragment,e)},m(e,t){me(a,e,t),r=!0},p:e,i(e){r||(oe(a.$$.fragment,e),r=!0)},o(e){ie(a.$$.fragment,e),r=!1},d(e){pe(a,e)}}}function ol(e){let t,a;return t=new Ps({props:{hyphenatedTeam:e[1].team}}),{c(){ue(t.$$.fragment)},l(e){he(t.$$.fragment,e)},m(e,r){me(t,e,r),a=!0},p(e,a){const r={};2&a&&(r.hyphenatedTeam=e[1].team),t.$set(r)},i(e){a||(oe(t.$$.fragment,e),a=!0)},o(e){ie(t.$$.fragment,e),a=!1},d(e){pe(t,e)}}}function il(e){let t,a,r,s,l,n,o,i,c,d;return t=new qe({props:{path:"/",$$slots:{default:[nl]},$$scope:{ctx:e}}}),r=new qe({props:{path:"/:team",$$slots:{default:[ol,({params:e})=>({1:e}),({params:e})=>e?2:0]},$$scope:{ctx:e}}}),l=new qe({props:{path:"/predictions",component:al}}),o=new qe({props:{path:"/home",component:Ms}}),c=new qe({props:{path:"/error",component:ll}}),{c(){ue(t.$$.fragment),a=k(),ue(r.$$.fragment),s=k(),ue(l.$$.fragment),n=k(),ue(o.$$.fragment),i=k(),ue(c.$$.fragment)},l(e){he(t.$$.fragment,e),a=S(e),he(r.$$.fragment,e),s=S(e),he(l.$$.fragment,e),n=S(e),he(o.$$.fragment,e),i=S(e),he(c.$$.fragment,e)},m(e,f){me(t,e,f),w(e,a,f),me(r,e,f),w(e,s,f),me(l,e,f),w(e,n,f),me(o,e,f),w(e,i,f),me(c,e,f),d=!0},p(e,a){const s={};4&a&&(s.$$scope={dirty:a,ctx:e}),t.$set(s);const l={};6&a&&(l.$$scope={dirty:a,ctx:e}),r.$set(l)},i(e){d||(oe(t.$$.fragment,e),oe(r.$$.fragment,e),oe(l.$$.fragment,e),oe(o.$$.fragment,e),oe(c.$$.fragment,e),d=!0)},o(e){ie(t.$$.fragment,e),ie(r.$$.fragment,e),ie(l.$$.fragment,e),ie(o.$$.fragment,e),ie(c.$$.fragment,e),d=!1},d(e){pe(t,e),e&&x(a),pe(r,e),e&&x(s),pe(l,e),e&&x(n),pe(o,e),e&&x(i),pe(c,e)}}}function cl(e){let t,a;return t=new Pe({props:{url:e[0],$$slots:{default:[il]},$$scope:{ctx:e}}}),{c(){ue(t.$$.fragment)},l(e){he(t.$$.fragment,e)},m(e,r){me(t,e,r),a=!0},p(e,[a]){const r={};1&a&&(r.url=e[0]),4&a&&(r.$$scope={dirty:a,ctx:e}),t.$set(r)},i(e){a||(oe(t.$$.fragment,e),a=!0)},o(e){ie(t.$$.fragment,e),a=!1},d(e){pe(t,e)}}}function dl(e,t,a){let{url:r=""}=t;return e.$$set=e=>{"url"in e&&a(0,r=e.url)},[r]}new class extends ye{constructor(e){super(),ve(this,e,dl,cl,n,{url:0})}}({target:document.getElementById("app"),hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
