!function(){"use strict";function t(){}function e(t,e){for(const a in e)t[a]=e[a];return t}function a(t){return t()}function l(){return Object.create(null)}function s(t){t.forEach(a)}function r(t){return"function"==typeof t}function n(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let o;function i(t,e){return o||(o=document.createElement("a")),o.href=e,t===o.href}function c(e,...a){if(null==e)return t;const l=e.subscribe(...a);return l.unsubscribe?()=>l.unsubscribe():l}function d(t,e,a){t.$$.on_destroy.push(c(e,a))}function f(t,e,a,l){if(t){const s=u(t,e,a,l);return t[0](s)}}function u(t,a,l,s){return t[1]&&s?e(l.ctx.slice(),t[1](s(a))):l.ctx}function h(t,e,a,l){if(t[2]&&l){const s=t[2](l(a));if(void 0===e.dirty)return s;if("object"==typeof s){const t=[],a=Math.max(e.dirty.length,s.length);for(let l=0;l<a;l+=1)t[l]=e.dirty[l]|s[l];return t}return e.dirty|s}return e.dirty}function m(t,e,a,l,s,r){if(s){const n=u(e,a,l,r);t.p(n,s)}}function p(t){if(t.ctx.length>32){const e=[],a=t.ctx.length/32;for(let t=0;t<a;t++)e[t]=-1;return e}return-1}function v(t){const e={};for(const a in t)"$"!==a[0]&&(e[a]=t[a]);return e}let g,y=!1;function $(t,e,a,l){for(;t<e;){const s=t+(e-t>>1);a(s)<=l?t=s+1:e=s}return t}function b(t,e){if(y){for(!function(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if("HEAD"===t.nodeName){const t=[];for(let a=0;a<e.length;a++){const l=e[a];void 0!==l.claim_order&&t.push(l)}e=t}const a=new Int32Array(e.length+1),l=new Int32Array(e.length);a[0]=-1;let s=0;for(let t=0;t<e.length;t++){const r=e[t].claim_order,n=(s>0&&e[a[s]].claim_order<=r?s+1:$(1,s,(t=>e[a[t]].claim_order),r))-1;l[t]=a[n]+1;const o=n+1;a[o]=t,s=Math.max(o,s)}const r=[],n=[];let o=e.length-1;for(let t=a[s]+1;0!=t;t=l[t-1]){for(r.push(e[t-1]);o>=t;o--)n.push(e[o]);o--}for(;o>=0;o--)n.push(e[o]);r.reverse(),n.sort(((t,e)=>t.claim_order-e.claim_order));for(let e=0,a=0;e<n.length;e++){for(;a<r.length&&n[e].claim_order>=r[a].claim_order;)a++;const l=a<r.length?r[a]:null;t.insertBefore(n[e],l)}}(t),(void 0===t.actual_end_child||null!==t.actual_end_child&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);null!==t.actual_end_child&&void 0===t.actual_end_child.claim_order;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?void 0===e.claim_order&&e.parentNode===t||t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else e.parentNode===t&&null===e.nextSibling||t.appendChild(e)}function x(t,e,a){y&&!a?b(t,e):e.parentNode===t&&e.nextSibling==a||t.insertBefore(e,a||null)}function w(t){t.parentNode.removeChild(t)}function E(t,e){for(let a=0;a<t.length;a+=1)t[a]&&t[a].d(e)}function D(t){return document.createElement(t)}function V(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function I(t){return document.createTextNode(t)}function k(){return I(" ")}function _(){return I("")}function T(t,e,a,l){return t.addEventListener(e,a,l),()=>t.removeEventListener(e,a,l)}function G(t,e,a){null==a?t.removeAttribute(e):t.getAttribute(e)!==a&&t.setAttribute(e,a)}function A(t){return Array.from(t.childNodes)}function P(t,e,a,l,s=!1){!function(t){void 0===t.claim_info&&(t.claim_info={last_index:0,total_claimed:0})}(t);const r=(()=>{for(let l=t.claim_info.last_index;l<t.length;l++){const r=t[l];if(e(r)){const e=a(r);return void 0===e?t.splice(l,1):t[l]=e,s||(t.claim_info.last_index=l),r}}for(let l=t.claim_info.last_index-1;l>=0;l--){const r=t[l];if(e(r)){const e=a(r);return void 0===e?t.splice(l,1):t[l]=e,s?void 0===e&&t.claim_info.last_index--:t.claim_info.last_index=l,r}}return l()})();return r.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,r}function S(t,e,a,l){return P(t,(t=>t.nodeName===e),(t=>{const e=[];for(let l=0;l<t.attributes.length;l++){const s=t.attributes[l];a[s.name]||e.push(s.name)}e.forEach((e=>t.removeAttribute(e)))}),(()=>l(e)))}function N(t,e,a){return S(t,e,a,D)}function M(t,e,a){return S(t,e,a,V)}function O(t,e){return P(t,(t=>3===t.nodeType),(t=>{const a=""+e;if(t.data.startsWith(a)){if(t.data.length!==a.length)return t.splitText(a.length)}else t.data=a}),(()=>I(e)),!0)}function B(t){return O(t," ")}function C(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function L(t,e,a,l){null===a?t.style.removeProperty(e):t.style.setProperty(e,a,l?"important":"")}function z(t,e=document.body){return Array.from(e.querySelectorAll(t))}function j(t){g=t}function H(){if(!g)throw new Error("Function called outside component initialization");return g}function F(t){H().$$.on_mount.push(t)}function R(t,e){return H().$$.context.set(t,e),e}function q(t){return H().$$.context.get(t)}const U=[],Y=[],W=[],X=[],J=Promise.resolve();let K=!1;function Q(t){W.push(t)}const Z=new Set;let tt=0;function et(){const t=g;do{for(;tt<U.length;){const t=U[tt];tt++,j(t),at(t.$$)}for(j(null),U.length=0,tt=0;Y.length;)Y.pop()();for(let t=0;t<W.length;t+=1){const e=W[t];Z.has(e)||(Z.add(e),e())}W.length=0}while(U.length);for(;X.length;)X.pop()();K=!1,Z.clear(),j(t)}function at(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Q)}}const lt=new Set;let st;function rt(){st={r:0,c:[],p:st}}function nt(){st.r||s(st.c),st=st.p}function ot(t,e){t&&t.i&&(lt.delete(t),t.i(e))}function it(t,e,a,l){if(t&&t.o){if(lt.has(t))return;lt.add(t),st.c.push((()=>{lt.delete(t),l&&(a&&t.d(1),l())})),t.o(e)}else l&&l()}const ct="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function dt(t,e){t.d(1),e.delete(t.key)}function ft(t){return"object"==typeof t&&null!==t?t:{}}function ut(t){t&&t.c()}function ht(t,e){t&&t.l(e)}function mt(t,e,l,n){const{fragment:o,on_mount:i,on_destroy:c,after_update:d}=t.$$;o&&o.m(e,l),n||Q((()=>{const e=i.map(a).filter(r);c?c.push(...e):s(e),t.$$.on_mount=[]})),d.forEach(Q)}function pt(t,e){const a=t.$$;null!==a.fragment&&(s(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function vt(t,e){-1===t.$$.dirty[0]&&(U.push(t),K||(K=!0,J.then(et)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function gt(e,a,r,n,o,i,c,d=[-1]){const f=g;j(e);const u=e.$$={fragment:null,ctx:null,props:i,update:t,not_equal:o,bound:l(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(a.context||(f?f.$$.context:[])),callbacks:l(),dirty:d,skip_bound:!1,root:a.target||f.$$.root};c&&c(u.root);let h=!1;if(u.ctx=r?r(e,a.props||{},((t,a,...l)=>{const s=l.length?l[0]:a;return u.ctx&&o(u.ctx[t],u.ctx[t]=s)&&(!u.skip_bound&&u.bound[t]&&u.bound[t](s),h&&vt(e,t)),a})):[],u.update(),h=!0,s(u.before_update),u.fragment=!!n&&n(u.ctx),a.target){if(a.hydrate){y=!0;const t=A(a.target);u.fragment&&u.fragment.l(t),t.forEach(w)}else u.fragment&&u.fragment.c();a.intro&&ot(e.$$.fragment),mt(e,a.target,a.anchor,a.customElement),y=!1,et()}j(f)}class yt{$destroy(){pt(this,1),this.$destroy=t}$on(t,e){const a=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return a.push(e),()=>{const t=a.indexOf(e);-1!==t&&a.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const $t=[];function bt(e,a=t){let l;const s=new Set;function r(t){if(n(e,t)&&(e=t,l)){const t=!$t.length;for(const t of s)t[1](),$t.push(t,e);if(t){for(let t=0;t<$t.length;t+=2)$t[t][0]($t[t+1]);$t.length=0}}}return{set:r,update:function(t){r(t(e))},subscribe:function(n,o=t){const i=[n,o];return s.add(i),1===s.size&&(l=a(r)||t),n(e),()=>{s.delete(i),0===s.size&&(l(),l=null)}}}}function xt(e,a,l){const n=!Array.isArray(e),o=n?[e]:e,i=a.length<2;return d=e=>{let l=!1;const d=[];let f=0,u=t;const h=()=>{if(f)return;u();const l=a(n?d[0]:d,e);i?e(l):u=r(l)?l:t},m=o.map(((t,e)=>c(t,(t=>{d[e]=t,f&=~(1<<e),l&&h()}),(()=>{f|=1<<e}))));return l=!0,h(),function(){s(m),u()}},{subscribe:bt(l,d).subscribe};var d}const wt={},Et={};function Dt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Vt=function(t,e){const a=[];let l=Dt(t);return{get location(){return l},listen(e){a.push(e);const s=()=>{l=Dt(t),e({location:l,action:"POP"})};return t.addEventListener("popstate",s),()=>{t.removeEventListener("popstate",s);const l=a.indexOf(e);a.splice(l,1)}},navigate(e,{state:s,replace:r=!1}={}){s={...s,key:Date.now()+""};try{r?t.history.replaceState(s,null,e):t.history.pushState(s,null,e)}catch(a){t.location[r?"replace":"assign"](e)}l=Dt(t),a.forEach((t=>t({location:l,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const a=[{pathname:t,search:""}],l=[];return{get location(){return a[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return a},get index(){return e},get state(){return l[e]},pushState(t,s,r){const[n,o=""]=r.split("?");e++,a.push({pathname:n,search:o}),l.push(t)},replaceState(t,s,r){const[n,o=""]=r.split("?");a[e]={pathname:n,search:o},l[e]=t}}}}()),It=/^:(.+)/;function kt(t){return"*"===t[0]}function _t(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function Tt(t){return t.replace(/(^\/+|\/+$)/g,"")}function Gt(t,e){return{route:t,score:t.default?0:_t(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return It.test(t)}(e)?kt(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function At(t,e){let a,l;const[s]=e.split("?"),r=_t(s),n=""===r[0],o=function(t){return t.map(Gt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,s=o.length;t<s;t++){const s=o[t].route;let i=!1;if(s.default){l={route:s,params:{},uri:e};continue}const c=_t(s.path),d={},f=Math.max(r.length,c.length);let u=0;for(;u<f;u++){const t=c[u],e=r[u];if(void 0!==t&&kt(t)){d["*"===t?"*":t.slice(1)]=r.slice(u).map(decodeURIComponent).join("/");break}if(void 0===e){i=!0;break}let a=It.exec(t);if(a&&!n){const t=decodeURIComponent(e);d[a[1]]=t}else if(t!==e){i=!0;break}}if(!i){a={route:s,params:d,uri:"/"+r.slice(0,u).join("/")};break}}return a||l||null}function Pt(t,e){return`${Tt("/"===e?t:`${Tt(t)}/${Tt(e)}`)}/`}function St(t){let e;const a=t[9].default,l=f(a,t,t[8],null);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,[s]){l&&l.p&&(!e||256&s)&&m(l,a,t,t[8],e?h(a,t[8],s,null):p(t[8]),null)},i(t){e||(ot(l,t),e=!0)},o(t){it(l,t),e=!1},d(t){l&&l.d(t)}}}function Nt(t,e,a){let l,s,r,{$$slots:n={},$$scope:o}=e,{basepath:i="/"}=e,{url:c=null}=e;const f=q(wt),u=q(Et),h=bt([]);d(t,h,(t=>a(6,s=t)));const m=bt(null);let p=!1;const v=f||bt(c?{pathname:c}:Vt.location);d(t,v,(t=>a(5,l=t)));const g=u?u.routerBase:bt({path:i,uri:i});d(t,g,(t=>a(7,r=t)));const y=xt([g,m],(([t,e])=>{if(null===e)return t;const{path:a}=t,{route:l,uri:s}=e;return{path:l.default?a:l.path.replace(/\*.*$/,""),uri:s}}));return f||(F((()=>Vt.listen((t=>{v.set(t.location)})))),R(wt,v)),R(Et,{activeRoute:m,base:g,routerBase:y,registerRoute:function(t){const{path:e}=r;let{path:a}=t;if(t._path=a,t.path=Pt(e,a),"undefined"==typeof window){if(p)return;const e=function(t,e){return At([t],e)}(t,l.pathname);e&&(m.set(e),p=!0)}else h.update((e=>(e.push(t),e)))},unregisterRoute:function(t){h.update((e=>{const a=e.indexOf(t);return e.splice(a,1),e}))}}),t.$$set=t=>{"basepath"in t&&a(3,i=t.basepath),"url"in t&&a(4,c=t.url),"$$scope"in t&&a(8,o=t.$$scope)},t.$$.update=()=>{if(128&t.$$.dirty){const{path:t}=r;h.update((e=>(e.forEach((e=>e.path=Pt(t,e._path))),e)))}if(96&t.$$.dirty){const t=At(s,l.pathname);m.set(t)}},[h,v,g,i,c,l,s,r,o,n]}class Mt extends yt{constructor(t){super(),gt(this,t,Nt,St,n,{basepath:3,url:4})}}const Ot=t=>({params:4&t,location:16&t}),Bt=t=>({params:t[2],location:t[4]});function Ct(t){let e,a,l,s;const r=[zt,Lt],n=[];function o(t,e){return null!==t[0]?0:1}return e=o(t),a=n[e]=r[e](t),{c(){a.c(),l=_()},l(t){a.l(t),l=_()},m(t,a){n[e].m(t,a),x(t,l,a),s=!0},p(t,s){let i=e;e=o(t),e===i?n[e].p(t,s):(rt(),it(n[i],1,1,(()=>{n[i]=null})),nt(),a=n[e],a?a.p(t,s):(a=n[e]=r[e](t),a.c()),ot(a,1),a.m(l.parentNode,l))},i(t){s||(ot(a),s=!0)},o(t){it(a),s=!1},d(t){n[e].d(t),t&&w(l)}}}function Lt(t){let e;const a=t[10].default,l=f(a,t,t[9],Bt);return{c(){l&&l.c()},l(t){l&&l.l(t)},m(t,a){l&&l.m(t,a),e=!0},p(t,s){l&&l.p&&(!e||532&s)&&m(l,a,t,t[9],e?h(a,t[9],s,Ot):p(t[9]),Bt)},i(t){e||(ot(l,t),e=!0)},o(t){it(l,t),e=!1},d(t){l&&l.d(t)}}}function zt(t){let a,l,s;const r=[{location:t[4]},t[2],t[3]];var n=t[0];function o(t){let a={};for(let t=0;t<r.length;t+=1)a=e(a,r[t]);return{props:a}}return n&&(a=new n(o())),{c(){a&&ut(a.$$.fragment),l=_()},l(t){a&&ht(a.$$.fragment,t),l=_()},m(t,e){a&&mt(a,t,e),x(t,l,e),s=!0},p(t,e){const s=28&e?function(t,e){const a={},l={},s={$$scope:1};let r=t.length;for(;r--;){const n=t[r],o=e[r];if(o){for(const t in n)t in o||(l[t]=1);for(const t in o)s[t]||(a[t]=o[t],s[t]=1);t[r]=o}else for(const t in n)s[t]=1}for(const t in l)t in a||(a[t]=void 0);return a}(r,[16&e&&{location:t[4]},4&e&&ft(t[2]),8&e&&ft(t[3])]):{};if(n!==(n=t[0])){if(a){rt();const t=a;it(t.$$.fragment,1,0,(()=>{pt(t,1)})),nt()}n?(a=new n(o()),ut(a.$$.fragment),ot(a.$$.fragment,1),mt(a,l.parentNode,l)):a=null}else n&&a.$set(s)},i(t){s||(a&&ot(a.$$.fragment,t),s=!0)},o(t){a&&it(a.$$.fragment,t),s=!1},d(t){t&&w(l),a&&pt(a,t)}}}function jt(t){let e,a,l=null!==t[1]&&t[1].route===t[7]&&Ct(t);return{c(){l&&l.c(),e=_()},l(t){l&&l.l(t),e=_()},m(t,s){l&&l.m(t,s),x(t,e,s),a=!0},p(t,[a]){null!==t[1]&&t[1].route===t[7]?l?(l.p(t,a),2&a&&ot(l,1)):(l=Ct(t),l.c(),ot(l,1),l.m(e.parentNode,e)):l&&(rt(),it(l,1,1,(()=>{l=null})),nt())},i(t){a||(ot(l),a=!0)},o(t){it(l),a=!1},d(t){l&&l.d(t),t&&w(e)}}}function Ht(t,a,l){let s,r,{$$slots:n={},$$scope:o}=a,{path:i=""}=a,{component:c=null}=a;const{registerRoute:f,unregisterRoute:u,activeRoute:h}=q(Et);d(t,h,(t=>l(1,s=t)));const m=q(wt);d(t,m,(t=>l(4,r=t)));const p={path:i,default:""===i};let g={},y={};var $;return f(p),"undefined"!=typeof window&&($=()=>{u(p)},H().$$.on_destroy.push($)),t.$$set=t=>{l(13,a=e(e({},a),v(t))),"path"in t&&l(8,i=t.path),"component"in t&&l(0,c=t.component),"$$scope"in t&&l(9,o=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&s&&s.route===p&&l(2,g=s.params);{const{path:t,component:e,...s}=a;l(3,y=s)}},a=v(a),[c,s,g,y,r,h,m,p,i,o,n]}class Ft extends yt{constructor(t){super(),gt(this,t,Ht,jt,n,{path:8,component:0})}}function Rt(e){let a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_,T,P,S,M=Ut(e[0][0])+"",z=Ut(e[0][1])+"",j=Ut(e[0][2])+"",H=Ut(e[0][3])+"",F=Ut(e[0][4])+"";return{c(){a=D("div"),l=D("div"),s=D("div"),r=I(M),n=k(),o=D("div"),i=D("div"),c=D("div"),d=I(z),f=k(),u=D("div"),h=D("div"),m=D("div"),p=I(j),v=k(),g=D("div"),y=D("div"),$=D("div"),E=I(H),V=k(),_=D("div"),T=D("div"),P=D("div"),S=I(F),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{id:!0,style:!0,class:!0});var b=A(l);s=N(b,"DIV",{class:!0});var x=A(s);r=O(x,M),x.forEach(w),b.forEach(w),e.forEach(w),n=B(t),o=N(t,"DIV",{class:!0});var D=A(o);i=N(D,"DIV",{id:!0,style:!0,class:!0});var I=A(i);c=N(I,"DIV",{class:!0});var k=A(c);d=O(k,z),k.forEach(w),I.forEach(w),D.forEach(w),f=B(t),u=N(t,"DIV",{class:!0});var G=A(u);h=N(G,"DIV",{id:!0,style:!0,class:!0});var C=A(h);m=N(C,"DIV",{class:!0});var L=A(m);p=O(L,j),L.forEach(w),C.forEach(w),G.forEach(w),v=B(t),g=N(t,"DIV",{class:!0});var R=A(g);y=N(R,"DIV",{id:!0,style:!0,class:!0});var q=A(y);$=N(q,"DIV",{class:!0});var U=A($);E=O(U,H),U.forEach(w),q.forEach(w),R.forEach(w),V=B(t),_=N(t,"DIV",{class:!0});var Y=A(_);T=N(Y,"DIV",{id:!0,style:!0,class:!0});var W=A(T);P=N(W,"DIV",{class:!0});var X=A(P);S=O(X,F),X.forEach(w),W.forEach(w),Y.forEach(w),this.h()},h(){G(s,"class","result svelte-3zk90i"),G(l,"id","formTile"),L(l,"background",qt(e[0][0],e[1][0])),G(l,"class","svelte-3zk90i"),G(a,"class","icon pos-0 svelte-3zk90i"),G(c,"class","result svelte-3zk90i"),G(i,"id","formTile"),L(i,"background",qt(e[0][1],e[1][1])),G(i,"class","svelte-3zk90i"),G(o,"class","icon pos-1 svelte-3zk90i"),G(m,"class","result svelte-3zk90i"),G(h,"id","formTile"),L(h,"background",qt(e[0][2],e[1][2])),G(h,"class","svelte-3zk90i"),G(u,"class","icon pos-2 svelte-3zk90i"),G($,"class","result svelte-3zk90i"),G(y,"id","formTile"),L(y,"background",qt(e[0][3],e[1][3])),G(y,"class","svelte-3zk90i"),G(g,"class","icon pos-3 svelte-3zk90i"),G(P,"class","result svelte-3zk90i"),G(T,"id","formTile"),L(T,"background",qt(e[0][4],e[1][4])),G(T,"class","svelte-3zk90i"),G(_,"class","icon pos-4 svelte-3zk90i")},m(t,e){x(t,a,e),b(a,l),b(l,s),b(s,r),x(t,n,e),x(t,o,e),b(o,i),b(i,c),b(c,d),x(t,f,e),x(t,u,e),b(u,h),b(h,m),b(m,p),x(t,v,e),x(t,g,e),b(g,y),b(y,$),b($,E),x(t,V,e),x(t,_,e),b(_,T),b(T,P),b(P,S)},p(t,[e]){1&e&&M!==(M=Ut(t[0][0])+"")&&C(r,M),3&e&&L(l,"background",qt(t[0][0],t[1][0])),1&e&&z!==(z=Ut(t[0][1])+"")&&C(d,z),3&e&&L(i,"background",qt(t[0][1],t[1][1])),1&e&&j!==(j=Ut(t[0][2])+"")&&C(p,j),3&e&&L(h,"background",qt(t[0][2],t[1][2])),1&e&&H!==(H=Ut(t[0][3])+"")&&C(E,H),3&e&&L(y,"background",qt(t[0][3],t[1][3])),1&e&&F!==(F=Ut(t[0][4])+"")&&C(S,F),3&e&&L(T,"background",qt(t[0][4],t[1][4]))},i:t,o:t,d(t){t&&w(a),t&&w(n),t&&w(o),t&&w(f),t&&w(u),t&&w(v),t&&w(g),t&&w(V),t&&w(_)}}}function qt(t,e){switch(t){case"W":return e?"linear-gradient(30deg, var(--green), #2bd2ff, #fa8bff)":"#00fe87";case"D":return"#ffdd00";case"L":return"#f83027";default:return"#d6d6d6"}}function Ut(t){switch(t){case"W":case"D":case"L":return t;default:return""}}function Yt(t,e,a){let{form:l,starTeams:s}=e;return t.$$set=t=>{"form"in t&&a(0,l=t.form),"starTeams"in t&&a(1,s=t.starTeams)},[l,s]}class Wt extends yt{constructor(t){super(),gt(this,t,Yt,Rt,n,{form:0,starTeams:1})}}function Xt(t){switch(t){case"Brighton and Hove Albion":return"BHA";case"Manchester City":return"MCI";case"Manchester United":return"MUN";case"Aston Villa":return"AVL";case"Sheffield United":return"SHU";case"West Bromwich Albion":return"WBA";case"West Ham United":return"WHU"}return t.slice(0,3).toUpperCase()}let Jt={"Wolverhampton Wanderers":"Wolves","Tottenham Hotspur":"Spurs","Leeds United":"Leeds","West Ham United":"West Ham","Brighton and Hove Albion":"Brighton"};function Kt(t){return t in Jt?Jt[t]:t}function Qt(t){return t.toLowerCase().replace(/ /g,"-")}function Zt(t,e,a){return e in t&&null!=t[e][a][1]}function te(t){let e=Qt(t);return getComputedStyle(document.documentElement).getPropertyValue(`--${e}`)}function ee(t,e){let a=[];for(let l in t.form[e][t._id])null!=t.form[e][t._id][l].score&&a.push(l);return a}function ae(t,e){let a=Object.keys(t.form[e][t._id]);for(let l=a.length-1;l>=0;l--)if(null!=t.form[e][t._id][a[l]].score)return a[l];return null}function le(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E=t[5][0]+"",V=t[5][1]+"",_=t[5][2]+"",T=t[5][3]+"",P=t[5][4]+"";return a=new Wt({props:{form:t[3]+",",starTeams:t[4]}}),{c(){e=D("div"),ut(a.$$.fragment),l=k(),s=D("div"),r=D("div"),n=I(E),o=k(),i=D("div"),c=I(V),d=k(),f=D("div"),u=I(_),h=k(),m=D("div"),p=I(T),v=k(),g=D("div"),y=I(P),this.h()},l(t){e=N(t,"DIV",{class:!0});var $=A(e);ht(a.$$.fragment,$),$.forEach(w),l=B(t),s=N(t,"DIV",{class:!0});var b=A(s);r=N(b,"DIV",{class:!0});var x=A(r);n=O(x,E),x.forEach(w),o=B(b),i=N(b,"DIV",{class:!0});var D=A(i);c=O(D,V),D.forEach(w),d=B(b),f=N(b,"DIV",{class:!0});var I=A(f);u=O(I,_),I.forEach(w),h=B(b),m=N(b,"DIV",{class:!0});var k=A(m);p=O(k,T),k.forEach(w),v=B(b),g=N(b,"DIV",{class:!0});var G=A(g);y=O(G,P),G.forEach(w),b.forEach(w),this.h()},h(){G(e,"class","current-form-row icon-row svelte-1ljxuqy"),G(r,"class","icon-name pos-0 svelte-1ljxuqy"),G(i,"class","icon-name pos-1 svelte-1ljxuqy"),G(f,"class","icon-name pos-2 svelte-1ljxuqy"),G(m,"class","icon-name pos-3 svelte-1ljxuqy"),G(g,"class","icon-name pos-4 svelte-1ljxuqy"),G(s,"class","current-form-row name-row svelte-1ljxuqy")},m(t,w){x(t,e,w),mt(a,e,null),x(t,l,w),x(t,s,w),b(s,r),b(r,n),b(s,o),b(s,i),b(i,c),b(s,d),b(s,f),b(f,u),b(s,h),b(s,m),b(m,p),b(s,v),b(s,g),b(g,y),$=!0},p(t,e){const l={};8&e&&(l.form=t[3]+","),16&e&&(l.starTeams=t[4]),a.$set(l),(!$||32&e)&&E!==(E=t[5][0]+"")&&C(n,E),(!$||32&e)&&V!==(V=t[5][1]+"")&&C(c,V),(!$||32&e)&&_!==(_=t[5][2]+"")&&C(u,_),(!$||32&e)&&T!==(T=t[5][3]+"")&&C(p,T),(!$||32&e)&&P!==(P=t[5][4]+"")&&C(y,P)},i(t){$||(ot(a.$$.fragment,t),$=!0)},o(t){it(a.$$.fragment,t),$=!1},d(t){t&&w(e),pt(a),t&&w(l),t&&w(s)}}}function se(e){let a;return{c(){a=I("None")},l(t){a=O(t,"None")},m(t,e){x(t,a,e)},p:t,d(t){t&&w(a)}}}function re(t){let e,a,l,s=(100*t[0].form[t[2]][t[0]._id][t[1]].formRating5).toFixed(1)+"";return{c(){e=D("span"),a=I(s),l=I("%"),this.h()},l(t){e=N(t,"SPAN",{class:!0});var r=A(e);a=O(r,s),l=O(r,"%"),r.forEach(w),this.h()},h(){G(e,"class","current-form-value svelte-1ljxuqy")},m(t,s){x(t,e,s),b(e,a),b(e,l)},p(t,e){7&e&&s!==(s=(100*t[0].form[t[2]][t[0]._id][t[1]].formRating5).toFixed(1)+"")&&C(a,s)},d(t){t&&w(e)}}}function ne(t){let e,a,l,s,r=null!=t[5]&&le(t);function n(t,e){return null!=t[1]?re:se}let o=n(t),i=o(t);return{c(){r&&r.c(),e=k(),a=D("div"),l=I("Current form:\r\n  "),i.c(),this.h()},l(t){r&&r.l(t),e=B(t),a=N(t,"DIV",{class:!0});var s=A(a);l=O(s,"Current form:\r\n  "),i.l(s),s.forEach(w),this.h()},h(){G(a,"class","current-form svelte-1ljxuqy")},m(t,n){r&&r.m(t,n),x(t,e,n),x(t,a,n),b(a,l),i.m(a,null),s=!0},p(t,[l]){null!=t[5]?r?(r.p(t,l),32&l&&ot(r,1)):(r=le(t),r.c(),ot(r,1),r.m(e.parentNode,e)):r&&(rt(),it(r,1,1,(()=>{r=null})),nt()),o===(o=n(t))&&i?i.p(t,l):(i.d(1),i=o(t),i&&(i.c(),i.m(a,null)))},i(t){s||(ot(r),s=!0)},o(t){it(r),s=!1},d(t){r&&r.d(t),t&&w(e),t&&w(a),i.d()}}}function oe(t,e,a){function l(){let t=function(t,e){return Object.keys(t.form[e][t._id]).sort((function(a,l){return new Date(t.form[e][t._id][a].date)-new Date(t.form[e][t._id][l].date)}))}(o,c),e=function(t,e,a,l){let s=[];for(let r=a.length-1;r>=0&&(null!=t.form[e][t._id][a[r]].score&&s.push(a[r]),!(s.length>=l));r--);return s}(o,c,t,5);a(3,s=function(t,e){let a=[];Object.keys(t.form[e][t._id][i]).length>0&&(a=t.form[e][t._id][i].form5.split(""));for(let t=a.length;t<5;t++)a.unshift("N");return a.join("")}(o,c)),a(4,r=function(t,e,a){let l=[];for(let s of a){let a=t.form[e][t._id][s].team;l.unshift(t.teamRatings[a].totalRating>.75)}for(let t=l.length;t<5;t++)l.unshift(!1);return l}(o,c,e)),a(5,n=function(t,e,a){let l=[];for(let s of a)l.unshift(Xt(t.form[e][t._id][s].team));for(let t=l.length;t<5;t++)l.unshift("");return l}(o,c,e))}let s,r,n,{data:o,currentMatchday:i,team:c}=e;return t.$$set=t=>{"data"in t&&a(0,o=t.data),"currentMatchday"in t&&a(1,i=t.currentMatchday),"team"in t&&a(2,c=t.team)},t.$$.update=()=>{4&t.$$.dirty&&c&&l()},[o,i,c,s,r,n]}class ie extends yt{constructor(t){super(),gt(this,t,oe,ne,n,{data:0,currentMatchday:1,team:2})}}function ce(t,e,a){const l=t.slice();return l[7]=e[a],l[9]=a,l}function de(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g=t[2].rows,y=[];for(let e=0;e<g.length;e+=1)y[e]=ve(ce(t,g,e));let $=6!=t[2].teamTableIdx&&ge();return{c(){e=D("div"),a=k(),l=D("div"),s=D("div"),r=k(),n=D("div"),o=I("Team"),i=k(),c=D("div"),d=I("GD"),f=k(),u=D("div"),h=I("Points"),m=k();for(let t=0;t<y.length;t+=1)y[t].c();p=k(),$&&$.c(),v=_(),this.h()},l(t){e=N(t,"DIV",{class:!0}),A(e).forEach(w),a=B(t),l=N(t,"DIV",{class:!0});var g=A(l);s=N(g,"DIV",{class:!0}),A(s).forEach(w),r=B(g),n=N(g,"DIV",{class:!0});var b=A(n);o=O(b,"Team"),b.forEach(w),i=B(g),c=N(g,"DIV",{class:!0});var x=A(c);d=O(x,"GD"),x.forEach(w),f=B(g),u=N(g,"DIV",{class:!0});var E=A(u);h=O(E,"Points"),E.forEach(w),g.forEach(w),m=B(t);for(let e=0;e<y.length;e+=1)y[e].l(t);p=B(t),$&&$.l(t),v=_(),this.h()},h(){G(e,"class","divider"),G(s,"class","table-element table-position column-title svelte-1pwy3vt"),G(n,"class","table-element table-team-name column-title svelte-1pwy3vt"),G(c,"class","table-element table-gd column-title svelte-1pwy3vt"),G(u,"class","table-element table-points column-title svelte-1pwy3vt"),G(l,"class","table-row svelte-1pwy3vt")},m(t,g){x(t,e,g),x(t,a,g),x(t,l,g),b(l,s),b(l,r),b(l,n),b(n,o),b(l,i),b(l,c),b(c,d),b(l,f),b(l,u),b(u,h),x(t,m,g);for(let e=0;e<y.length;e+=1)y[e].m(t,g);x(t,p,g),$&&$.m(t,g),x(t,v,g)},p(t,e){if(7&e){let a;for(g=t[2].rows,a=0;a<g.length;a+=1){const l=ce(t,g,a);y[a]?y[a].p(l,e):(y[a]=ve(l),y[a].c(),y[a].m(p.parentNode,p))}for(;a<y.length;a+=1)y[a].d(1);y.length=g.length}6!=t[2].teamTableIdx?$||($=ge(),$.c(),$.m(v.parentNode,v)):$&&($.d(1),$=null)},d(t){t&&w(e),t&&w(a),t&&w(l),t&&w(m),E(y,t),t&&w(p),$&&$.d(t),t&&w(v)}}}function fe(e){let a;return{c(){a=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0,class:!0}),A(a).forEach(w),this.h()},h(){G(a,"id","divider"),G(a,"class","svelte-1pwy3vt")},m(t,e){x(t,a,e)},p:t,d(t){t&&w(a)}}}function ue(t){let e,a=t[9]!=t[2].teamTableIdx&&he();return{c(){a&&a.c(),e=_()},l(t){a&&a.l(t),e=_()},m(t,l){a&&a.m(t,l),x(t,e,l)},p(t,l){t[9]!=t[2].teamTableIdx?a||(a=he(),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&w(e)}}}function he(t){let e;return{c(){e=D("div"),this.h()},l(t){e=N(t,"DIV",{id:!0,class:!0}),A(e).forEach(w),this.h()},h(){G(e,"id","divider"),G(e,"class","svelte-1pwy3vt")},m(t,a){x(t,e,a)},d(t){t&&w(e)}}}function me(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p=t[7].position+"",v=Kt(t[7].name)+"",g=t[7].gd+"",y=t[7].points+"";function $(){return t[5](t[7])}return{c(){e=D("div"),a=D("div"),l=I(p),s=k(),r=D("button"),n=I(v),o=k(),i=D("div"),c=I(g),d=k(),f=D("div"),u=I(y),this.h()},l(t){e=N(t,"DIV",{class:!0});var h=A(e);a=N(h,"DIV",{class:!0});var m=A(a);l=O(m,p),m.forEach(w),s=B(h),r=N(h,"BUTTON",{class:!0});var $=A(r);n=O($,v),$.forEach(w),o=B(h),i=N(h,"DIV",{class:!0});var b=A(i);c=O(b,g),b.forEach(w),d=B(h),f=N(h,"DIV",{class:!0});var x=A(f);u=O(x,y),x.forEach(w),h.forEach(w),this.h()},h(){G(a,"class","table-element table-position svelte-1pwy3vt"),G(r,"class","table-element table-team-name svelte-1pwy3vt"),G(i,"class","table-element table-gd svelte-1pwy3vt"),G(f,"class","table-element table-points svelte-1pwy3vt"),G(e,"class","table-row svelte-1pwy3vt")},m(t,p){x(t,e,p),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(e,o),b(e,i),b(i,c),b(e,d),b(e,f),b(f,u),h||(m=T(r,"click",$),h=!0)},p(e,a){t=e,4&a&&p!==(p=t[7].position+"")&&C(l,p),4&a&&v!==(v=Kt(t[7].name)+"")&&C(n,v),4&a&&g!==(g=t[7].gd+"")&&C(c,g),4&a&&y!==(y=t[7].points+"")&&C(u,y)},d(t){t&&w(e),h=!1,m()}}}function pe(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m=t[7].position+"",p=Kt(t[7].name)+"",v=t[7].gd+"",g=t[7].points+"";return{c(){e=D("div"),a=D("div"),l=I(m),s=k(),r=D("a"),n=I(p),i=k(),c=D("div"),d=I(v),f=k(),u=D("div"),h=I(g),this.h()},l(t){e=N(t,"DIV",{class:!0,style:!0});var o=A(e);a=N(o,"DIV",{class:!0,style:!0});var y=A(a);l=O(y,m),y.forEach(w),s=B(o),r=N(o,"A",{href:!0,class:!0,style:!0});var $=A(r);n=O($,p),$.forEach(w),i=B(o),c=N(o,"DIV",{class:!0,style:!0});var b=A(c);d=O(b,v),b.forEach(w),f=B(o),u=N(o,"DIV",{class:!0,style:!0});var x=A(u);h=O(x,g),x.forEach(w),o.forEach(w),this.h()},h(){G(a,"class","table-element table-position this-team svelte-1pwy3vt"),L(a,"color","var(--"+t[0]+"-secondary)"),G(r,"href",o="/"+t[0]),G(r,"class","table-element table-team-name this-team svelte-1pwy3vt"),L(r,"color","var(--"+t[0]+"-secondary)"),G(c,"class","table-element table-gd this-team svelte-1pwy3vt"),L(c,"color","var(--"+t[0]+"-secondary)"),G(u,"class","table-element table-points this-team svelte-1pwy3vt"),L(u,"color","var(--"+t[0]+"-secondary)"),G(e,"class","table-row this-team svelte-1pwy3vt"),L(e,"background-color","var(--"+t[0]+")")},m(t,o){x(t,e,o),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(e,i),b(e,c),b(c,d),b(e,f),b(e,u),b(u,h)},p(t,s){4&s&&m!==(m=t[7].position+"")&&C(l,m),1&s&&L(a,"color","var(--"+t[0]+"-secondary)"),4&s&&p!==(p=Kt(t[7].name)+"")&&C(n,p),1&s&&o!==(o="/"+t[0])&&G(r,"href",o),1&s&&L(r,"color","var(--"+t[0]+"-secondary)"),4&s&&v!==(v=t[7].gd+"")&&C(d,v),1&s&&L(c,"color","var(--"+t[0]+"-secondary)"),4&s&&g!==(g=t[7].points+"")&&C(h,g),1&s&&L(u,"color","var(--"+t[0]+"-secondary)"),1&s&&L(e,"background-color","var(--"+t[0]+")")},d(t){t&&w(e)}}}function ve(t){let e,a;function l(t,e){return 0==t[9]?ue:t[9]-1!=t[2].teamTableIdx&&t[9]!=t[2].teamTableIdx?fe:void 0}let s=l(t),r=s&&s(t);function n(t,e){return t[9]==t[2].teamTableIdx?pe:me}let o=n(t),i=o(t);return{c(){r&&r.c(),e=k(),i.c(),a=_()},l(t){r&&r.l(t),e=B(t),i.l(t),a=_()},m(t,l){r&&r.m(t,l),x(t,e,l),i.m(t,l),x(t,a,l)},p(t,c){s===(s=l(t))&&r?r.p(t,c):(r&&r.d(1),r=s&&s(t),r&&(r.c(),r.m(e.parentNode,e))),o===(o=n(t))&&i?i.p(t,c):(i.d(1),i=o(t),i&&(i.c(),i.m(a.parentNode,a)))},d(t){r&&r.d(t),t&&w(e),i.d(t),t&&w(a)}}}function ge(t){let e;return{c(){e=D("div"),this.h()},l(t){e=N(t,"DIV",{id:!0,class:!0}),A(e).forEach(w),this.h()},h(){G(e,"id","divider"),G(e,"class","svelte-1pwy3vt")},m(t,a){x(t,e,a)},d(t){t&&w(e)}}}function ye(e){let a,l=null!=e[2]&&de(e);return{c(){a=D("div"),l&&l.c(),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l&&l.l(e),e.forEach(w),this.h()},h(){G(a,"class","table-snippet svelte-1pwy3vt")},m(t,e){x(t,a,e),l&&l.m(a,null)},p(t,[e]){null!=t[2]?l?l.p(t,e):(l=de(t),l.c(),l.m(a,null)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&w(a),l&&l.d()}}}function $e(t,e,a){let l,{data:s,hyphenatedTeam:r,team:n,switchTeam:o}=e;return t.$$set=t=>{"data"in t&&a(3,s=t.data),"hyphenatedTeam"in t&&a(0,r=t.hyphenatedTeam),"team"in t&&a(4,n=t.team),"switchTeam"in t&&a(1,o=t.switchTeam)},t.$$.update=()=>{16&t.$$.dirty&&n&&function(){let t,e=Object.keys(s.standings).sort((function(t,e){return s.standings[t][s._id].position-s.standings[e][s._id].position})),[r,o]=function(t,e){let a=t.indexOf(e),l=a-3,s=a+4;return l<0&&(s-=l,l=0),s>t.length-1&&(l-=s-t.length,s=t.length),[l,s]}(e,n),i=[];for(let a=r;a<o;a++)e[a]==n&&(t=a-r),i.push({name:e[a],position:s.standings[e[a]][s._id].position,points:s.standings[e[a]][s._id].points,gd:s.standings[e[a]][s._id].gD});a(2,l={teamTableIdx:t,rows:i})}()},[r,o,l,s,n,t=>{o(Qt(t.name))}]}class be extends yt{constructor(t){super(),gt(this,t,$e,ye,n,{data:3,hyphenatedTeam:0,team:4,switchTeam:1})}}function xe(t){let e=t%100;return[,"st","nd","rd"][e>20?e%10:e]||"th"}function we(t){let e=Qt(t);return`background: var(--${e}); color: var(--${e}-secondary);`}function Ee(t,e,a){const l=t.slice();return l[4]=e[a],l}function De(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,V,_,P,S,M,L,z,j,H,F,R,q,U,Y,W,X,J,K,Q,Z,tt,et,at,lt,st,rt=Kt(t[0].upcoming[t[1]].nextTeam)+"",nt=t[0].upcoming[t[1]].atHome?"Home":"Away",ot=t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position+"",it=xe(t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position)+"",ct=(100*t[0].form[t[0].upcoming[t[1]].nextTeam][t[0]._id][ae(t[0],t[0].upcoming[t[1]].nextTeam)].formRating5).toFixed(1)+"",dt=Math.round(t[0].upcoming[t[1]].prediction.homeGoals)+"",ft=Math.round(t[0].upcoming[t[1]].prediction.awayGoals)+"";function ut(t,e){return 0==t[0].upcoming[t[1]].prevMatches.length?ke:Ie}let ht=ut(t),mt=ht(t),pt=t[0].upcoming[t[1]].prevMatches,vt=[];for(let e=0;e<pt.length;e+=1)vt[e]=_e(Ee(t,pt,e));return{c(){e=D("div"),a=D("div"),l=D("h1"),s=I("Next Game: \r\n        "),r=D("button"),n=I(rt),o=I(" "),i=I("\r\n        ("),c=I(nt),d=I(")"),f=k(),u=D("div"),h=D("div"),m=D("div"),p=k(),v=D("div"),g=D("div"),y=D("div"),$=I(ot),V=D("span"),_=I(it),P=k(),S=D("div"),M=I("Current form:\r\n            "),L=D("span"),z=I(ct),j=I("%"),H=k(),F=D("div"),R=I("Score prediction\r\n            "),q=D("br"),U=k(),Y=D("a"),W=D("b"),X=I(dt),J=I(" - "),K=I(ft),Q=k(),Z=D("br"),tt=k(),et=D("div"),mt.c(),at=k();for(let t=0;t<vt.length;t+=1)vt[t].c();this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=N(x,"H1",{class:!0});var E=A(l);s=O(E,"Next Game: \r\n        "),r=N(E,"BUTTON",{class:!0});var D=A(r);n=O(D,rt),o=O(D," "),D.forEach(w),i=O(E,"\r\n        ("),c=O(E,nt),d=O(E,")"),E.forEach(w),x.forEach(w),f=B(b),u=N(b,"DIV",{class:!0});var I=A(u);h=N(I,"DIV",{class:!0});var k=A(h);m=N(k,"DIV",{class:!0}),A(m).forEach(w),p=B(k),v=N(k,"DIV",{class:!0});var T=A(v);g=N(T,"DIV",{class:!0});var G=A(g);y=N(G,"DIV",{class:!0});var C=A(y);$=O(C,ot),V=N(C,"SPAN",{class:!0});var lt=A(V);_=O(lt,it),lt.forEach(w),C.forEach(w),G.forEach(w),P=B(T),S=N(T,"DIV",{class:!0});var st=A(S);M=O(st,"Current form:\r\n            "),L=N(st,"SPAN",{class:!0});var ut=A(L);z=O(ut,ct),j=O(ut,"%"),ut.forEach(w),st.forEach(w),H=B(T),F=N(T,"DIV",{class:!0});var ht=A(F);R=O(ht,"Score prediction\r\n            "),q=N(ht,"BR",{}),U=B(ht),Y=N(ht,"A",{class:!0,href:!0});var pt=A(Y);W=N(pt,"B",{});var gt=A(W);X=O(gt,dt),J=O(gt," - "),K=O(gt,ft),gt.forEach(w),pt.forEach(w),Q=B(ht),Z=N(ht,"BR",{}),ht.forEach(w),T.forEach(w),k.forEach(w),tt=B(I),et=N(I,"DIV",{class:!0});var yt=A(et);mt.l(yt),at=B(yt);for(let t=0;t<vt.length;t+=1)vt[t].l(yt);yt.forEach(w),I.forEach(w),b.forEach(w),this.h()},h(){G(r,"class","next-game-team-btn svelte-ekct43"),G(l,"class","next-game-title-text svelte-ekct43"),G(a,"class","next-game-title svelte-ekct43"),G(m,"class","next-game-position svelte-ekct43"),G(V,"class","ordinal-position svelte-ekct43"),G(y,"class","next-game-position svelte-ekct43"),G(g,"class","next-game-item svelte-ekct43"),G(L,"class","current-form-value svelte-ekct43"),G(S,"class","next-game-item current-form svelte-ekct43"),G(Y,"class","predictions-link svelte-ekct43"),G(Y,"href","/predictions"),G(F,"class","next-game-item svelte-ekct43"),G(v,"class","predictions"),G(h,"class","predictions-and-logo svelte-ekct43"),G(et,"class","past-results svelte-ekct43"),G(u,"class","next-game-values svelte-ekct43"),G(e,"class","next-game-prediction svelte-ekct43")},m(w,E){x(w,e,E),b(e,a),b(a,l),b(l,s),b(l,r),b(r,n),b(r,o),b(l,i),b(l,c),b(l,d),b(e,f),b(e,u),b(u,h),b(h,m),b(h,p),b(h,v),b(v,g),b(g,y),b(y,$),b(y,V),b(V,_),b(v,P),b(v,S),b(S,M),b(S,L),b(L,z),b(L,j),b(v,H),b(v,F),b(F,R),b(F,q),b(F,U),b(F,Y),b(Y,W),b(W,X),b(W,J),b(W,K),b(F,Q),b(F,Z),b(u,tt),b(u,et),mt.m(et,null),b(et,at);for(let t=0;t<vt.length;t+=1)vt[t].m(et,null);lt||(st=T(r,"click",t[3]),lt=!0)},p(t,e){if(3&e&&rt!==(rt=Kt(t[0].upcoming[t[1]].nextTeam)+"")&&C(n,rt),3&e&&nt!==(nt=t[0].upcoming[t[1]].atHome?"Home":"Away")&&C(c,nt),3&e&&ot!==(ot=t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position+"")&&C($,ot),3&e&&it!==(it=xe(t[0].standings[t[0].upcoming[t[1]].nextTeam][t[0]._id].position)+"")&&C(_,it),3&e&&ct!==(ct=(100*t[0].form[t[0].upcoming[t[1]].nextTeam][t[0]._id][ae(t[0],t[0].upcoming[t[1]].nextTeam)].formRating5).toFixed(1)+"")&&C(z,ct),3&e&&dt!==(dt=Math.round(t[0].upcoming[t[1]].prediction.homeGoals)+"")&&C(X,dt),3&e&&ft!==(ft=Math.round(t[0].upcoming[t[1]].prediction.awayGoals)+"")&&C(K,ft),ht!==(ht=ut(t))&&(mt.d(1),mt=ht(t),mt&&(mt.c(),mt.m(et,at))),3&e){let a;for(pt=t[0].upcoming[t[1]].prevMatches,a=0;a<pt.length;a+=1){const l=Ee(t,pt,a);vt[a]?vt[a].p(l,e):(vt[a]=_e(l),vt[a].c(),vt[a].m(et,null))}for(;a<vt.length;a+=1)vt[a].d(1);vt.length=pt.length}},d(t){t&&w(e),mt.d(),E(vt,t),lt=!1,st()}}}function Ve(t){let e,a,l,s,r,n,o,i=t[0]._id+"",c=t[0]._id+1+"";return{c(){e=D("div"),a=D("div"),l=D("h1"),s=I(i),r=I("/"),n=I(c),o=I(" SEASON COMPLETE"),this.h()},l(t){e=N(t,"DIV",{class:!0});var d=A(e);a=N(d,"DIV",{class:!0});var f=A(a);l=N(f,"H1",{class:!0});var u=A(l);s=O(u,i),r=O(u,"/"),n=O(u,c),o=O(u," SEASON COMPLETE"),u.forEach(w),f.forEach(w),d.forEach(w),this.h()},h(){G(l,"class","next-game-title-text svelte-ekct43"),G(a,"class","next-game-season-complete svelte-ekct43"),G(e,"class","next-game-prediction-complete svelte-ekct43")},m(t,i){x(t,e,i),b(e,a),b(a,l),b(l,s),b(l,r),b(l,n),b(l,o)},p(t,e){1&e&&i!==(i=t[0]._id+"")&&C(s,i),1&e&&c!==(c=t[0]._id+1+"")&&C(n,c)},d(t){t&&w(e)}}}function Ie(t){let e,a;return{c(){e=D("div"),a=I("Previous results"),this.h()},l(t){e=N(t,"DIV",{class:!0});var l=A(e);a=O(l,"Previous results"),l.forEach(w),this.h()},h(){G(e,"class","next-game-item prev-results-title svelte-ekct43")},m(t,l){x(t,e,l),b(e,a)},d(t){t&&w(e)}}}function ke(t){let e,a;return{c(){e=D("div"),a=I("No previous results"),this.h()},l(t){e=N(t,"DIV",{class:!0});var l=A(e);a=O(l,"No previous results"),l.forEach(w),this.h()},h(){G(e,"class","next-game-item prev-results-title no-prev-results svelte-ekct43")},m(t,l){x(t,e,l),b(e,a)},d(t){t&&w(e)}}}function _e(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_,T,P,S,M,z,j,H=new Date(t[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"",F=Xt(t[4].homeTeam)+"",R=t[4].homeGoals+"",q=t[4].awayGoals+"",U=Xt(t[4].awayTeam)+"";return{c(){e=D("div"),a=D("div"),l=I(H),s=k(),r=D("div"),n=D("div"),o=D("div"),i=D("div"),c=I(F),f=k(),u=D("div"),h=D("div"),m=I(R),v=k(),g=D("div"),y=D("div"),$=D("div"),E=I(q),_=k(),T=D("div"),P=I(U),M=k(),z=D("div"),j=k(),this.h()},l(t){e=N(t,"DIV",{class:!0});var d=A(e);a=N(d,"DIV",{class:!0});var p=A(a);l=O(p,H),p.forEach(w),s=B(d),r=N(d,"DIV",{class:!0});var b=A(r);n=N(b,"DIV",{class:!0});var x=A(n);o=N(x,"DIV",{class:!0});var D=A(o);i=N(D,"DIV",{class:!0,style:!0});var V=A(i);c=O(V,F),V.forEach(w),f=B(D),u=N(D,"DIV",{class:!0,style:!0});var I=A(u);h=N(I,"DIV",{class:!0});var k=A(h);m=O(k,R),k.forEach(w),I.forEach(w),D.forEach(w),v=B(x),g=N(x,"DIV",{class:!0});var G=A(g);y=N(G,"DIV",{class:!0,style:!0});var S=A(y);$=N(S,"DIV",{class:!0});var C=A($);E=O(C,q),C.forEach(w),S.forEach(w),_=B(G),T=N(G,"DIV",{class:!0,style:!0});var L=A(T);P=O(L,U),L.forEach(w),G.forEach(w),x.forEach(w),M=B(b),z=N(b,"DIV",{style:!0}),A(z).forEach(w),b.forEach(w),j=B(d),d.forEach(w),this.h()},h(){G(a,"class","past-result-date result-details svelte-ekct43"),G(i,"class","home-team svelte-ekct43"),G(i,"style",d=we(t[4].homeTeam)),G(h,"class","home-goals svelte-ekct43"),G(u,"class","goals-container svelte-ekct43"),G(u,"style",p=we(Ge(t[4],!0))),G(o,"class","left-side svelte-ekct43"),G($,"class","away-goals svelte-ekct43"),G(y,"class","goals-container svelte-ekct43"),G(y,"style",V=we(Ge(t[4],!1))),G(T,"class","away-team svelte-ekct43"),G(T,"style",S=we(t[4].awayTeam)),G(g,"class","right-side svelte-ekct43"),G(n,"class","past-result svelte-ekct43"),L(z,"clear","both"),G(r,"class","next-game-item result-details svelte-ekct43"),G(e,"class","next-game-item-container")},m(t,d){x(t,e,d),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(n,o),b(o,i),b(i,c),b(o,f),b(o,u),b(u,h),b(h,m),b(n,v),b(n,g),b(g,y),b(y,$),b($,E),b(g,_),b(g,T),b(T,P),b(r,M),b(r,z),b(e,j)},p(t,e){3&e&&H!==(H=new Date(t[4].date).toLocaleDateString("en-GB",{year:"numeric",month:"short",day:"numeric"})+"")&&C(l,H),3&e&&F!==(F=Xt(t[4].homeTeam)+"")&&C(c,F),3&e&&d!==(d=we(t[4].homeTeam))&&G(i,"style",d),3&e&&R!==(R=t[4].homeGoals+"")&&C(m,R),3&e&&p!==(p=we(Ge(t[4],!0)))&&G(u,"style",p),3&e&&q!==(q=t[4].awayGoals+"")&&C(E,q),3&e&&V!==(V=we(Ge(t[4],!1)))&&G(y,"style",V),3&e&&U!==(U=Xt(t[4].awayTeam)+"")&&C(P,U),3&e&&S!==(S=we(t[4].awayTeam))&&G(T,"style",S)},d(t){t&&w(e)}}}function Te(e){let a;function l(t,e){return null==t[0].upcoming[t[1]].nextTeam?Ve:De}let s=l(e),r=s(e);return{c(){r.c(),a=_()},l(t){r.l(t),a=_()},m(t,e){r.m(t,e),x(t,a,e)},p(t,[e]){s===(s=l(t))&&r?r.p(t,e):(r.d(1),r=s(t),r&&(r.c(),r.m(a.parentNode,a)))},i:t,o:t,d(t){r.d(t),t&&w(a)}}}function Ge(t,e){return e?t.homeGoals<t.awayGoals?t.awayTeam:t.homeTeam:t.homeGoals>t.awayGoals?t.homeTeam:t.awayTeam}function Ae(t,e,a){let{data:l,team:s,switchTeam:r}=e;return t.$$set=t=>{"data"in t&&a(0,l=t.data),"team"in t&&a(1,s=t.team),"switchTeam"in t&&a(2,r=t.switchTeam)},[l,s,r,()=>{r(Qt(l.upcoming[s].nextTeam))}]}class Pe extends yt{constructor(t){super(),gt(this,t,Ae,Te,n,{data:0,team:1,switchTeam:2})}}function Se(t,e){return Math.round(t.homeGoals)==e.homeGoals&&Math.round(t.awayGoals)==e.awayGoals}function Ne(t,e){return Math.round(t.homeGoals)>Math.round(t.awayGoals)&&Math.round(e.homeGoals)>Math.round(e.awayGoals)||Math.round(t.homeGoals)==Math.round(t.awayGoals)&&Math.round(e.homeGoals)==Math.round(e.awayGoals)||Math.round(t.homeGoals)<Math.round(t.awayGoals)&&Math.round(e.homeGoals)<Math.round(e.awayGoals)}function Me(t,e,a){return 0==e&&a||0==t&&!a}function Oe(t,e,a){return a?t:e}function Be(t,e,a){return a?e:t}function Ce(t,e,a){return 0==t&&a||0==e&&!a}function Le(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_,T,P,S,M,L,z,j,H,F,R,q,U,Y,W,X,J,K,Q,Z,tt,et,at,lt,st=t[2].xG+"",rt=t[1][t[0]].xG.toFixed(2)+"",nt=t[2].xG+"",ot=t[2].xC+"",it=t[1][t[0]].xC.toFixed(2)+"",ct=t[2].xC+"",dt=t[2].cleanSheetRatio+"",ft=t[1][t[0]].cleanSheetRatio.toFixed(2)+"",ut=t[2].cleanSheetRatio+"";return{c(){e=D("div"),a=D("div"),l=D("div"),s=D("div"),r=I(st),n=k(),o=D("div"),i=I(rt),c=k(),d=D("div"),f=I(nt),h=k(),m=D("div"),p=I("goals per game"),v=k(),g=D("div"),y=D("div"),$=D("div"),E=I(ot),V=k(),_=D("div"),T=I(it),P=k(),S=D("div"),M=I(ct),z=k(),j=D("div"),H=I("conceded per game"),F=k(),R=D("div"),q=D("div"),U=D("div"),Y=I(dt),W=k(),X=D("div"),J=I(ft),K=k(),Q=D("div"),Z=I(ut),et=k(),at=D("div"),lt=I("clean sheets"),this.h()},l(t){e=N(t,"DIV",{class:!0});var u=A(e);a=N(u,"DIV",{class:!0});var b=A(a);l=N(b,"DIV",{class:!0});var x=A(l);s=N(x,"DIV",{class:!0});var D=A(s);r=O(D,st),D.forEach(w),n=B(x),o=N(x,"DIV",{class:!0});var I=A(o);i=O(I,rt),I.forEach(w),c=B(x),d=N(x,"DIV",{class:!0});var k=A(d);f=O(k,nt),k.forEach(w),x.forEach(w),h=B(b),m=N(b,"DIV",{class:!0});var G=A(m);p=O(G,"goals per game"),G.forEach(w),b.forEach(w),v=B(u),g=N(u,"DIV",{class:!0});var C=A(g);y=N(C,"DIV",{class:!0});var L=A(y);$=N(L,"DIV",{class:!0});var tt=A($);E=O(tt,ot),tt.forEach(w),V=B(L),_=N(L,"DIV",{class:!0});var ht=A(_);T=O(ht,it),ht.forEach(w),P=B(L),S=N(L,"DIV",{class:!0});var mt=A(S);M=O(mt,ct),mt.forEach(w),L.forEach(w),z=B(C),j=N(C,"DIV",{class:!0});var pt=A(j);H=O(pt,"conceded per game"),pt.forEach(w),C.forEach(w),F=B(u),R=N(u,"DIV",{class:!0});var vt=A(R);q=N(vt,"DIV",{class:!0});var gt=A(q);U=N(gt,"DIV",{class:!0});var yt=A(U);Y=O(yt,dt),yt.forEach(w),W=B(gt),X=N(gt,"DIV",{class:!0});var $t=A(X);J=O($t,ft),$t.forEach(w),K=B(gt),Q=N(gt,"DIV",{class:!0});var bt=A(Q);Z=O(bt,ut),bt.forEach(w),gt.forEach(w),et=B(vt),at=N(vt,"DIV",{class:!0});var xt=A(at);lt=O(xt,"clean sheets"),xt.forEach(w),vt.forEach(w),u.forEach(w),this.h()},h(){G(s,"class","season-stat-position hidden svelte-hgcuuq"),G(o,"class","season-stat-number"),G(d,"class",u="season-stat-position ssp-"+t[2].xG+" svelte-hgcuuq"),G(l,"class","season-stat-value svelte-hgcuuq"),G(m,"class","season-stat-text svelte-hgcuuq"),G(a,"class","season-stat goals-per-game svelte-hgcuuq"),G($,"class","season-stat-position hidden svelte-hgcuuq"),G(_,"class","season-stat-number"),G(S,"class",L="season-stat-position ssp-"+t[2].xC+" svelte-hgcuuq"),G(y,"class","season-stat-value svelte-hgcuuq"),G(j,"class","season-stat-text svelte-hgcuuq"),G(g,"class","season-stat conceded-per-game svelte-hgcuuq"),G(U,"class","season-stat-position hidden svelte-hgcuuq"),G(X,"class","season-stat-number"),G(Q,"class",tt="season-stat-position ssp-"+t[2].cleanSheetRatio+" svelte-hgcuuq"),G(q,"class","season-stat-value svelte-hgcuuq"),G(at,"class","season-stat-text svelte-hgcuuq"),G(R,"class","season-stat clean-sheet-ratio svelte-hgcuuq"),G(e,"class","season-stats svelte-hgcuuq")},m(t,u){x(t,e,u),b(e,a),b(a,l),b(l,s),b(s,r),b(l,n),b(l,o),b(o,i),b(l,c),b(l,d),b(d,f),b(a,h),b(a,m),b(m,p),b(e,v),b(e,g),b(g,y),b(y,$),b($,E),b(y,V),b(y,_),b(_,T),b(y,P),b(y,S),b(S,M),b(g,z),b(g,j),b(j,H),b(e,F),b(e,R),b(R,q),b(q,U),b(U,Y),b(q,W),b(q,X),b(X,J),b(q,K),b(q,Q),b(Q,Z),b(R,et),b(R,at),b(at,lt)},p(t,e){4&e&&st!==(st=t[2].xG+"")&&C(r,st),3&e&&rt!==(rt=t[1][t[0]].xG.toFixed(2)+"")&&C(i,rt),4&e&&nt!==(nt=t[2].xG+"")&&C(f,nt),4&e&&u!==(u="season-stat-position ssp-"+t[2].xG+" svelte-hgcuuq")&&G(d,"class",u),4&e&&ot!==(ot=t[2].xC+"")&&C(E,ot),3&e&&it!==(it=t[1][t[0]].xC.toFixed(2)+"")&&C(T,it),4&e&&ct!==(ct=t[2].xC+"")&&C(M,ct),4&e&&L!==(L="season-stat-position ssp-"+t[2].xC+" svelte-hgcuuq")&&G(S,"class",L),4&e&&dt!==(dt=t[2].cleanSheetRatio+"")&&C(Y,dt),3&e&&ft!==(ft=t[1][t[0]].cleanSheetRatio.toFixed(2)+"")&&C(J,ft),4&e&&ut!==(ut=t[2].cleanSheetRatio+"")&&C(Z,ut),4&e&&tt!==(tt="season-stat-position ssp-"+t[2].cleanSheetRatio+" svelte-hgcuuq")&&G(Q,"class",tt)},d(t){t&&w(e)}}}function ze(e){let a,l=null!=e[1]&&Le(e);return{c(){l&&l.c(),a=_()},l(t){l&&l.l(t),a=_()},m(t,e){l&&l.m(t,e),x(t,a,e)},p(t,[e]){null!=t[1]?l?l.p(t,e):(l=Le(t),l.c(),l.m(a.parentNode,a)):l&&(l.d(1),l=null)},i:t,o:t,d(t){l&&l.d(t),t&&w(a)}}}function je(t,e,a,l){let s=Object.keys(t).sort((function(a,l){return t[l][e]-t[a][e]})).indexOf(a)+1;return l&&(s=21-s),s}function He(t,e,a){function l(t,e){a(2,n=function(t,e){let a=je(t,"xG",e,!1),l=je(t,"xC",e,!0),s=je(t,"cleanSheetRatio",e,!1);return{xG:`${a}${xe(a)}`,xC:`${l}${xe(l)}`,cleanSheetRatio:`${s}${xe(s)}`}}(t,e))}function s(t,e,a,l){if(a in t.form)for(let s of Object.keys(t.form[a][l])){let r=t.form[a][l][s].score;if(null!=r){let n=t.form[a][l][s].atHome;Me(r.homeGoals,r.awayGoals,n)&&(e[a].cleanSheetRatio+=1),Ce(r.homeGoals,r.awayGoals,n)&&(e[a].noGoalRatio+=1),e[a].xG+=Oe(r.homeGoals,r.awayGoals,n),e[a].xC+=Be(r.homeGoals,r.awayGoals,n),e[a].played+=1}}}let r,n={xG:"",xC:"",cleanSheetRatio:""},o=!1;F((()=>{a(1,r=function(t){let e={};for(let a of Object.keys(t.standings))e[a]={cleanSheetRatio:0,noGoalRatio:0,xC:0,xG:0,played:0},s(t,e,a,t._id),s(t,e,a,t._id-1),e[a].played>0&&(e[a].xG/=e[a].played,e[a].xC/=e[a].played,e[a].cleanSheetRatio/=e[a].played,e[a].noGoalRatio/=e[a].played);return e}(i)),l(r,c),o=!0}));let{data:i,team:c}=e;return t.$$set=t=>{"data"in t&&a(3,i=t.data),"team"in t&&a(0,c=t.team)},t.$$.update=()=>{1&t.$$.dirty&&c&&o&&l(r,c)},[c,r,n,i]}class Fe extends yt{constructor(t){super(),gt(this,t,He,ze,n,{data:3,team:0})}}function Re(t){let e,a,l,s,r=new Date(t[0]).toLocaleString()+"";return{c(){e=D("div"),a=I("Last updated: "),l=I(r),s=I(" UTC"),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=A(e);a=O(n,"Last updated: "),l=O(n,r),s=O(n," UTC"),n.forEach(w),this.h()},h(){G(e,"class","last-updated no-select svelte-10mkvm0")},m(t,r){x(t,e,r),b(e,a),b(e,l),b(e,s)},p(t,e){1&e&&r!==(r=new Date(t[0]).toLocaleString()+"")&&C(l,r)},d(t){t&&w(e)}}}function qe(e){let a,l,s,r,n,o,i,c=null!=e[0]&&Re(e);return{c(){a=D("div"),l=D("div"),c&&c.c(),s=k(),r=D("div"),n=D("span"),o=I("pl"),i=I("dashboard"),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{class:!0});var d=A(l);c&&c.l(d),s=B(d),r=N(d,"DIV",{class:!0});var f=A(r);n=N(f,"SPAN",{class:!0});var u=A(n);o=O(u,"pl"),u.forEach(w),i=O(f,"dashboard"),f.forEach(w),d.forEach(w),e.forEach(w),this.h()},h(){G(n,"class","pl svelte-10mkvm0"),G(r,"class","version no-select svelte-10mkvm0"),G(l,"class","teams-footer-bottom svelte-10mkvm0"),G(a,"class","teams-footer footer-text-colour svelte-10mkvm0")},m(t,e){x(t,a,e),b(a,l),c&&c.m(l,null),b(l,s),b(l,r),b(r,n),b(n,o),b(r,i)},p(t,[e]){null!=t[0]?c?c.p(t,e):(c=Re(t),c.c(),c.m(l,s)):c&&(c.d(1),c=null)},i:t,o:t,d(t){t&&w(a),c&&c.d()}}}function Ue(t,e,a){let{lastUpdated:l}=e;return t.$$set=t=>{"lastUpdated"in t&&a(0,l=t.lastUpdated)},[l]}class Ye extends yt{constructor(t){super(),gt(this,t,Ue,qe,n,{lastUpdated:0})}}function We(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[5](l)},p:t,i:t,o:t,d(t){t&&w(a),e[5](null)}}}function Xe(t,e){let a=Array.from(Array(11),((t,e)=>10*e)),[l,s]=function(t){let e=new Date(t[0]);e.setDate(e.getDate()-7);let a=new Date(t[t.length-1]);return a.setDate(a.getDate()+7),[e,a]}(t),r=function(t,e){let a=null;return t<=e&&(a={type:"line",x0:t,y0:-4,x1:t,y1:104,line:{color:"black",dash:"dot",width:1}}),a}(e,s);return{title:!1,autosize:!0,margin:{r:20,l:60,t:5,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Team rating"},gridcolor:"#d6d6d6",showline:!1,zeroline:!1,fixedrange:!0,ticktext:a,tickvals:a},xaxis:{linecolor:"black",showgrid:!1,showline:!1,range:[l,s],fixedrange:!0},shapes:[r],dragmode:!1}}function Je(t,e,a){function l(t,e){let a,l,s;return e.atHome?(l=Kt(t),s=Kt(e.team)):(l=Kt(e.team),s=Kt(t)),a=null!=e.score?`${l} ${e.score.homeGoals} - ${e.score.awayGoals} ${s}`:`${l} vs ${s}`,a}function s(t,e,a){let[s,r,n]=function(t,e){let a=[],s=[],r=[];for(let n=1;n<=38;n++){let o=t.fixtures[e][n];a.push(new Date(o.date));let i=t.teamRatings[o.team].totalRating;o.atHome&&(i*=1-t.homeAdvantages[o.team].totalHomeAdvantage),s.push(100*i);let c=l(e,o);r.push(c)}return[a,s,r]}(t,e);!function(t,e,a){let l=[];for(let s=0;s<t.length;s++)l.push({x:t[s],y:e[s],details:a[s]});l.sort((function(t,e){return t.x<e.x?-1:t.x==e.x?0:1}));for(let s=0;s<l.length;s++)t[s]=l[s].x,e[s]=l[s].y,a[s]=l[s].details}(s,r,n);let o=Array.from({length:38},((t,e)=>e+1)),i=Array(s.length).fill(13);return i=function(t,e,a,l){let s,r=Number.POSITIVE_INFINITY;for(let t=0;t<e.length;t++){let l=e[t]-a;0<l&&l<r&&(r=l,s=t)}return null!=s&&(t[s]=l),t}(i,s,a,26),{x:s,y:r,type:"scatter",mode:"lines+markers",text:n,line:{color:"#737373"},marker:{size:i,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:r,opacity:1,line:{width:1}},customdata:o,hovertemplate:"<b>%{text}</b><br>Matchday %{customdata}<br>%{x|%d %b %Y}<br>Team rating: <b> %{y:.1f}%</b><extra></extra>"}}function r(){if(c){let t={"yaxis.title":null,"margin.l":20,"yaxis.color":"#fafafa"},e=i.data[0].marker.size;for(let t=0;t<e.length;t++)e[t]=Math.round(e[t]/1.7);let a={marker:{size:e,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=e,Plotly.update(o,a,t,0)}}function n(){i=function(t,e){let a=Date.now(),l=s(t,e,a);return{data:[l],layout:Xe(l.x,a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let o,i,c=!1;F((()=>{n(),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){let t=s(d,f,Date.now());i.data[0]=t,Plotly.redraw(o),u&&r()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Team rating"},"margin.l":60,"yaxis.color":"black"},e=i.data[0].marker.size;for(let t=0;t<e.length;t++)e[t]=Math.round(1.7*e[t]);let a={marker:{size:e,colorscale:[[0,"#00fe87"],[.5,"#f3f3f3"],[1,"#f83027"]],color:i.data[0].y,opacity:1,line:{width:1}}};i.data[0].marker.size=e,Plotly.update(o,a,t,0)}}(),24&t.$$.dirty&&c&&u&&r()},[o,d,f,u,c,function(t){Y[t?"unshift":"push"]((()=>{o=t,a(0,o)}))}]}class Ke extends yt{constructor(t){super(),gt(this,t,Je,We,n,{data:1,team:2,mobileView:3})}}function Qe(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[7](l)},p:t,i:t,o:t,d(t){t&&w(a),e[7](null)}}}function Ze(t,e,a){function l(t,e,a){let l=[],s=[];for(let a in t.form[e][t._id])null!=t.form[e][t._id][a].score&&(s.push(a),l.push(new Date(t.form[e][t._id][a].date)));let r,n=[];for(let a of s){let l=t.form[e][t._id][a].formRating5;n.push(100*l)}if(a){let t=Qt(e);r={color:getComputedStyle(document.documentElement).getPropertyValue(`--${t}`),width:4}}else r={color:"#d3d3d3"};return{x:s,y:n,name:e,mode:"lines",line:r,text:l,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Form: <b>%{y:.1f}%</b><extra></extra>`,showlegend:!1}}function s(t,e){let a=[],s=Object.keys(t.standings);for(let r=0;r<s.length;r++)if(s[r]!=e){let e=l(t,s[r],!1);a.push(e)}let r=l(t,e,!0);return a.push(r),a}function r(){let t=Array.from(Array(11),((t,e)=>10*e));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Form rating"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,ticktext:t,tickvals:t,range:[-1,101]},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,range:[h[0],h[h.length-1]]},dragmode:!1}}function n(){if(d){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(i,{},t)}}function o(t,e){return{data:s(t,e),layout:r(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let i,c,d=!1;F((()=>{c=o(f,u),new Plotly.newPlot(i,c.data,c.layout,c.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),setTimeout((()=>{a(1,m=!0)}),3e3),a(6,d=!0)}));let{data:f,team:u,playedDates:h,lazyLoad:m,mobileView:p}=e;return t.$$set=t=>{"data"in t&&a(2,f=t.data),"team"in t&&a(3,u=t.team),"playedDates"in t&&a(4,h=t.playedDates),"lazyLoad"in t&&a(1,m=t.lazyLoad),"mobileView"in t&&a(5,p=t.mobileView)},t.$$.update=()=>{8&t.$$.dirty&&u&&function(){if(d){let t=o(f,u);for(let e=0;e<20;e++)c.data[e]=t.data[e];c.layout.xaxis.range[0]=h[0],c.layout.xaxis.range[1]=h[h.length-1],Plotly.redraw(i),p&&n()}}(),32&t.$$.dirty&&!p&&function(){if(d){let t={"yaxis.title":{text:"Form rating"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(i,{},t)}}(),96&t.$$.dirty&&d&&p&&n()},[i,m,f,u,h,p,d,function(t){Y[t?"unshift":"push"]((()=>{i=t,a(0,i)}))}]}class ta extends yt{constructor(t){super(),gt(this,t,Ze,Qe,n,{data:2,team:3,playedDates:4,lazyLoad:1,mobileView:5})}}function ea(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[5](l)},p:t,i:t,o:t,d(t){t&&w(a),e[5](null)}}}function aa(t,e,a){function l(t,e,a){let l=Object.keys(t.form[e][t._id]),s=function(t,e,a){let l=[];for(let s=0;s<a.length;s++){let r=t.form[e][t._id][a[s]].date;l.push(r)}return l}(t,e,l),r=function(t,e,a){let l=[];for(let s=0;s<a.length;s++){let r=t.form[e][t._id][a[s]].position;l.push(r)}return l}(t,e,l),n=function(t,e){let a;if(e){let e=Qt(t);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else a={color:"#d3d3d3"};return a}(e,a);return{x:l,y:r,name:e,mode:"lines",line:n,text:s,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function s(t,e){let a=[],s=Object.keys(t.standings);for(let r=0;r<s.length;r++)if(s[r]!=e){let e=l(t,s[r],!1);a.push(e)}let r=l(t,e,!0);return a.push(r),a}function r(){let t=Object.keys(u.form[h][u._id]);return[{type:"rect",x0:t[0],y0:4.5,x1:t[t.length-1],y1:.5,line:{width:0},fillcolor:"#00fe87",opacity:.2,layer:"below"},{type:"rect",x0:t[0],y0:6.5,x1:t[t.length-1],y1:4.5,line:{width:0},fillcolor:"#02efff",opacity:.2,layer:"below"},{type:"rect",x0:t[0],y0:20.5,x1:t[t.length-1],y1:17.5,line:{width:0},fillcolor:"#f83027",opacity:.2,layer:"below"}]}function n(){let t=Array.from(Array(20),((t,e)=>e+1));return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Position"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,autorange:"reversed",fixedrange:!0,ticktext:t,tickvals:t,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},shapes:r(),dragmode:!1}}function o(){if(f){let t={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((t,e)=>e+2)),"margin.l":20,"margin.t":5};Plotly.update(c,{},t)}}function i(t,e){return{data:s(t,e),layout:n(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let c,d,f=!1;F((()=>{d=i(u,h),new Plotly.newPlot(c,d.data,d.layout,d.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,f=!0)}));let{data:u,team:h,mobileView:m}=e;return t.$$set=t=>{"data"in t&&a(1,u=t.data),"team"in t&&a(2,h=t.team),"mobileView"in t&&a(3,m=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&h&&function(){if(f){let t=i(u,h);for(let e=0;e<20;e++)d.data[e]=t.data[e];d.layout.shapes=r(),Plotly.redraw(c),m&&o()}}(),8&t.$$.dirty&&!m&&function(){if(f){let t={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((t,e)=>e+1)),"margin.l":60,"margin.t":15};Plotly.update(c,{},t)}}(),24&t.$$.dirty&&f&&m&&o()},[c,u,h,m,f,function(t){Y[t?"unshift":"push"]((()=>{c=t,a(0,c)}))}]}class la extends yt{constructor(t){super(),gt(this,t,aa,ea,n,{data:1,team:2,mobileView:3})}}function sa(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[5](l)},p:t,i:t,o:t,d(t){t&&w(a),e[5](null)}}}function ra(t,e,a){function l(t,e,a){let l=Object.keys(t.form[e][t._id]),s=function(t,e,a){let l=[];for(let s=0;s<a.length;s++){let r=t.form[e][t._id][a[s]].date;l.push(r)}return l}(t,e,l),r=function(t,e,a){let l=[];for(let s of a){let a=t.form[e][t._id][s].cumPoints;l.push(a)}return l}(t,e,l),n=function(t,e){let a;if(e){let e=Qt(t);a={color:getComputedStyle(document.documentElement).getPropertyValue(`--${e}`),width:4}}else a={color:"#d3d3d3"};return a}(e,a);return{x:l,y:r,name:e,mode:"lines",line:n,text:s,hovertemplate:`<b>${e}</b><br>Matchday %{x}<br>%{text|%d %b %Y}<br>Position: <b>%{y}</b><extra></extra>`,showlegend:!1}}function s(t,e){let a=[],s=Object.keys(t.standings);for(let r=0;r<s.length;r++)if(s[r]!=e){let e=l(t,s[r],!1);a.push(e)}let r=l(t,e,!0);return a.push(r),a}function r(){if(c){let t={"yaxis.title":null,"yaxis.visible":!1,"yaxis.tickvals":Array.from(Array(10),((t,e)=>e+2)),"margin.l":20,"margin.t":5};Plotly.update(o,{},t)}}function n(t,e){return{data:s(t,e),layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:0,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Points"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,visible:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let o,i,c=!1;F((()=>{i=n(d,f),new Plotly.newPlot(o,i.data,i.layout,i.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){let t=n(d,f);for(let e=0;e<20;e++)i.data[e]=t.data[e];Plotly.redraw(o),u&&r()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Position"},"yaxis.visible":!0,"yaxis.tickvals":Array.from(Array(20),((t,e)=>e+1)),"margin.l":60,"margin.t":15};Plotly.update(o,{},t)}}(),24&t.$$.dirty&&c&&u&&r()},[o,d,f,u,c,function(t){Y[t?"unshift":"push"]((()=>{o=t,a(0,o)}))}]}class na extends yt{constructor(t){super(),gt(this,t,ra,sa,n,{data:1,team:2,mobileView:3})}}function oa(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[6](l)},p:t,i:t,o:t,d(t){t&&w(a),e[6](null)}}}function ia(t){let e={};for(let a of Object.keys(t.standings))for(let l of Object.keys(t.form[a][t._id])){let s=t.form[a][t._id][l].score;null!=s&&(l in e?e[l]+=s.homeGoals+s.awayGoals:e[l]=s.homeGoals+s.awayGoals)}for(let t of Object.keys(e))e[t]/=20;return e}function ca(t,e){let a={},l={};for(let s of Object.keys(t.form[e][t._id])){let r=t.form[e][t._id][s].score;null!=r&&(t.form[e][t._id][s].atHome?(a[s]=r.homeGoals,l[s]=r.awayGoals):(a[s]=r.awayGoals,l[s]=r.homeGoals))}return[a,l]}function da(t,e,a){return{name:"Avg",type:"line",x:t,y:Object.values(e),text:a,line:{color:"#0080FF",width:2},hovertemplate:"<b>Matchday %{text}</b><br>%{y:.1f} goals<extra></extra>"}}function fa(t,e,a){return{name:"Scored",type:"bar",x:t,y:Object.values(e),text:a,marker:{color:"#00fe87"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function ua(t,e,a){return{name:"Conceded",type:"bar",x:t,y:Object.values(e),text:a,marker:{color:"#f83027"},hovertemplate:"<b>Matchday %{text}</b><br>%{y} goals scored<extra></extra>"}}function ha(t,e,a){function l(){if(n){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(s,{},t)}}let s,r,n=!1;F((()=>{r=function(t,e){let[a,l]=ca(t,e),s=ia(t),r=Object.keys(s);return{data:[fa(c,a,r),ua(c,l,r),da(c,s,r)],layout:{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:15,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,rangemode:"nonnegative",visible:!0,tickformat:"d"},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,showticklabels:!1},legend:{x:1,xanchor:"right",y:1},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(o,i),new Plotly.newPlot(s,r.data,r.layout,r.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(5,n=!0)}));let{data:o,team:i,playedDates:c,mobileView:d}=e;return t.$$set=t=>{"data"in t&&a(1,o=t.data),"team"in t&&a(2,i=t.team),"playedDates"in t&&a(3,c=t.playedDates),"mobileView"in t&&a(4,d=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&i&&function(){if(n){let[t,e]=ca(o,i),a=ia(o),n=Object.keys(a),f=fa(c,t,n),u=ua(c,e,n),h=da(c,a,n);r.data[0]=f,r.data[1]=u,r.data[2]=h,Plotly.redraw(s),d&&l()}}(),16&t.$$.dirty&&!d&&function(){if(n){let t={"yaxis.title":{text:"Goals"},"yaxis.visible":!0,"margin.l":60};Plotly.update(s,{},t)}}(),48&t.$$.dirty&&n&&d&&l()},[s,o,i,c,d,n,function(t){Y[t?"unshift":"push"]((()=>{s=t,a(0,s)}))}]}class ma extends yt{constructor(t){super(),gt(this,t,ha,oa,n,{data:1,team:2,playedDates:3,mobileView:4})}}function pa(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[6](l)},p:t,i:t,o:t,d(t){t&&w(a),e[6](null)}}}function va(t,e,a,l){let[s,r]=function(t,e){let a=[],l=[];for(let s of Object.keys(t.form[e][t._id])){let r=t.form[e][t._id][s].score;null!=r&&(t.form[e][t._id][s].atHome?r.awayGoals>0?(a.push(1),l.push(0)):(l.push(1),a.push(0)):r.homeGoals>0?(a.push(1),l.push(0)):(l.push(1),a.push(0)))}return[l,a]}(t,e);return[{name:"Clean sheets",type:"bar",x:a,y:s,text:l,marker:{color:"#00fe87"},hovertemplate:"<b>Clean sheet<extra></extra>",showlegend:!1},{name:"Conceded",type:"bar",x:a,y:r,text:l,marker:{color:"#f83027"},hovertemplate:"<b>Goals conceded<extra></extra>",showlegend:!1}]}function ga(t){return{name:"Avg",type:"line",x:t,y:Array(t.length).fill(1.1),line:{color:"#FAFAFA",width:1},marker:{size:1},hoverinfo:"skip"}}function ya(t,e,a){function l(){return{type:"line",x0:f[0],y0:.5,x1:f[f.length-1],y1:.5,layer:"below",line:{color:"#d3d3d3",width:2}}}function s(t){return{title:!1,autosize:!0,height:60,margin:{r:20,l:60,t:0,b:40,pad:5},barmode:"stack",hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{showticklabels:!1,gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Matchday"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:f,ticktext:t},shapes:[l()],dragmode:!1,showlegend:!1}}function r(){if(i){let t={"margin.l":20};Plotly.update(n,{},t)}}let n,o,i=!1;F((()=>{o=function(t,e){let a=ee(t,e),[l,r]=va(t,e,f,a);return{data:[l,r,ga(l.x)],layout:s(a),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(c,d),new Plotly.newPlot(n,o.data,o.layout,o.config),a(5,i=!0)}));let{data:c,team:d,playedDates:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,c=t.data),"team"in t&&a(2,d=t.team),"playedDates"in t&&a(3,f=t.playedDates),"mobileView"in t&&a(4,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&d&&function(){if(i){let t=ee(c,d),[e,a]=va(c,d,f,t),s=ga(e.x);o.data[0]=e,o.data[1]=a,o.data[2]=s;for(let e=0;e<t.length;e++)o.layout.xaxis.ticktext[e]=t[e];o.layout.shapes[0]=l(),Plotly.redraw(n),u&&r()}}(),16&t.$$.dirty&&!u&&function(){if(i){let t={"margin.l":60};Plotly.update(n,{},t)}}(),48&t.$$.dirty&&i&&u&&r()},[n,c,d,f,u,i,function(t){Y[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class $a extends yt{constructor(t){super(),gt(this,t,ya,pa,n,{data:1,team:2,playedDates:3,mobileView:4})}}function ba(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[8](l)},p:t,i:t,o:t,d(t){t&&w(a),e[8](null)}}}function xa(t,e,a){function l(){let t=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Scored"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:t,tickvals:t},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function s(){if(i){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(n,{},t)}}function r(){o={data:d(),layout:l(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(n,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let n,o,i=!1;F((()=>{r(),a(7,i=!0)}));let{team:c,getScoredBars:d,getScoredTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=e;return t.$$set=t=>{"team"in t&&a(1,c=t.team),"getScoredBars"in t&&a(2,d=t.getScoredBars),"getScoredTeamBars"in t&&a(3,f=t.getScoredTeamBars),"getXLabels"in t&&a(4,u=t.getXLabels),"getYAxisLayout"in t&&a(5,h=t.getYAxisLayout),"mobileView"in t&&a(6,m=t.mobileView)},t.$$.update=()=>{2&t.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(n,{yaxis:h()}),Plotly.redraw(n),m&&s()),64&t.$$.dirty&&!m&&function(){if(i){let t={"yaxis.title":{text:"Scored"},"yaxis.visible":!0,"margin.l":60};Plotly.update(n,{},t)}}(),192&t.$$.dirty&&i&&m&&s()},[n,c,d,f,u,h,m,i,function(t){Y[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class wa extends yt{constructor(t){super(),gt(this,t,xa,ba,n,{team:1,getScoredBars:2,getScoredTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function Ea(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[8](l)},p:t,i:t,o:t,d(t){t&&w(a),e[8](null)}}}function Da(t,e,a){function l(){let t=u();return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:h(),xaxis:{title:{text:"Conceded"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,ticktext:t,tickvals:t},legend:{x:1,xanchor:"right",y:.95},dragmode:!1}}function s(){if(i){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20};Plotly.update(n,{},t)}}function r(){o={data:d(),layout:l(),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}},new Plotly.newPlot(n,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")}))}let n,o,i=!1;F((()=>{r(),a(7,i=!0)}));let{team:c,getConcededBars:d,getConcededTeamBars:f,getXLabels:u,getYAxisLayout:h,mobileView:m}=e;return t.$$set=t=>{"team"in t&&a(1,c=t.team),"getConcededBars"in t&&a(2,d=t.getConcededBars),"getConcededTeamBars"in t&&a(3,f=t.getConcededTeamBars),"getXLabels"in t&&a(4,u=t.getXLabels),"getYAxisLayout"in t&&a(5,h=t.getYAxisLayout),"mobileView"in t&&a(6,m=t.mobileView)},t.$$.update=()=>{2&t.$$.dirty&&c&&i&&(o.data[1]=f(),Plotly.relayout(n,{yaxis:h()}),Plotly.redraw(n),m&&s()),64&t.$$.dirty&&!m&&function(){if(i){let t={"yaxis.title":{text:"Conceded"},"yaxis.visible":!0,"margin.l":60};Plotly.update(n,{},t)}}(),192&t.$$.dirty&&i&&m&&s()},[n,c,d,f,u,h,m,i,function(t){Y[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class Va extends yt{constructor(t){super(),gt(this,t,Da,Ea,n,{team:1,getConcededBars:2,getConcededTeamBars:3,getXLabels:4,getYAxisLayout:5,mobileView:6})}}function Ia(t){let e,a,l,s,r,n;return a=new wa({props:{team:t[0],getScoredBars:t[3],getScoredTeamBars:t[5],getXLabels:t[7],getYAxisLayout:t[8],mobileView:t[1]}}),r=new Va({props:{team:t[0],getConcededBars:t[4],getConcededTeamBars:t[6],getXLabels:t[7],getYAxisLayout:t[8],mobileView:t[1]}}),{c(){e=D("div"),ut(a.$$.fragment),l=k(),s=D("div"),ut(r.$$.fragment),this.h()},l(t){e=N(t,"DIV",{class:!0});var n=A(e);ht(a.$$.fragment,n),n.forEach(w),l=B(t),s=N(t,"DIV",{class:!0});var o=A(s);ht(r.$$.fragment,o),o.forEach(w),this.h()},h(){G(e,"class","graph freq-graph mini-graph svelte-fqqlfs"),G(s,"class","graph freq-graph mini-graph svelte-fqqlfs")},m(t,o){x(t,e,o),mt(a,e,null),x(t,l,o),x(t,s,o),mt(r,s,null),n=!0},p(t,e){const l={};1&e&&(l.team=t[0]),2&e&&(l.mobileView=t[1]),a.$set(l);const s={};1&e&&(s.team=t[0]),2&e&&(s.mobileView=t[1]),r.$set(s)},i(t){n||(ot(a.$$.fragment,t),ot(r.$$.fragment,t),n=!0)},o(t){it(a.$$.fragment,t),it(r.$$.fragment,t),n=!1},d(t){t&&w(e),pt(a),t&&w(l),t&&w(s),pt(r)}}}function ka(t){let e,a,l=t[2]&&Ia(t);return{c(){e=D("div"),l&&l.c(),this.h()},l(t){e=N(t,"DIV",{class:!0});var a=A(e);l&&l.l(a),a.forEach(w),this.h()},h(){G(e,"class","two-graphs svelte-fqqlfs")},m(t,s){x(t,e,s),l&&l.m(e,null),a=!0},p(t,[a]){t[2]?l?(l.p(t,a),4&a&&ot(l,1)):(l=Ia(t),l.c(),ot(l,1),l.m(e,null)):l&&(rt(),it(l,1,1,(()=>{l=null})),nt())},i(t){a||(ot(l),a=!0)},o(t){it(l),a=!1},d(t){t&&w(e),l&&l.d()}}}function _a(t,e,a){let l="Score";return"Conceded"==e&&(l="Concede"),{x:Object.keys(t),y:Object.values(t),type:"bar",name:e,marker:{color:a},hovertemplate:`${l} %{x} with probability <b>%{y:.2f}</b><extra></extra>`,line:{width:0},hoverinfo:"x+y",opacity:.5}}function Ta(t,e,a,l){if(l in t.form)for(let s of Object.keys(t.form[l][a])){let r=t.form[l][a][s].score;null!=r&&(t.form[l][a][s].atHome?r.homeGoals in e?e[r.homeGoals]+=1:e[r.homeGoals]=1:r.awayGoals in e?e[r.awayGoals]+=1:e[r.awayGoals]=1)}}function Ga(t){let e=function(t){let e=0;for(let a in t){let t=parseInt(a);t>e&&(e=t)}return e}(t);for(let a=1;a<e;a++)a in t||(t[a]=0)}function Aa(t,e){let a={};return Ta(t,a,t._id,e),Ta(t,a,t._id-1,e),Ga(a),a}function Pa(t,e,a,l){if(l in t.form)for(let s of Object.keys(t.form[l][a])){let r=t.form[l][a][s].score;null!=r&&(t.form[l][a][s].atHome?r.awayGoals in e?e[r.awayGoals]+=1:e[r.awayGoals]=1:r.homeGoals in e?e[r.homeGoals]+=1:e[r.homeGoals]=1)}}function Sa(t,e){let a={};return Pa(t,a,t._id,e),Pa(t,a,t._id-1,e),Ga(a),a}function Na(t,e){for(let a of Object.values(t))a>e&&(e=a);return e}function Ma(t,e,a){let l=0;return l=Na(t,l),l=Na(e,l),l=Na(a,l),l}function Oa(t){let e=0;for(let a in t)e+=t[a];return e}function Ba(t,e,a){let l=Oa(t),s=Oa(e);for(let t in e)e[t]*=l/s;let r=Oa(a);for(let t in a)a[t]*=l/r}function Ca(t){let e=Oa(t);for(let a in t)t[a]/=e}function La(t,e,a){function l(t,e,a){return[{x:Object.keys(o),y:Object.values(o),type:"bar",name:"Avg",marker:{color:"#C6C6C6"},line:{width:0},hovertemplate:"Average %{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},_a(t,e,a)]}let s=["#00fe87","#aef23e","#ffdd00","#ff9000","#f83027"],r=(n=s,n.slice().reverse()).concat(["#00fe87","#00fe87","#00fe87","#00fe87","#00fe87"]);var n;let o,i,c,d,f=s.concat(["#f83027","#f83027","#f83027","#f83027","#f83027"]);let u=!1;F((()=>{o=function(t){let e={};for(let a of Object.keys(t.standings))Ta(t,e,t._id,a),Ta(t,e,t._id-1,a);Ga(e);for(let t of Object.keys(e))e[t]/=20;return e}(h),i=Aa(h,m),c=Sa(h,m),Ba(o,i,c),function(t,e,a){Ca(t),Ca(e),Ca(a)}(o,i,c),d=Ma(o,i,c),a(2,u=!0)}));let{data:h,team:m,mobileView:p}=e;return t.$$set=t=>{"data"in t&&a(9,h=t.data),"team"in t&&a(0,m=t.team),"mobileView"in t&&a(1,p=t.mobileView)},t.$$.update=()=>{1&t.$$.dirty&&m&&u&&(i=Aa(h,m),c=Sa(h,m),Ba(o,i,c),Ca(i),Ca(c),d=Ma(o,i,c))},[m,p,u,function(){return l(i,"Scored",r)},function(){return l(c,"Conceded",f)},function(){return _a(i,"Scored",r)},function(){return _a(c,"Conceded",f)},function(){return Object.keys(o)},function(){return{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0,autorange:!1,range:[0,d]}},h]}class za extends yt{constructor(t){super(),gt(this,t,La,ka,n,{data:9,team:0,mobileView:1})}}function ja(t,e,a){const l=t.slice();return l[33]=e[a],l}function Ha(t){let e,a,l,s,r=Kt(t[33])+"";return{c(){e=D("button"),a=I(r),this.h()},l(t){e=N(t,"BUTTON",{class:!0});var l=A(e);a=O(l,r),l.forEach(w),this.h()},h(){G(e,"class","spider-opp-team-btn svelte-2ss1ik")},m(r,n){x(r,e,n),b(e,a),l||(s=T(e,"click",t[6]),l=!0)},p(t,e){2&e[0]&&r!==(r=Kt(t[33])+"")&&C(a,r)},d(t){t&&w(e),l=!1,s()}}}function Fa(t){let e,a=t[33]!=t[0]&&Ha(t);return{c(){a&&a.c(),e=_()},l(t){a&&a.l(t),e=_()},m(t,l){a&&a.m(t,l),x(t,e,l)},p(t,l){t[33]!=t[0]?a?a.p(t,l):(a=Ha(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&w(e)}}}function Ra(e){let a,l,s,r,n,o,i=e[1],c=[];for(let t=0;t<i.length;t+=1)c[t]=Fa(ja(e,i,t));return{c(){a=D("div"),l=D("div"),s=D("div"),r=k(),n=D("div"),o=D("div");for(let t=0;t<c.length;t+=1)c[t].c();this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{id:!0});var i=A(l);s=N(i,"DIV",{id:!0}),A(s).forEach(w),i.forEach(w),e.forEach(w),r=B(t),n=N(t,"DIV",{class:!0});var d=A(n);o=N(d,"DIV",{class:!0,id:!0});var f=A(o);for(let t=0;t<c.length;t+=1)c[t].l(f);f.forEach(w),d.forEach(w),this.h()},h(){G(s,"id","plotDiv"),G(l,"id","plotly"),G(a,"class","spider-chart svelte-2ss1ik"),G(o,"class","spider-opp-team-btns svelte-2ss1ik"),G(o,"id","spider-opp-teams"),G(n,"class","spider-opp-team-selector svelte-2ss1ik")},m(t,i){x(t,a,i),b(a,l),b(l,s),e[5](s),x(t,r,i),x(t,n,i),b(n,o);for(let t=0;t<c.length;t+=1)c[t].m(o,null)},p(t,e){if(11&e[0]){let a;for(i=t[1],a=0;a<i.length;a+=1){const l=ja(t,i,a);c[a]?c[a].p(l,e):(c[a]=Fa(l),c[a].c(),c[a].m(o,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=i.length}},i:t,o:t,d(t){t&&w(a),e[5](null),t&&w(r),t&&w(n),E(c,t)}}}function qa(t,e){let a=0;for(let l in t)t[l]=t[l]/e*100,a+=t[l];return a/Object.keys(t).length}function Ua(t){let e=0;for(let a in t)e+=t[a];return e/Object.keys(t).length}function Ya(t){let[e,a]=function(t){let e={},a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let s of Object.keys(t.standings)){let r=0,n=0;for(let e in t.standings[s]){let a=t.standings[s][e].gF;a>0&&(r+=a,n+=t.standings[s][e].played)}let o=null;n>0&&(o=r/n),o>a?a=o:o<l&&(l=o),e[s]=o}return[e,[l,a]]}(t);return e=function(t,e){let[a,l]=e;for(let e in t)null==t[e]?t[e]=0:t[e]=(t[e]-a)/(l-a)*100;return t}(e,a),e.avg=Ua(e),e}function Wa(t){let[e,a]=function(t){let e={},a=Number.NEGATIVE_INFINITY,l=Number.POSITIVE_INFINITY;for(let s of Object.keys(t.standings)){let r=0,n=0;for(let e in t.standings[s]){let a=t.standings[s][e].gA;a>0&&(r+=a,n+=t.standings[s][e].played)}let o=null;n>0&&(o=r/n),a=Math.max(a,o),l=Math.min(l,o),e[s]=o}return[e,[l,a]]}(t);return e=function(t,e){let[a,l]=e;for(let e in t)null==t[e]?t[e]=0:t[e]=100-(t[e]-a)/(l-a)*100;return t}(e,a),e.avg=Ua(e),e}function Xa(t,e,a){let l=0;for(let s in t[e][a]){let r=t[e][a][s];null!=r.score&&(r.atHome&&0==r.score.awayGoals?l+=1:r.atHome||0!=r.score.homeGoals||(l+=1))}return l}function Ja(t,e,a){let l=0,s=null;for(let r in t[e][a]){let n=t[e][a][r];if(null!=n.score){let t;t=n.atHome&&n.score.homeGoals>n.score.awayGoals||!n.atHome&&n.score.homeGoals<n.score.awayGoals?"win":n.atHome&&n.score.homeGoals<n.score.awayGoals||!n.atHome&&n.score.homeGoals>n.score.awayGoals?"lost":"draw",null!=s&&s==t&&(l+=1),s=t}}return l}function Ka(t,e,a){let l=0,s=0;for(let r in t[e][a]){let n=t[e][a][r];null!=n.score&&(n.atHome&&n.score.homeGoals>n.score.awayGoals||!n.atHome&&n.score.homeGoals<n.score.awayGoals?(s+=1,s>l&&(l=s)):s=0)}return l}function Qa(t,e){let a=t.indexOf(e);return a>-1&&t.splice(a,1),t}function Za(t,e,a,l){let s=0,r=0;for(let n in t[e][a]){let o=t[e][a][n];null!=o.score&&l.includes(o.team)&&(o.atHome&&o.score.homeGoals>o.score.awayGoals||!o.atHome&&o.score.homeGoals<o.score.awayGoals?s+=3:o.score.homeGoals==o.score.awayGoals&&(s+=1),r+=1)}return[s,r]}function tl(t,e,a){function l(){let t=n();v.data.unshift(t)}function s(t){let e=(a=t.innerHTML,Object.values(Jt).includes(a)?Object.keys(Jt).find((t=>Jt[t]===a)):a);var a;if(""==t.style.background){let a=Qt(e);t.style.background=`var(--${a})`,t.style.color=`var(--${a}-secondary)`}else t.style.background="",t.style.color="black";0==y.length&&v.data.splice(0,1),y.includes(e)?(!function(t){for(let e=0;e<v.data.length;e++)if(v.data[e].name==t){v.data.splice(e,1);break}1==y.length&&l(),Plotly.redraw(p)}(e),Qa(y,e)):(!function(t){let e={name:t,type:"scatterpolar",r:[c[t],d[t],f[t],u[t],h[t],m[t]],theta:g,fill:"toself",marker:{color:te(t)}};v.data.push(e),Plotly.redraw(p)}(e),y.push(e))}function r(t,e,a){return{name:t,type:"scatterpolar",r:e,theta:g,fill:"toself",marker:{color:a},hovertemplate:`<b>${t}</b><br>%{theta}: %{r}<extra></extra>`,hoveron:"points"}}function n(){return r("Avg",[c.avg,d.avg,f.avg,u.avg,h.avg,m.avg],"#ADADAD")}function o(t){let e=n(),a=function(t){return r(t,[c[t],d[t],f[t],u[t],h[t],m[t]],te(t))}(t);return[e,a]}function i(t){c=Ya(t),d=Wa(t),f=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let l of Object.keys(t.standings)){let s=Xa(t.form,l,t._id);Zt(t.form,l,t._id-1)&&(s+=Xa(t.form,l,t._id-1)),Zt(t.form,l,t._id-2)&&(s+=Xa(t.form,l,t._id-2)),s>a&&(a=s),e[l]=s}return e.avg=qa(e,a),e}(t),u=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let l of Object.keys(t.standings)){let s=Ja(t.form,l,t._id);Zt(t.form,l,t._id-1)&&(s+=Ja(t.form,l,t._id-1)),Zt(t.form,l,t._id-2)&&(s+=Ja(t.form,l,t._id-2)),s>a&&(a=s),e[l]=s}return e.avg=qa(e,a),e}(t),h=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let l of Object.keys(t.standings)){let s=Ka(t.form,l,t._id);Zt(t.form,l,t._id-1)&&(s+=Ka(t.form,l,t._id-1)),Zt(t.form,l,t._id-2)&&(s+=Ka(t.form,l,t._id-2)),s>a&&(a=s),e[l]=s}return e.avg=qa(e,a),e}(t),m=function(t){let e={},a=Number.NEGATIVE_INFINITY;for(let l of Object.keys(t.standings)){let s=["Manchester United","Liverpool","Manchester City","Arsenal","Chelsea","Tottenham Hotspur"];s=Qa(s,l);let[r,n]=Za(t.form,l,t._id,s);if(Zt(t.form,l,t._id-1)){let[e,a]=Za(t.form,l,t._id-1,s);r+=e,n+=a}if(Zt(t.form,l,t._id-2)){let[e,a]=Za(t.form,l,t._id-2,s);r+=e,n+=a}r/=n,r>a&&(a=r),e[l]=r}return e.avg=qa(e,a),e}(t)}let c,d,f,u,h,m,p,v,g=["Attack","Defence","Clean sheets","Consistency","Win streak","Vs big 6"],y=[],$=!1;function b(){if($){let t=o(w);!function(t){let e=t.length;for(let a=0;a<e;a++)t.pop()}(v.data),v.data.push(t[0]),v.data.push(t[1]),function(){for(let t=0;t<y.length;t++){for(let t=0;t<v.data.length;t++)if(v.data[t].name==y[t]&&y[t]!=w){v.data.splice(t,1);break}1==y.length&&l(),Qa(y,y[t])}Plotly.redraw(p)}(),function(){let t=document.getElementById("spider-opp-teams");for(let e=0;e<t.children.length;e++){let a=t.children[e];""!=a.style.background&&(a.style.background="",a.style.color="black")}}(),setTimeout((()=>{document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn")}),0)}}F((()=>{v=function(t,e){return i(t),{data:o(e),layout:{height:550,polar:{radialaxis:{visible:!0,range:[0,100]}},hover:"closest",margin:{t:25,b:25,l:75,r:75},showlegend:!1,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}(x,w),new Plotly.newPlot(p,v.data,v.layout,v.config).then((t=>{t.children[0].children[0].classList.add("resizable-spider-chart")})),document.getElementById("spider-opp-teams").children[0].classList.add("top-spider-opp-team-btn"),document.getElementById("spider-opp-teams").children[18].classList.add("bottom-spider-opp-team-btn"),$=!0}));let{data:x,team:w,teams:E}=e;return t.$$set=t=>{"data"in t&&a(4,x=t.data),"team"in t&&a(0,w=t.team),"teams"in t&&a(1,E=t.teams)},t.$$.update=()=>{1&t.$$.dirty[0]&&w&&b()},[w,E,p,s,x,function(t){Y[t?"unshift":"push"]((()=>{p=t,a(2,p)}))},t=>{s(t.target)}]}class el extends yt{constructor(t){super(),gt(this,t,tl,Ra,n,{data:4,team:0,teams:1},null,[-1,-1])}}function al(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[5](l)},p:t,i:t,o:t,d(t){t&&w(a),e[5](null)}}}function ll(t,e,a,l){for(let s in e[a][l]){let r=e[a][l][s].score;if(null!=r){let n;n=e[a][l][s].atHome?r.homeGoals+" - "+r.awayGoals:r.awayGoals+" - "+r.homeGoals,n in t?t[n][0]+=1:t[n]=[1]}}}function sl(t,e,a,l){for(let s in e[a][l]){let r=e[a][l][s].score;if(null!=r){let n;n=e[a][l][s].atHome?r.homeGoals+" - "+r.awayGoals:r.awayGoals+" - "+r.homeGoals,t[n][1]+=1}}}function rl(t){let e=Object.entries(t).sort(((t,e)=>e[1][0]-t[1][0])),a=[],l=[],s=[];for(let t=0;t<e.length;t++)a.push(e[t][0]),l.push(e[t][1][0]),s.push(e[t][1][1]);return[{x:a,y:l,type:"bar",name:"Avg",marker:{color:"#C6C6C6"},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y"},{x:a,y:s,type:"bar",name:"Scorelines",marker:{color:function(t){let e=[];for(let a of t){let[t,l,s]=a.split(" "),r=parseInt(t),n=parseInt(s);r>n?e.push("#00fe87"):r<n?e.push("#f83027"):e.push("#ffdd00")}return e}(a)},hovertemplate:"%{x} with probability <b>%{y:.2f}</b><extra></extra>",hoverinfo:"x+y",opacity:.5}]}function nl(t){let e=0,a=0;for(let l in t)e+=t[l][0],a+=t[l][1];for(let l in t)t[l][1]*=e/a}function ol(t){let e=0,a=0;for(let l in t)e+=t[l][0],a+=t[l][1];for(let l in t)t[l][0]/=e,t[l][1]/=a}function il(t,e,a){function l(t,e,a){for(let t in a)1==a[t].length&&a[t].push(0);sl(a,t.form,e,t._id),Zt(t.form,e,t._id-1)&&sl(a,t.form,e,t._id-1),Zt(t.form,e,t._id-2)&&sl(a,t.form,e,t._id-2)}function s(){if(c){let t={"yaxis.title":null,"yaxis.visible":!1,"xaxis.tickfont.size":5,"margin.l":20};Plotly.update(n,{},t)}}function r(t,e){return i=function(t){let e={};for(let a in t.form)for(let l=0;l<3;l++)(0==l||Zt(t.form,a,t._id-l))&&ll(e,t.form,a,t._id-l);return e}(t),l(t,e,i),nl(i),ol(i),{data:rl(i),layout:{title:!1,autosize:!0,margin:{r:20,l:65,t:15,b:60,pad:5},hovermode:"closest",barmode:"overlay",bargap:0,plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Probability"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{title:{text:"Scoreline"},linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0},legend:{x:1,xanchor:"right",y:.95},dragmode:!1},config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}let n,o,i,c=!1;F((()=>{o=r(d,f),new Plotly.newPlot(n,o.data,o.layout,o.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,c=!0)}));let{data:d,team:f,mobileView:u}=e;return t.$$set=t=>{"data"in t&&a(1,d=t.data),"team"in t&&a(2,f=t.team),"mobileView"in t&&a(3,u=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&f&&function(){if(c){!function(t){for(let e in t)t[e][1]=0}(i),l(d,f,i),nl(i),ol(i);let t=rl(i);o.data[1]=t[1],Plotly.redraw(n),u&&s()}}(),8&t.$$.dirty&&!u&&function(){if(c){let t={"yaxis.title":{text:"Probability"},"yaxis.visible":!0,"xaxis.tickfont.size":12,"margin.l":65};Plotly.update(n,{},t)}}(),24&t.$$.dirty&&c&&u&&s()},[n,d,f,u,c,function(t){Y[t?"unshift":"push"]((()=>{n=t,a(0,n)}))}]}class cl extends yt{constructor(t){super(),gt(this,t,il,al,n,{data:1,team:2,mobileView:3})}}function dl(t,e,a){const l=t.slice();return l[9]=e[a],l[8]=a,l}function fl(t,e,a){const l=t.slice();return l[6]=e[a],l[8]=a,l}function ul(t){let e,a=[],l=new Map,s=t[1];const r=t=>t[9];for(let e=0;e<s.length;e+=1){let n=dl(t,s,e),o=r(n);l.set(o,a[e]=vl(o,n))}return{c(){for(let t=0;t<a.length;t+=1)a[t].c();e=_()},l(t){for(let e=0;e<a.length;e+=1)a[e].l(t);e=_()},m(t,l){for(let e=0;e<a.length;e+=1)a[e].m(t,l);x(t,e,l)},p(t,n){15&n&&(s=t[1],a=function(t,e,a,l,s,r,n,o,i,c,d,f){let u=t.length,h=r.length,m=u;const p={};for(;m--;)p[t[m].key]=m;const v=[],g=new Map,y=new Map;for(m=h;m--;){const t=f(s,r,m),o=a(t);let i=n.get(o);i?l&&i.p(t,e):(i=c(o,t),i.c()),g.set(o,v[m]=i),o in p&&y.set(o,Math.abs(m-p[o]))}const $=new Set,b=new Set;function x(t){ot(t,1),t.m(o,d),n.set(t.key,t),d=t.first,h--}for(;u&&h;){const e=v[h-1],a=t[u-1],l=e.key,s=a.key;e===a?(d=e.first,u--,h--):g.has(s)?!n.has(l)||$.has(l)?x(e):b.has(s)?u--:y.get(l)>y.get(s)?(b.add(l),x(e)):($.add(s),u--):(i(a,n),u--)}for(;u--;){const e=t[u];g.has(e.key)||i(e,n)}for(;h;)x(v[h-1]);return v}(a,n,r,1,t,s,l,e.parentNode,dt,vl,e,dl))},d(t){for(let e=0;e<a.length;e+=1)a[e].d(t);t&&w(e)}}}function hl(t){let e,a=t[4],l=[];for(let e=0;e<a.length;e+=1)l[e]=gl(fl(t,a,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=_()},l(t){for(let e=0;e<l.length;e+=1)l[e].l(t);e=_()},m(t,a){for(let e=0;e<l.length;e+=1)l[e].m(t,a);x(t,e,a)},p(t,s){if(16&s){let r;for(a=t[4],r=0;r<a.length;r+=1){const n=fl(t,a,r);l[r]?l[r].p(n,s):(l[r]=gl(n),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(t){E(l,t),t&&w(e)}}}function ml(t){let e,a,l,s,r,n,o,i=t[2](t[9])+"";function c(){return t[5](t[9])}return{c(){e=D("button"),a=D("div"),l=D("div"),s=I(i),r=k(),this.h()},l(t){e=N(t,"BUTTON",{class:!0});var n=A(e);a=N(n,"DIV",{class:!0});var o=A(a);l=N(o,"DIV",{class:!0});var c=A(l);s=O(c,i),c.forEach(w),o.forEach(w),r=B(n),n.forEach(w),this.h()},h(){G(l,"class","team-name svelte-1xhucrn"),G(a,"class","team-container svelte-1xhucrn"),G(e,"class","team-link svelte-1xhucrn")},m(t,i){x(t,e,i),b(e,a),b(a,l),b(l,s),b(e,r),n||(o=T(e,"click",c),n=!0)},p(e,a){t=e,6&a&&i!==(i=t[2](t[9])+"")&&C(s,i)},d(t){t&&w(e),n=!1,o()}}}function pl(t){let e,a,l,s,r,n,o,i=t[2](t[9])+"";return{c(){e=D("a"),a=D("div"),l=D("div"),s=I(i),n=k(),this.h()},l(t){e=N(t,"A",{href:!0,class:!0});var r=A(e);a=N(r,"DIV",{class:!0,style:!0});var o=A(a);l=N(o,"DIV",{class:!0});var c=A(l);s=O(c,i),c.forEach(w),o.forEach(w),n=B(r),r.forEach(w),this.h()},h(){G(l,"class","this-team-name svelte-1xhucrn"),G(a,"class","this-team-container"),G(a,"style",r=we(t[9])),G(e,"href",o="/"+Qt(t[9])),G(e,"class","team-link")},m(t,r){x(t,e,r),b(e,a),b(a,l),b(l,s),b(e,n)},p(t,l){6&l&&i!==(i=t[2](t[9])+"")&&C(s,i),2&l&&r!==(r=we(t[9]))&&G(a,"style",r),2&l&&o!==(o="/"+Qt(t[9]))&&G(e,"href",o)},d(t){t&&w(e)}}}function vl(t,e){let a,l,s;function r(t,e){return 3&e&&(l=null),null==l&&(l=!(Qt(t[9])!=t[0])),l?pl:ml}let n=r(e,-1),o=n(e);return{key:t,first:null,c(){a=_(),o.c(),s=_(),this.h()},l(t){a=_(),o.l(t),s=_(),this.h()},h(){this.first=a},m(t,e){x(t,a,e),o.m(t,e),x(t,s,e)},p(t,a){n===(n=r(e=t,a))&&o?o.p(e,a):(o.d(1),o=n(e),o&&(o.c(),o.m(s.parentNode,s)))},d(t){t&&w(a),o.d(t),t&&w(s)}}}function gl(e){let a;return{c(){a=D("div"),this.h()},l(t){a=N(t,"DIV",{class:!0,style:!0}),A(a).forEach(w),this.h()},h(){G(a,"class","placeholder svelte-1xhucrn"),L(a,"width",e[6]+"%")},m(t,e){x(t,a,e)},p:t,d(t){t&&w(a)}}}function yl(e){let a,l,s,r,n,o,c,d,f,u,h,m,p,v,g;function y(t,e){return 0==t[1].length?hl:ul}let $=y(e),E=$(e);return{c(){a=D("nav"),l=D("div"),s=D("p"),r=D("span"),n=I("pl"),o=I("dashboard"),c=k(),d=D("div"),E.c(),f=k(),u=D("div"),h=D("button"),m=D("img"),this.h()},l(t){a=N(t,"NAV",{id:!0,class:!0});var e=A(a);l=N(e,"DIV",{class:!0});var i=A(l);s=N(i,"P",{});var p=A(s);r=N(p,"SPAN",{style:!0});var v=A(r);n=O(v,"pl"),v.forEach(w),o=O(p,"dashboard"),p.forEach(w),i.forEach(w),c=B(e),d=N(e,"DIV",{class:!0});var g=A(d);E.l(g),g.forEach(w),f=B(e),u=N(e,"DIV",{class:!0});var y=A(u);h=N(y,"BUTTON",{class:!0});var $=A(h);m=N($,"IMG",{src:!0,alt:!0,class:!0}),$.forEach(w),y.forEach(w),e.forEach(w),this.h()},h(){L(r,"color","var(--green)"),G(l,"class","title no-selection svelte-1xhucrn"),G(d,"class","team-links svelte-1xhucrn"),i(m.src,p="img/arrow-bar-left.svg")||G(m,"src","img/arrow-bar-left.svg"),G(m,"alt",""),G(m,"class","svelte-1xhucrn"),G(h,"class","close-btn svelte-1xhucrn"),G(u,"class","close"),G(a,"id","navBar"),G(a,"class","svelte-1xhucrn")},m(t,e){x(t,a,e),b(a,l),b(l,s),b(s,r),b(r,n),b(s,o),b(a,c),b(a,d),E.m(d,null),b(a,f),b(a,u),b(u,h),b(h,m),v||(g=T(h,"click",$l),v=!0)},p(t,[e]){$===($=y(t))&&E?E.p(t,e):(E.d(1),E=$(t),E&&(E.c(),E.m(d,null)))},i:t,o:t,d(t){t&&w(a),E.d(),v=!1,g()}}}function $l(){document.getElementById("navBar").style.display="none",document.getElementById("dashboard").style.marginLeft="0",window.dispatchEvent(new Event("resize"))}function bl(t,e,a){let l=[];for(let t=0;t<20;t++)l.push(35+5*Math.floor(8*Math.random()));let{team:s,teams:r,toAlias:n,switchTeam:o}=e;return t.$$set=t=>{"team"in t&&a(0,s=t.team),"teams"in t&&a(1,r=t.teams),"toAlias"in t&&a(2,n=t.toAlias),"switchTeam"in t&&a(3,o=t.switchTeam)},[s,r,n,o,l,t=>{o(Qt(t))}]}class xl extends yt{constructor(t){super(),gt(this,t,bl,yl,n,{team:0,teams:1,toAlias:2,switchTeam:3})}}function wl(e){let a,l,s,r,n,o;return{c(){a=D("div"),l=D("div"),s=D("div"),r=D("span"),n=I("pl"),o=I("dashboard"),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{class:!0});var i=A(l);s=N(i,"DIV",{class:!0});var c=A(s);r=N(c,"SPAN",{class:!0});var d=A(r);n=O(d,"pl"),d.forEach(w),o=O(c,"dashboard"),c.forEach(w),i.forEach(w),e.forEach(w),this.h()},h(){G(r,"class","pl svelte-1tnibt3"),G(s,"class","version no-select svelte-1tnibt3"),G(l,"class","teams-footer-bottom svelte-1tnibt3"),G(a,"class","teams-footer footer-text-colour svelte-1tnibt3")},m(t,e){x(t,a,e),b(a,l),b(l,s),b(s,r),b(r,n),b(s,o)},p:t,i:t,o:t,d(t){t&&w(a)}}}class El extends yt{constructor(t){super(),gt(this,t,null,wl,n,{})}}function Dl(t,e,a){const l=t.slice();return l[10]=e[a],l[12]=a,l}function Vl(t,e,a){const l=t.slice();return l[13]=e[a],l[15]=a,l}function Il(t,e,a){const l=t.slice();return l[12]=e[a],l[15]=a,l}function kl(t,e,a){const l=t.slice();return l[10]=e[a],l[15]=a,l}function _l(t,e,a){const l=t.slice();return l[10]=e[a],l[15]=a,l}function Tl(t,e,a){const l=t.slice();return l[13]=e[a],l[15]=a,l}function Gl(t){let e,a,l,s,r=t[2],n=[];for(let e=0;e<r.length;e+=1)n[e]=Pl(Tl(t,r,e));return{c(){e=D("div"),a=D("div"),l=I("Upcoming"),s=k();for(let t=0;t<n.length;t+=1)n[t].c();this.h()},l(t){e=N(t,"DIV",{class:!0});var r=A(e);a=N(r,"DIV",{class:!0});var o=A(a);l=O(o,"Upcoming"),o.forEach(w),s=B(r);for(let t=0;t<n.length;t+=1)n[t].l(r);r.forEach(w),this.h()},h(){G(a,"class","upcoming-title svelte-1sfmcda"),G(e,"class","upcoming-matches svelte-1sfmcda")},m(t,r){x(t,e,r),b(e,a),b(a,l),b(e,s);for(let t=0;t<n.length;t+=1)n[t].m(e,null)},p(t,a){if(4&a){let l;for(r=t[2],l=0;l<r.length;l+=1){const s=Tl(t,r,l);n[l]?n[l].p(s,a):(n[l]=Pl(s),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=r.length}},d(t){t&&w(e),E(n,t)}}}function Al(t){let e,a,l=t[13].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"";return{c(){e=D("div"),a=I(l),this.h()},l(t){e=N(t,"DIV",{class:!0});var s=A(e);a=O(s,l),s.forEach(w),this.h()},h(){G(e,"class","upcoming-match-date svelte-1sfmcda")},m(t,l){x(t,e,l),b(e,a)},p(t,e){4&e&&l!==(l=t[13].time.toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})+"")&&C(a,l)},d(t){t&&w(e)}}}function Pl(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v=0==t[15]||t[13].time.getDate()!=t[2][t[15]-1].time.getDate(),g=Xt(t[13].home)+"",y=Xt(t[13].away)+"",$=t[13].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"",E=v&&Al(t);return{c(){E&&E.c(),e=k(),a=D("div"),l=D("div"),s=D("div"),r=I(g),o=k(),i=D("div"),c=I(y),f=k(),u=D("div"),h=D("div"),m=I($),p=k(),this.h()},l(t){E&&E.l(t),e=B(t),a=N(t,"DIV",{class:!0});var n=A(a);l=N(n,"DIV",{class:!0});var d=A(l);s=N(d,"DIV",{class:!0,style:!0});var v=A(s);r=O(v,g),v.forEach(w),o=B(d),i=N(d,"DIV",{class:!0,style:!0});var b=A(i);c=O(b,y),b.forEach(w),d.forEach(w),n.forEach(w),f=B(t),u=N(t,"DIV",{class:!0});var x=A(u);h=N(x,"DIV",{class:!0});var D=A(h);m=O(D,$),D.forEach(w),p=B(x),x.forEach(w),this.h()},h(){G(s,"class","upcoming-match-home svelte-1sfmcda"),G(s,"style",n=we(t[13].home)),G(i,"class","upcoming-match-away svelte-1sfmcda"),G(i,"style",d=we(t[13].away)),G(l,"class","upcoming-match-teams svelte-1sfmcda"),G(a,"class","upcoming-match svelte-1sfmcda"),G(h,"class","upcoming-match-time svelte-1sfmcda"),G(u,"class","upcoming-match-time-container svelte-1sfmcda")},m(t,n){E&&E.m(t,n),x(t,e,n),x(t,a,n),b(a,l),b(l,s),b(s,r),b(l,o),b(l,i),b(i,c),x(t,f,n),x(t,u,n),b(u,h),b(h,m),b(u,p)},p(t,a){4&a&&(v=0==t[15]||t[13].time.getDate()!=t[2][t[15]-1].time.getDate()),v?E?E.p(t,a):(E=Al(t),E.c(),E.m(e.parentNode,e)):E&&(E.d(1),E=null),4&a&&g!==(g=Xt(t[13].home)+"")&&C(r,g),4&a&&n!==(n=we(t[13].home))&&G(s,"style",n),4&a&&y!==(y=Xt(t[13].away)+"")&&C(c,y),4&a&&d!==(d=we(t[13].away))&&G(i,"style",d),4&a&&$!==($=t[13].time.toLocaleTimeString("en-GB",{hour:"2-digit",minute:"2-digit"})+"")&&C(m,$)},d(t){E&&E.d(t),t&&w(e),t&&w(a),t&&w(f),t&&w(u)}}}function Sl(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,V,_,T,P,S,M,C,L,z,j,H,F,R,q,U,Y,W,X,J,K,Q,Z=t[3],tt=[];for(let e=0;e<Z.length;e+=1)tt[e]=Nl(_l(t,Z,e));return{c(){e=D("div"),a=D("div"),l=I("Standings"),s=k(),r=D("div"),n=D("div"),o=D("div"),i=k(),c=D("div"),d=k(),f=D("div"),u=I("W"),h=k(),m=D("div"),p=I("D"),v=k(),g=D("div"),y=I("L"),$=k(),V=D("div"),_=I("GF"),T=k(),P=D("div"),S=I("GA"),M=k(),C=D("div"),L=I("GD"),z=k(),j=D("div"),H=I("Played"),F=k(),R=D("div"),q=I("Points"),U=k(),Y=D("div"),W=I("Rating"),X=k(),J=D("div"),K=I("Form"),Q=k();for(let t=0;t<tt.length;t+=1)tt[t].c();this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=O(x,"Standings"),x.forEach(w),s=B(b),r=N(b,"DIV",{class:!0});var E=A(r);n=N(E,"DIV",{class:!0});var D=A(n);o=N(D,"DIV",{class:!0}),A(o).forEach(w),i=B(D),c=N(D,"DIV",{class:!0}),A(c).forEach(w),d=B(D),f=N(D,"DIV",{class:!0});var I=A(f);u=O(I,"W"),I.forEach(w),h=B(D),m=N(D,"DIV",{class:!0});var k=A(m);p=O(k,"D"),k.forEach(w),v=B(D),g=N(D,"DIV",{class:!0});var G=A(g);y=O(G,"L"),G.forEach(w),$=B(D),V=N(D,"DIV",{class:!0});var Z=A(V);_=O(Z,"GF"),Z.forEach(w),T=B(D),P=N(D,"DIV",{class:!0});var et=A(P);S=O(et,"GA"),et.forEach(w),M=B(D),C=N(D,"DIV",{class:!0});var at=A(C);L=O(at,"GD"),at.forEach(w),z=B(D),j=N(D,"DIV",{class:!0});var lt=A(j);H=O(lt,"Played"),lt.forEach(w),F=B(D),R=N(D,"DIV",{class:!0});var st=A(R);q=O(st,"Points"),st.forEach(w),U=B(D),Y=N(D,"DIV",{class:!0});var rt=A(Y);W=O(rt,"Rating"),rt.forEach(w),X=B(D),J=N(D,"DIV",{class:!0});var nt=A(J);K=O(nt,"Form"),nt.forEach(w),D.forEach(w),Q=B(E);for(let t=0;t<tt.length;t+=1)tt[t].l(E);E.forEach(w),b.forEach(w),this.h()},h(){G(a,"class","standings-title svelte-1sfmcda"),G(o,"class","standings-position svelte-1sfmcda"),G(c,"class","standings-team-name svelte-1sfmcda"),G(f,"class","standings-won bold svelte-1sfmcda"),G(m,"class","standings-drawn bold svelte-1sfmcda"),G(g,"class","standings-lost bold svelte-1sfmcda"),G(V,"class","standings-gf bold svelte-1sfmcda"),G(P,"class","standings-ga bold svelte-1sfmcda"),G(C,"class","standings-gd bold svelte-1sfmcda"),G(j,"class","standings-played bold svelte-1sfmcda"),G(R,"class","standings-points bold svelte-1sfmcda"),G(Y,"class","standings-rating bold svelte-1sfmcda"),G(J,"class","standings-form bold svelte-1sfmcda"),G(n,"class","table-row svelte-1sfmcda"),G(r,"class","standings svelte-1sfmcda"),G(e,"class","standings-table")},m(t,w){x(t,e,w),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(n,o),b(n,i),b(n,c),b(n,d),b(n,f),b(f,u),b(n,h),b(n,m),b(m,p),b(n,v),b(n,g),b(g,y),b(n,$),b(n,V),b(V,_),b(n,T),b(n,P),b(P,S),b(n,M),b(n,C),b(C,L),b(n,z),b(n,j),b(j,H),b(n,F),b(n,R),b(R,q),b(n,U),b(n,Y),b(Y,W),b(n,X),b(n,J),b(J,K),b(r,Q);for(let t=0;t<tt.length;t+=1)tt[t].m(r,null)},p(t,e){if(9&e){let a;for(Z=t[3],a=0;a<Z.length;a+=1){const l=_l(t,Z,a);tt[a]?tt[a].p(l,e):(tt[a]=Nl(l),tt[a].c(),tt[a].m(r,null))}for(;a<tt.length;a+=1)tt[a].d(1);tt.length=Z.length}},d(t){t&&w(e),E(tt,t)}}}function Nl(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_,T,P,S,M,L,z,j,H,F,R,q,U,Y,W,X,J=t[10].position+"",K=t[10].team+"",Q=t[10].won+"",Z=t[10].drawn+"",tt=t[10].lost+"",et=t[10].gF+"",at=t[10].gA+"",lt=t[10].gD+"",st=t[10].played+"",rt=t[10].points+"",nt=t[0].teamRatings[t[10].team].totalRating.toFixed(2)+"",ot=t[0].form[t[10].team][t[0]._id][13].formRating5.toFixed(2)+"";return{c(){e=D("div"),a=D("div"),l=I(J),s=k(),r=D("div"),n=I(K),o=k(),i=D("div"),c=I(Q),d=k(),f=D("div"),u=I(Z),h=k(),m=D("div"),p=I(tt),v=k(),g=D("div"),y=I(et),$=k(),E=D("div"),V=I(at),_=k(),T=D("div"),P=I(lt),S=k(),M=D("div"),L=I(st),z=k(),j=D("div"),H=I(rt),F=k(),R=D("div"),q=I(nt),U=k(),Y=D("div"),W=I(ot),X=k(),this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=O(x,J),x.forEach(w),s=B(b),r=N(b,"DIV",{class:!0});var D=A(r);n=O(D,K),D.forEach(w),o=B(b),i=N(b,"DIV",{class:!0});var I=A(i);c=O(I,Q),I.forEach(w),d=B(b),f=N(b,"DIV",{class:!0});var k=A(f);u=O(k,Z),k.forEach(w),h=B(b),m=N(b,"DIV",{class:!0});var G=A(m);p=O(G,tt),G.forEach(w),v=B(b),g=N(b,"DIV",{class:!0});var C=A(g);y=O(C,et),C.forEach(w),$=B(b),E=N(b,"DIV",{class:!0});var it=A(E);V=O(it,at),it.forEach(w),_=B(b),T=N(b,"DIV",{class:!0});var ct=A(T);P=O(ct,lt),ct.forEach(w),S=B(b),M=N(b,"DIV",{class:!0});var dt=A(M);L=O(dt,st),dt.forEach(w),z=B(b),j=N(b,"DIV",{class:!0});var ft=A(j);H=O(ft,rt),ft.forEach(w),F=B(b),R=N(b,"DIV",{class:!0});var ut=A(R);q=O(ut,nt),ut.forEach(w),U=B(b),Y=N(b,"DIV",{class:!0});var ht=A(Y);W=O(ht,ot),ht.forEach(w),X=B(b),b.forEach(w),this.h()},h(){G(a,"class","standings-position svelte-1sfmcda"),G(r,"class","standings-team-name svelte-1sfmcda"),G(i,"class","standings-won svelte-1sfmcda"),G(f,"class","standings-drawn svelte-1sfmcda"),G(m,"class","standings-lost svelte-1sfmcda"),G(g,"class","standings-gf svelte-1sfmcda"),G(E,"class","standings-ga svelte-1sfmcda"),G(T,"class","standings-gd svelte-1sfmcda"),G(M,"class","standings-played svelte-1sfmcda"),G(j,"class","standings-points svelte-1sfmcda"),G(R,"class","standings-rating svelte-1sfmcda"),G(Y,"class","standings-form svelte-1sfmcda"),G(e,"class","table-row "+(t[15]%2==0?"grey-row":"")+" "+(t[15]<4?"cl":"")+" "+(t[15]>3&&t[15]<6?"el":"")+" "+(t[15]>16?"relegation":"")+" svelte-1sfmcda")},m(t,w){x(t,e,w),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(e,o),b(e,i),b(i,c),b(e,d),b(e,f),b(f,u),b(e,h),b(e,m),b(m,p),b(e,v),b(e,g),b(g,y),b(e,$),b(e,E),b(E,V),b(e,_),b(e,T),b(T,P),b(e,S),b(e,M),b(M,L),b(e,z),b(e,j),b(j,H),b(e,F),b(e,R),b(R,q),b(e,U),b(e,Y),b(Y,W),b(e,X)},p(t,e){8&e&&J!==(J=t[10].position+"")&&C(l,J),8&e&&K!==(K=t[10].team+"")&&C(n,K),8&e&&Q!==(Q=t[10].won+"")&&C(c,Q),8&e&&Z!==(Z=t[10].drawn+"")&&C(u,Z),8&e&&tt!==(tt=t[10].lost+"")&&C(p,tt),8&e&&et!==(et=t[10].gF+"")&&C(y,et),8&e&&at!==(at=t[10].gA+"")&&C(V,at),8&e&&lt!==(lt=t[10].gD+"")&&C(P,lt),8&e&&st!==(st=t[10].played+"")&&C(L,st),8&e&&rt!==(rt=t[10].points+"")&&C(H,rt),9&e&&nt!==(nt=t[0].teamRatings[t[10].team].totalRating.toFixed(2)+"")&&C(q,nt),9&e&&ot!==(ot=t[0].form[t[10].team][t[0]._id][13].formRating5.toFixed(2)+"")&&C(W,ot)},d(t){t&&w(e)}}}function Ml(t){let e,a,l,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,V,_,P=t[1],S=[];for(let e=0;e<P.length;e+=1)S[e]=Ol(kl(t,P,e));let M=Array(38),C=[];for(let e=0;e<M.length;e+=1)C[e]=Bl(Il(t,M,e));let L=t[1],z=[];for(let e=0;e<L.length;e+=1)z[e]=Ll(Dl(t,L,e));return{c(){e=D("div"),a=D("div"),l=D("button"),r=I("Rating"),o=k(),i=D("div"),c=D("button"),d=I("Form"),u=k(),h=D("div"),m=D("div");for(let t=0;t<S.length;t+=1)S[t].c();p=k(),v=D("div"),g=D("div"),y=D("div");for(let t=0;t<C.length;t+=1)C[t].c();$=k();for(let t=0;t<z.length;t+=1)z[t].c();this.h()},l(t){e=N(t,"DIV",{class:!0});var s=A(e);a=N(s,"DIV",{class:!0});var n=A(a);l=N(n,"BUTTON",{id:!0,class:!0});var f=A(l);r=O(f,"Rating"),f.forEach(w),n.forEach(w),o=B(s),i=N(s,"DIV",{class:!0});var b=A(i);c=N(b,"BUTTON",{id:!0,class:!0});var x=A(c);d=O(x,"Form"),x.forEach(w),b.forEach(w),s.forEach(w),u=B(t),h=N(t,"DIV",{class:!0});var E=A(h);m=N(E,"DIV",{class:!0});var D=A(m);for(let t=0;t<S.length;t+=1)S[t].l(D);D.forEach(w),p=B(E),v=N(E,"DIV",{class:!0});var V=A(v);g=N(V,"DIV",{class:!0});var I=A(g);y=N(I,"DIV",{class:!0});var k=A(y);for(let t=0;t<C.length;t+=1)C[t].l(k);k.forEach(w),I.forEach(w),$=B(V);for(let t=0;t<z.length;t+=1)z[t].l(V);V.forEach(w),E.forEach(w),this.h()},h(){G(l,"id","rating-scale-btn"),G(l,"class",n="scale-btn "+("rating"==t[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(a,"class","scale-team-ratings svelte-1sfmcda"),G(c,"id","form-scale-btn"),G(c,"class",f="scale-btn "+("form"==t[4]?"scaling-selected":"")+" svelte-1sfmcda"),G(i,"class","scale-team-form svelte-1sfmcda"),G(e,"class","scale-btns svelte-1sfmcda"),G(m,"class","fixtures-teams-container svelte-1sfmcda"),G(y,"class","fixtures-matches svelte-1sfmcda"),G(g,"class","fixtures-table-row svelte-1sfmcda"),G(v,"class","fixtures-matches-container svelte-1sfmcda"),G(h,"class","fixtures-table svelte-1sfmcda")},m(s,n){x(s,e,n),b(e,a),b(a,l),b(l,r),b(e,o),b(e,i),b(i,c),b(c,d),x(s,u,n),x(s,h,n),b(h,m);for(let t=0;t<S.length;t+=1)S[t].m(m,null);b(h,p),b(h,v),b(v,g),b(g,y);for(let t=0;t<C.length;t+=1)C[t].m(y,null);b(v,$);for(let t=0;t<z.length;t+=1)z[t].m(v,null);V||(_=[T(l,"click",t[5]),T(c,"click",t[6])],V=!0)},p(t,e){if(16&e&&n!==(n="scale-btn "+("rating"==t[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(l,"class",n),16&e&&f!==(f="scale-btn "+("form"==t[4]?"scaling-selected":"")+" svelte-1sfmcda")&&G(c,"class",f),2&e){let a;for(P=t[1],a=0;a<P.length;a+=1){const l=kl(t,P,a);S[a]?S[a].p(l,e):(S[a]=Ol(l),S[a].c(),S[a].m(m,null))}for(;a<S.length;a+=1)S[a].d(1);S.length=P.length}if(2&e){let a;for(L=t[1],a=0;a<L.length;a+=1){const l=Dl(t,L,a);z[a]?z[a].p(l,e):(z[a]=Ll(l),z[a].c(),z[a].m(v,null))}for(;a<z.length;a+=1)z[a].d(1);z.length=L.length}},d(t){t&&w(e),t&&w(u),t&&w(h),E(S,t),E(C,t),E(z,t),V=!1,s(_)}}}function Ol(t){let e,a,l,s,r,n=Xt(t[10].team)+"";return{c(){e=D("div"),a=D("div"),l=I(n),r=k(),this.h()},l(t){e=N(t,"DIV",{class:!0});var s=A(e);a=N(s,"DIV",{class:!0,style:!0});var o=A(a);l=O(o,n),o.forEach(w),r=B(s),s.forEach(w),this.h()},h(){G(a,"class","fixtures-team svelte-1sfmcda"),G(a,"style",s=we(t[10].team)+" "+(0==t[15]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(t[15]==t[1].length-1?"border-radius: 0 0 0 4px;":"")),G(e,"class","fixtures-table-row svelte-1sfmcda")},m(t,s){x(t,e,s),b(e,a),b(a,l),b(e,r)},p(t,e){2&e&&n!==(n=Xt(t[10].team)+"")&&C(l,n),2&e&&s!==(s=we(t[10].team)+" "+(0==t[15]?"border-top: 2px solid black; border-radius: 4px 0 0":"")+" "+(t[15]==t[1].length-1?"border-radius: 0 0 0 4px;":""))&&G(a,"style",s)},d(t){t&&w(e)}}}function Bl(e){let a,l,s=e[15]+1+"";return{c(){a=D("div"),l=I(s),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=O(e,s),e.forEach(w),this.h()},h(){G(a,"class","match svelte-1sfmcda")},m(t,e){x(t,a,e),b(a,l)},p:t,d(t){t&&w(a)}}}function Cl(t){let e,a,l,s,r,n=`${Xt(t[13].team)} (${t[13].atHome?"H":"A"}`;return{c(){e=D("div"),a=I(n),l=I(")\r\n                    "),this.h()},l(t){e=N(t,"DIV",{class:!0,style:!0,title:!0});var s=A(e);a=O(s,n),l=O(s,")\r\n                    "),s.forEach(w),this.h()},h(){G(e,"class","match svelte-1sfmcda"),G(e,"style",s="background: "+t[13].colour+"; "+("FINISHED"==t[13].status?"filter: grayscale(100%)":"")+" "+(t[15]==t[10].matches.length-1?"border-right: 2px solid black":"")),G(e,"title",r=t[13].date)},m(t,s){x(t,e,s),b(e,a),b(e,l)},p(t,l){2&l&&n!==(n=`${Xt(t[13].team)} (${t[13].atHome?"H":"A"}`)&&C(a,n),2&l&&s!==(s="background: "+t[13].colour+"; "+("FINISHED"==t[13].status?"filter: grayscale(100%)":"")+" "+(t[15]==t[10].matches.length-1?"border-right: 2px solid black":""))&&G(e,"style",s),2&l&&r!==(r=t[13].date)&&G(e,"title",r)},d(t){t&&w(e)}}}function Ll(t){let e,a,l,s=t[10].matches,r=[];for(let e=0;e<s.length;e+=1)r[e]=Cl(Vl(t,s,e));return{c(){e=D("div"),a=D("div");for(let t=0;t<r.length;t+=1)r[t].c();l=k(),this.h()},l(t){e=N(t,"DIV",{class:!0});var s=A(e);a=N(s,"DIV",{class:!0});var n=A(a);for(let t=0;t<r.length;t+=1)r[t].l(n);n.forEach(w),l=B(s),s.forEach(w),this.h()},h(){G(a,"class","fixtures-matches svelte-1sfmcda"),G(e,"class","fixtures-table-row svelte-1sfmcda")},m(t,s){x(t,e,s),b(e,a);for(let t=0;t<r.length;t+=1)r[t].m(a,null);b(e,l)},p(t,e){if(2&e){let l;for(s=t[10].matches,l=0;l<s.length;l+=1){const n=Vl(t,s,l);r[l]?r[l].p(n,e):(r[l]=Cl(n),r[l].c(),r[l].m(a,null))}for(;l<r.length;l+=1)r[l].d(1);r.length=s.length}},d(t){t&&w(e),E(r,t)}}}function zl(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v=null!=t[2]&&Gl(t),g=null!=t[3]&&Sl(t),y=null!=t[1]&&Ml(t);return m=new El({}),{c(){e=D("div"),a=D("div"),l=D("div"),s=D("div"),v&&v.c(),r=k(),n=D("div"),g&&g.c(),o=k(),i=D("div"),c=D("div"),d=D("div"),f=I("Fixtures"),u=k(),y&&y.c(),h=k(),ut(m.$$.fragment),this.h()},l(t){e=N(t,"DIV",{id:!0,class:!0});var p=A(e);a=N(p,"DIV",{class:!0});var $=A(a);l=N($,"DIV",{class:!0});var b=A(l);s=N(b,"DIV",{class:!0});var x=A(s);v&&v.l(x),x.forEach(w),b.forEach(w),r=B($),n=N($,"DIV",{class:!0});var E=A(n);g&&g.l(E),E.forEach(w),$.forEach(w),o=B(p),i=N(p,"DIV",{class:!0});var D=A(i);c=N(D,"DIV",{class:!0});var V=A(c);d=N(V,"DIV",{class:!0});var I=A(d);f=O(I,"Fixtures"),I.forEach(w),u=B(V),y&&y.l(V),V.forEach(w),D.forEach(w),p.forEach(w),h=B(t),ht(m.$$.fragment,t),this.h()},h(){G(s,"class","upcoming-matches-container"),G(l,"class","left svelte-1sfmcda"),G(n,"class","standings-container svelte-1sfmcda"),G(a,"class","row svelte-1sfmcda"),G(d,"class","fixtures-title svelte-1sfmcda"),G(c,"class","fixtures svelte-1sfmcda"),G(i,"class","row svelte-1sfmcda"),G(e,"id","page-content"),G(e,"class","svelte-1sfmcda")},m(t,$){x(t,e,$),b(e,a),b(a,l),b(l,s),v&&v.m(s,null),b(a,r),b(a,n),g&&g.m(n,null),b(e,o),b(e,i),b(i,c),b(c,d),b(d,f),b(c,u),y&&y.m(c,null),x(t,h,$),mt(m,t,$),p=!0},p(t,[e]){null!=t[2]?v?v.p(t,e):(v=Gl(t),v.c(),v.m(s,null)):v&&(v.d(1),v=null),null!=t[3]?g?g.p(t,e):(g=Sl(t),g.c(),g.m(n,null)):g&&(g.d(1),g=null),null!=t[1]?y?y.p(t,e):(y=Ml(t),y.c(),y.m(c,null)):y&&(y.d(1),y=null)},i(t){p||(ot(m.$$.fragment,t),p=!0)},o(t){it(m.$$.fragment,t),p=!1},d(t){t&&w(e),v&&v.d(),g&&g.d(),y&&y.d(),t&&w(h),pt(m,t)}}}function jl(t){return t<.05?"#00fe87":t<.1?"#63fb6e":t<.15?"#8df755":t<.2?"#aef23e":t<.25?"#cbec27":t<.3?"#e6e50f":t<.35?"#ffdd00":t<.4?"#ffc400":t<.45?"#ffab00":t<.5?"#ff9000":t<.55?"#ff7400":t<.6?"#ff5618":"#f83027"}function Hl(t,e,a){let l,s,r,n="rating";F((()=>{a(2,l=function(){let t=[];for(let e in o.upcoming){let a=new Date(o.upcoming[e].date);o.upcoming[e].atHome&&t.push({time:a,home:e,away:o.upcoming[e].nextTeam})}return t.sort(((t,e)=>t.time-e.time)),t}()),a(3,s=function(){let t=[];for(let e in o.standings){let a=Object(o.standings[e][o._id]);a.team=e,t.push(a)}return t.sort(((t,e)=>t.position-e.position)),t}()),a(1,r=function(t){let e=[];for(let a of t){let t=[];for(let e in o.fixtures[a.team]){let l=o.fixtures[a.team][e],s=l.atHome?0:o.homeAdvantages[l.team].totalHomeAdvantage;t.push({team:l.team,date:l.date,atHome:l.atHome,status:l.status,colour:jl(o.teamRatings[l.team].totalRating+s)})}e.push({team:a.team,matches:t})}return e}(s))}));let{data:o}=e;return t.$$set=t=>{"data"in t&&a(0,o=t.data)},t.$$.update=()=>{t.$$.dirty},[o,r,l,s,n,function(){if("rating"!=n){a(4,n="rating");for(let t of r)for(let e of t.matches){let t=e.atHome?0:o.homeAdvantages[e.team].totalHomeAdvantage;e.colour=jl(o.teamRatings[e.team].totalRating+t)}a(1,r)}},function(){if("form"!=n){a(4,n="form");for(let e of r)for(let a of e.matches){let l=.5,s=Object.keys(o.form[e.team][o._id]).reverse(),r=a.atHome?0:o.homeAdvantages[a.team].totalHomeAdvantage;for(let t of s)null!=o.form[a.team][o._id][t].formRating5&&(l=o.form[a.team][o._id][t].formRating5);a.colour=(t=l+r)<.2?"#00fe87":t<.25?"#63fb6e":t<.35?"#8df755":t<.4?"#aef23e":t<.45?"#cbec27":t<.5?"#e6e50f":t<.55?"#ffdd00":t<.6?"#ffc400":t<.65?"#ffab00":t<.7?"#ff9000":t<.75?"#ff7400":t<.8?"#ff5618":"#f83027"}var t;a(1,r)}}]}class Fl extends yt{constructor(t){super(),gt(this,t,Hl,zl,n,{data:0})}}function Rl(t,e,a){const l=t.slice();return l[11]=e[a],l[13]=a,l}function ql(t){let e,a=t[2],l=[];for(let e=0;e<a.length;e+=1)l[e]=Jl(Rl(t,a,e));return{c(){e=D("div");for(let t=0;t<l.length;t+=1)l[t].c();this.h()},l(t){e=N(t,"DIV",{class:!0});var a=A(e);for(let t=0;t<l.length;t+=1)l[t].l(a);a.forEach(w),this.h()},h(){G(e,"class","team-links svelte-1x3fhkk")},m(t,a){x(t,e,a);for(let t=0;t<l.length;t+=1)l[t].m(e,null)},p(t,s){if(15&s){let r;for(a=t[2],r=0;r<a.length;r+=1){const n=Rl(t,a,r);l[r]?l[r].p(n,s):(l[r]=Jl(n),l[r].c(),l[r].m(e,null))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(t){t&&w(e),E(l,t)}}}function Ul(t){let e;function a(t,e){return 0==t[13]||1==t[13]&&null==t[2][0]?Xl:t[13]==t[2].length-1||t[13]==t[2].length-2&&null==t[2][t[2].length-1]?Wl:Yl}let l=a(t),s=l(t);return{c(){s.c(),e=_()},l(t){s.l(t),e=_()},m(t,a){s.m(t,a),x(t,e,a)},p(t,r){l===(l=a(t))&&s?s.p(t,r):(s.d(1),s=l(t),s&&(s.c(),s.m(e.parentNode,e)))},d(t){s.d(t),t&&w(e)}}}function Yl(t){let e,a,l,s,r=t[1](t[0][t[13]])+"";function n(){return t[9](t[11])}return{c(){e=D("button"),a=I(r),this.h()},l(t){e=N(t,"BUTTON",{style:!0,class:!0});var l=A(e);a=O(l,r),l.forEach(w),this.h()},h(){L(e,"color","var(--"+t[11]+"-secondary)"),L(e,"background-color","var(--"+t[11]+")"),G(e,"class","team-link svelte-1x3fhkk")},m(t,r){x(t,e,r),b(e,a),l||(s=T(e,"click",n),l=!0)},p(l,s){t=l,3&s&&r!==(r=t[1](t[0][t[13]])+"")&&C(a,r),4&s&&L(e,"color","var(--"+t[11]+"-secondary)"),4&s&&L(e,"background-color","var(--"+t[11]+")")},d(t){t&&w(e),l=!1,s()}}}function Wl(t){let e,a,l,s,r=t[1](t[0][t[13]])+"";function n(){return t[8](t[13])}return{c(){e=D("button"),a=I(r),this.h()},l(t){e=N(t,"BUTTON",{style:!0,class:!0});var l=A(e);a=O(l,r),l.forEach(w),this.h()},h(){L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),L(e,"background-color","var(--"+t[2][t[13]]+")"),G(e,"class","team-link last-team svelte-1x3fhkk")},m(t,r){x(t,e,r),b(e,a),l||(s=T(e,"click",n),l=!0)},p(l,s){t=l,3&s&&r!==(r=t[1](t[0][t[13]])+"")&&C(a,r),4&s&&L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),4&s&&L(e,"background-color","var(--"+t[2][t[13]]+")")},d(t){t&&w(e),l=!1,s()}}}function Xl(t){let e,a,l,s,r=t[1](t[0][t[13]])+"";function n(){return t[7](t[13])}return{c(){e=D("button"),a=I(r),this.h()},l(t){e=N(t,"BUTTON",{style:!0,class:!0});var l=A(e);a=O(l,r),l.forEach(w),this.h()},h(){L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),L(e,"background-color","var(--"+t[2][t[13]]+")"),G(e,"class","team-link first-team svelte-1x3fhkk")},m(t,r){x(t,e,r),b(e,a),l||(s=T(e,"click",n),l=!0)},p(l,s){t=l,3&s&&r!==(r=t[1](t[0][t[13]])+"")&&C(a,r),4&s&&L(e,"color","var(--"+t[2][t[13]]+"-secondary)"),4&s&&L(e,"background-color","var(--"+t[2][t[13]]+")")},d(t){t&&w(e),l=!1,s()}}}function Jl(t){let e,a=null!=t[11]&&Ul(t);return{c(){a&&a.c(),e=_()},l(t){a&&a.l(t),e=_()},m(t,l){a&&a.m(t,l),x(t,e,l)},p(t,l){null!=t[11]?a?a.p(t,l):(a=Ul(t),a.c(),a.m(e.parentNode,e)):a&&(a.d(1),a=null)},d(t){a&&a.d(t),t&&w(e)}}}function Kl(e){let a,l=null!=e[2]&&ql(e);return{c(){a=D("nav"),l&&l.c(),this.h()},l(t){a=N(t,"NAV",{id:!0,style:!0,class:!0});var e=A(a);l&&l.l(e),e.forEach(w),this.h()},h(){G(a,"id","mobileNav"),L(a,"width","0px"),G(a,"class","svelte-1x3fhkk")},m(t,e){x(t,a,e),l&&l.m(a,null)},p(t,[e]){null!=t[2]?l?l.p(t,e):(l=ql(t),l.c(),l.m(a,null)):l&&(l.d(1),l=null)},i:t,o:t,d(t){t&&w(a),l&&l.d()}}}function Ql(t,e,a){function l(t){i(t),window.scrollTo(0,0),c()}let s,{hyphenatedTeam:r,teams:n,toAlias:o,switchTeam:i,toggleMobileNav:c}=e;return t.$$set=t=>{"hyphenatedTeam"in t&&a(4,r=t.hyphenatedTeam),"teams"in t&&a(0,n=t.teams),"toAlias"in t&&a(1,o=t.toAlias),"switchTeam"in t&&a(5,i=t.switchTeam),"toggleMobileNav"in t&&a(6,c=t.toggleMobileNav)},t.$$.update=()=>{17&t.$$.dirty&&r&&n.length>0&&function(){let t=[];for(let e=0;e<n.length;e++){let a=Qt(n[e]);a!=r?t.push(a):t.push(null)}a(2,s=t)}()},[n,o,s,l,r,i,c,t=>{l(s[t])},t=>{l(s[t])},t=>{l(t)}]}class Zl extends yt{constructor(t){super(),gt(this,t,Ql,Kl,n,{hyphenatedTeam:4,teams:0,toAlias:1,switchTeam:5,toggleMobileNav:6})}}function ts(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{id:!0});var e=A(a);l=N(e,"DIV",{id:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"id","plotDiv"),G(a,"id","plotly")},m(t,s){x(t,a,s),b(a,l),e[5](l)},p:t,i:t,o:t,d(t){t&&w(a),e[5](null)}}}function es(t,e,a){return{x:t,y:e,type:"scatter",fill:"tozeroy",mode:"lines",name:"Scored",text:a,line:{color:"#00fe87"},hovertemplate:"%{text|%d %b %Y}<br>Avg scored: <b>%{y:.1f}</b><extra></extra>"}}function as(t,e,a){return{x:t,y:e,type:"scatter",fill:"tozeroy",mode:"lines",name:"Conceded",text:a,line:{color:"#f83027"},hovertemplate:"%{text|%d %b %Y}<br>Avg conceded: <b>%{y:.1f}</b><extra></extra>"}}function ls(t,e){const a=new Date(t),l=new Date(e),s=a.getTime()-l.getTime();return Math.round(s/864e5)}function ss(t,e){let a=function(t,e,a){let l=[],s=t.form[e][t._id-a][1].date,r=0;for(let n=a-1;n>=0;n--){let a=t.form[e][t._id-n];for(let t of Object.keys(a)){let e=a[t];if(null!=e.score){let a,n;e.atHome?(a=e.score.homeGoals,n=e.score.awayGoals):(a=e.score.awayGoals,n=e.score.homeGoals),l.push({date:e.date,days:ls(e.date,s)-r,matchday:t,scored:a,conceded:n})}}if(n>0){let a=t.form[e][t._id-n][38].date;r+=ls(t.form[e][t._id-n+1][1].date,a),r-=14}}return l}(t,e,3);a.sort((function(t,e){return t.days<e.days?-1:t.days==e.days?0:1}));let l=[],s=[],r=[],n=[],o=[],i=[],c=[];for(let e=0;e<a.length;e++){if(l.push(a[e].date),s.push(a[e].days),"38"==a[e].matchday)r.push(a[e].days+7),n.push(a[e].matchday),o.push(a[e].days);else if("1"==a[e].matchday)n.push(a[e].matchday),o.push(a[e].days);else if("19"==a[e].matchday||e==a.length-1){let l=t._id-3+1+Math.floor(e/38);if(l!=t._id||"19"!=a[e].matchday){let t=`${String(l).slice(2)}/${String(l+1).slice(2)}`;n.push(t),o.push(a[e].days)}}i.push(a[e].scored),c.push(a[e].conceded)}for(let t=0;t<l.length;t++){let e=t-1,a=1;for(;e>t-5&&e>=0;)i[t]+=i[e],c[t]+=c[e],a+=1,e-=1;a>1&&(i[t]/=a,c[t]/=a)}return[l,s,r,n,o,i,c]}function rs(t,e,a,l){return[es(t,e,l),as(t,a,l)]}function ns(t,e,a){return{title:!1,autosize:!0,margin:{r:20,l:60,t:15,b:40,pad:5},hovermode:"closest",plot_bgcolor:"#fafafa",paper_bgcolor:"#fafafa",yaxis:{title:{text:"Goals (5-game avg)"},gridcolor:"gray",showgrid:!1,showline:!1,zeroline:!1,fixedrange:!0},xaxis:{linecolor:"black",showgrid:!1,showline:!1,fixedrange:!0,tickmode:"array",tickvals:e,ticktext:t},dragmode:!1,shapes:[...a],legend:{x:1,xanchor:"right",y:.95}}}function os(t,e){let[a,l,s,r,n,o,i]=ss(t,e),c=function(t,e){let a=[];for(let l=0;l<t.length;l++)a.push({type:"line",x0:t[l],y0:0,x1:t[l],y1:e,line:{color:"black",dash:"dot",width:1}});return a}(s,Math.max(Math.max(...o),Math.max(...i)));return{data:[...rs(l,o,i,a)],layout:ns(r,n,c),config:{responsive:!0,showSendToCloud:!1,displayModeBar:!1}}}function is(t,e,a){function l(){if(n){let t={"yaxis.title":null,"yaxis.visible":!1,"margin.l":20,"margin.t":5};Plotly.update(s,{},t)}}let s,r,n=!1;F((()=>{r=os(o,i),new Plotly.newPlot(s,r.data,r.layout,r.config).then((t=>{t.children[0].children[0].classList.add("resizable-graph")})),a(4,n=!0)}));let{data:o,team:i,mobileView:c}=e;return t.$$set=t=>{"data"in t&&a(1,o=t.data),"team"in t&&a(2,i=t.team),"mobileView"in t&&a(3,c=t.mobileView)},t.$$.update=()=>{4&t.$$.dirty&&i&&function(){if(n){let t=os(o,i);r.data[0]=t.data[0],r.data[1]=t.data[1],r.layout.shapes=t.layout.shapes,r.layout.xaxis.ticktext=t.layout.xaxis.ticktext,r.layout.xaxis.tickvals=t.layout.xaxis.tickvals,Plotly.redraw(s),c&&l()}}(),8&t.$$.dirty&&!c&&function(){if(n){let t={"yaxis.title":{text:"Goals (5-game avg)"},"yaxis.visible":!0,"margin.l":60,"margin.t":15};Plotly.update(s,{},t)}}(),24&t.$$.dirty&&n&&c&&l()},[s,o,i,c,n,function(t){Y[t?"unshift":"push"]((()=>{s=t,a(0,s)}))}]}class cs extends yt{constructor(t){super(),gt(this,t,is,ts,n,{data:1,team:2,mobileView:3})}}const{document:ds,window:fs}=ct;function us(e){let a,l,s,r;return{c(){a=D("button"),l=I("Select Team"),this.h()},l(t){a=N(t,"BUTTON",{id:!0,class:!0});var e=A(a);l=O(e,"Select Team"),e.forEach(w),this.h()},h(){G(a,"id","mobileNavBtn"),G(a,"class","svelte-1lbtrr1")},m(t,e){x(t,a,e),b(a,l),s||(r=T(a,"click",xs),s=!0)},p:t,d(t){t&&w(a),s=!1,r()}}}function hs(e){let a,l;return{c(){a=D("button"),l=I("Select Team"),this.h()},l(t){a=N(t,"BUTTON",{id:!0,style:!0,class:!0});var e=A(a);l=O(e,"Select Team"),e.forEach(w),this.h()},h(){G(a,"id","mobileNavBtn"),L(a,"cursor","default"),G(a,"class","svelte-1lbtrr1")},m(t,e){x(t,a,e),b(a,l)},p:t,d(t){t&&w(a)}}}function ms(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{class:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(t,e){x(t,a,e),b(a,l)},p:t,i:t,o:t,d(t){t&&w(a)}}}function ps(t){let e,a,l,s;const r=[gs,vs],n=[];function o(t,e){return"overview"==t[0]?0:1}return e=o(t),a=n[e]=r[e](t),{c(){a.c(),l=_()},l(t){a.l(t),l=_()},m(t,a){n[e].m(t,a),x(t,l,a),s=!0},p(t,s){let i=e;e=o(t),e===i?n[e].p(t,s):(rt(),it(n[i],1,1,(()=>{n[i]=null})),nt(),a=n[e],a?a.p(t,s):(a=n[e]=r[e](t),a.c()),ot(a,1),a.m(l.parentNode,l))},i(t){s||(ot(a),s=!0)},o(t){it(a),s=!1},d(t){n[e].d(t),t&&w(l)}}}function vs(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,_,T,P,S,L,z,j,H,F,R,q,U,W,J,K,Q,Z,tt,et,at,lt,st=t[9].standings[t[5]][t[9]._id].position+"";function ct(e){t[14](e)}_=new Ke({props:{data:t[9],team:t[5],mobileView:t[10]}}),L=new ie({props:{data:t[9],currentMatchday:t[7],team:t[5]}}),j=new be({props:{data:t[9],hyphenatedTeam:t[0],team:t[5],switchTeam:t[11]}}),R=new Pe({props:{data:t[9],team:t[5],switchTeam:t[11]}});let dt={data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]};void 0!==t[3]&&(dt.lazyLoad=t[3]),tt=new ta({props:dt}),Y.push((()=>function(t,e,a){const l=t.$$.props[e];void 0!==l&&(t.$$.bound[l]=a,a(t.$$.ctx[l]))}(tt,"lazyLoad",ct)));let ft=t[3]&&ys(t);return{c(){e=D("div"),a=D("div"),l=D("div"),s=D("div"),r=V("svg"),n=V("circle"),i=V("circle"),d=V("circle"),u=k(),h=D("div"),m=I(st),p=k(),v=D("div"),g=D("h1"),y=I("Fixtures"),$=k(),E=D("div"),ut(_.$$.fragment),T=k(),P=D("div"),S=D("div"),ut(L.$$.fragment),z=k(),ut(j.$$.fragment),H=k(),F=D("div"),ut(R.$$.fragment),q=k(),U=D("div"),W=D("div"),J=D("h1"),K=I("Form"),Q=k(),Z=D("div"),ut(tt.$$.fragment),at=k(),ft&&ft.c(),this.h()},l(t){e=N(t,"DIV",{class:!0});var o=A(e);a=N(o,"DIV",{class:!0});var c=A(a);l=N(c,"DIV",{class:!0});var f=A(l);s=N(f,"DIV",{class:!0});var b=A(s);r=M(b,"svg",{class:!0});var x=A(r);n=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(n).forEach(w),i=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(i).forEach(w),d=M(x,"circle",{cx:!0,cy:!0,r:!0,"stroke-width":!0,fill:!0}),A(d).forEach(w),x.forEach(w),b.forEach(w),u=B(f),h=N(f,"DIV",{class:!0});var D=A(h);m=O(D,st),D.forEach(w),f.forEach(w),p=B(c),v=N(c,"DIV",{class:!0});var V=A(v);g=N(V,"H1",{class:!0});var I=A(g);y=O(I,"Fixtures"),I.forEach(w),$=B(V),E=N(V,"DIV",{class:!0});var k=A(E);ht(_.$$.fragment,k),k.forEach(w),V.forEach(w),c.forEach(w),T=B(o),P=N(o,"DIV",{class:!0});var G=A(P);S=N(G,"DIV",{class:!0});var C=A(S);ht(L.$$.fragment,C),z=B(C),ht(j.$$.fragment,C),C.forEach(w),H=B(G),F=N(G,"DIV",{class:!0});var Y=A(F);ht(R.$$.fragment,Y),Y.forEach(w),G.forEach(w),q=B(o),U=N(o,"DIV",{class:!0});var X=A(U);W=N(X,"DIV",{class:!0});var et=A(W);J=N(et,"H1",{class:!0});var lt=A(J);K=O(lt,"Form"),lt.forEach(w),Q=B(et),Z=N(et,"DIV",{class:!0});var rt=A(Z);ht(tt.$$.fragment,rt),rt.forEach(w),et.forEach(w),X.forEach(w),at=B(o),ft&&ft.l(o),o.forEach(w),this.h()},h(){G(n,"cx","300"),G(n,"cy","150"),G(n,"r","100"),G(n,"stroke-width","0"),G(n,"fill",o="var(--"+t[0]+"-secondary)"),G(i,"cx","170"),G(i,"cy","170"),G(i,"r","140"),G(i,"stroke-width","0"),G(i,"fill",c="var(--"+t[0]+")"),G(d,"cx","300"),G(d,"cy","320"),G(d,"r","170"),G(d,"stroke-width","0"),G(d,"fill",f="var(--"+t[0]+")"),G(r,"class","circles-background svelte-1lbtrr1"),G(s,"class","circles-background-container svelte-1lbtrr1"),G(h,"class","position-central svelte-1lbtrr1"),G(l,"class","row-left position-no-badge svelte-1lbtrr1"),G(g,"class","lowered svelte-1lbtrr1"),G(E,"class","graph mini-graph mobile-margin"),G(v,"class","row-right fixtures-graph row-graph svelte-1lbtrr1"),G(a,"class","row multi-element-row small-bottom-margin svelte-1lbtrr1"),G(S,"class","row-left form-details svelte-1lbtrr1"),G(F,"class","row-right svelte-1lbtrr1"),G(P,"class","row multi-element-row svelte-1lbtrr1"),G(J,"class","lowered svelte-1lbtrr1"),G(Z,"class","graph full-row-graph svelte-1lbtrr1"),G(W,"class","form-graph row-graph svelte-1lbtrr1"),G(U,"class","row svelte-1lbtrr1"),G(e,"class","page-content svelte-1lbtrr1")},m(t,o){x(t,e,o),b(e,a),b(a,l),b(l,s),b(s,r),b(r,n),b(r,i),b(r,d),b(l,u),b(l,h),b(h,m),b(a,p),b(a,v),b(v,g),b(g,y),b(v,$),b(v,E),mt(_,E,null),b(e,T),b(e,P),b(P,S),mt(L,S,null),b(S,z),mt(j,S,null),b(P,H),b(P,F),mt(R,F,null),b(e,q),b(e,U),b(U,W),b(W,J),b(J,K),b(W,Q),b(W,Z),mt(tt,Z,null),b(e,at),ft&&ft.m(e,null),lt=!0},p(t,a){(!lt||1&a&&o!==(o="var(--"+t[0]+"-secondary)"))&&G(n,"fill",o),(!lt||1&a&&c!==(c="var(--"+t[0]+")"))&&G(i,"fill",c),(!lt||1&a&&f!==(f="var(--"+t[0]+")"))&&G(d,"fill",f),(!lt||544&a)&&st!==(st=t[9].standings[t[5]][t[9]._id].position+"")&&C(m,st);const l={};512&a&&(l.data=t[9]),32&a&&(l.team=t[5]),1024&a&&(l.mobileView=t[10]),_.$set(l);const s={};512&a&&(s.data=t[9]),128&a&&(s.currentMatchday=t[7]),32&a&&(s.team=t[5]),L.$set(s);const r={};512&a&&(r.data=t[9]),1&a&&(r.hyphenatedTeam=t[0]),32&a&&(r.team=t[5]),j.$set(r);const u={};512&a&&(u.data=t[9]),32&a&&(u.team=t[5]),R.$set(u);const h={};var p;512&a&&(h.data=t[9]),32&a&&(h.team=t[5]),256&a&&(h.playedDates=t[8]),1024&a&&(h.mobileView=t[10]),!et&&8&a&&(et=!0,h.lazyLoad=t[3],p=()=>et=!1,X.push(p)),tt.$set(h),t[3]?ft?(ft.p(t,a),8&a&&ot(ft,1)):(ft=ys(t),ft.c(),ot(ft,1),ft.m(e,null)):ft&&(rt(),it(ft,1,1,(()=>{ft=null})),nt())},i(t){lt||(ot(_.$$.fragment,t),ot(L.$$.fragment,t),ot(j.$$.fragment,t),ot(R.$$.fragment,t),ot(tt.$$.fragment,t),ot(ft),lt=!0)},o(t){it(_.$$.fragment,t),it(L.$$.fragment,t),it(j.$$.fragment,t),it(R.$$.fragment,t),it(tt.$$.fragment,t),it(ft),lt=!1},d(t){t&&w(e),pt(_),pt(L),pt(j),pt(R),pt(tt),ft&&ft.d()}}}function gs(t){let e,a;return e=new Fl({props:{data:t[9]}}),{c(){ut(e.$$.fragment)},l(t){ht(e.$$.fragment,t)},m(t,l){mt(e,t,l),a=!0},p(t,a){const l={};512&a&&(l.data=t[9]),e.$set(l)},i(t){a||(ot(e.$$.fragment,t),a=!0)},o(t){it(e.$$.fragment,t),a=!1},d(t){pt(e,t)}}}function ys(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_,T,P,S,M,C,L,z,j,H,F,R,q,U,Y,W,X,J,K,Q,Z,tt,et,at,lt,st,rt,nt,ct,dt,ft,vt,gt,yt,$t,bt,xt,wt;return o=new la({props:{data:t[9],team:t[5],mobileView:t[10]}}),p=new na({props:{data:t[9],team:t[5],mobileView:t[10]}}),T=new ma({props:{data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]}}),L=new $a({props:{data:t[9],team:t[5],playedDates:t[8],mobileView:t[10]}}),H=new Fe({props:{data:t[9],team:t[5]}}),Y=new cs({props:{data:t[9],team:t[5],mobileView:t[10]}}),tt=new za({props:{data:t[9],team:t[5],mobileView:t[10]}}),rt=new cl({props:{data:t[9],team:t[5],mobileView:t[10]}}),$t=new el({props:{data:t[9],team:t[5],teams:t[6]}}),xt=new Ye({props:{lastUpdated:t[9].lastUpdated}}),{c(){e=D("div"),a=D("div"),l=D("h1"),s=I("Position"),r=k(),n=D("div"),ut(o.$$.fragment),i=k(),c=D("div"),d=D("div"),f=D("h1"),u=I("Points"),h=k(),m=D("div"),ut(p.$$.fragment),v=k(),g=D("div"),y=D("div"),$=D("h1"),E=I("Goals Scored and Conceded"),V=k(),_=D("div"),ut(T.$$.fragment),P=k(),S=D("div"),M=D("div"),C=D("div"),ut(L.$$.fragment),z=k(),j=D("div"),ut(H.$$.fragment),F=k(),R=D("div"),q=D("div"),U=D("div"),ut(Y.$$.fragment),W=k(),X=D("div"),J=D("div"),K=D("h1"),Q=I("Goals Per Game"),Z=k(),ut(tt.$$.fragment),et=k(),at=D("div"),lt=D("div"),st=D("div"),ut(rt.$$.fragment),nt=k(),ct=D("div"),dt=D("div"),ft=D("h1"),vt=I("Team Comparison"),gt=k(),yt=D("div"),ut($t.$$.fragment),bt=k(),ut(xt.$$.fragment),this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=N(x,"H1",{class:!0});var D=A(l);s=O(D,"Position"),D.forEach(w),r=B(x),n=N(x,"DIV",{class:!0});var I=A(n);ht(o.$$.fragment,I),I.forEach(w),x.forEach(w),b.forEach(w),i=B(t),c=N(t,"DIV",{class:!0});var k=A(c);d=N(k,"DIV",{class:!0});var G=A(d);f=N(G,"H1",{class:!0});var ot=A(f);u=O(ot,"Points"),ot.forEach(w),h=B(G),m=N(G,"DIV",{class:!0});var it=A(m);ht(p.$$.fragment,it),it.forEach(w),G.forEach(w),k.forEach(w),v=B(t),g=N(t,"DIV",{class:!0});var ut=A(g);y=N(ut,"DIV",{class:!0});var mt=A(y);$=N(mt,"H1",{class:!0});var pt=A($);E=O(pt,"Goals Scored and Conceded"),pt.forEach(w),V=B(mt),_=N(mt,"DIV",{class:!0});var wt=A(_);ht(T.$$.fragment,wt),wt.forEach(w),mt.forEach(w),ut.forEach(w),P=B(t),S=N(t,"DIV",{class:!0});var Et=A(S);M=N(Et,"DIV",{class:!0});var Dt=A(M);C=N(Dt,"DIV",{class:!0});var Vt=A(C);ht(L.$$.fragment,Vt),Vt.forEach(w),Dt.forEach(w),Et.forEach(w),z=B(t),j=N(t,"DIV",{class:!0});var It=A(j);ht(H.$$.fragment,It),It.forEach(w),F=B(t),R=N(t,"DIV",{class:!0});var kt=A(R);q=N(kt,"DIV",{class:!0});var _t=A(q);U=N(_t,"DIV",{class:!0});var Tt=A(U);ht(Y.$$.fragment,Tt),Tt.forEach(w),_t.forEach(w),kt.forEach(w),W=B(t),X=N(t,"DIV",{class:!0});var Gt=A(X);J=N(Gt,"DIV",{class:!0});var At=A(J);K=N(At,"H1",{});var Pt=A(K);Q=O(Pt,"Goals Per Game"),Pt.forEach(w),Z=B(At),ht(tt.$$.fragment,At),At.forEach(w),Gt.forEach(w),et=B(t),at=N(t,"DIV",{class:!0});var St=A(at);lt=N(St,"DIV",{class:!0});var Nt=A(lt);st=N(Nt,"DIV",{class:!0});var Mt=A(st);ht(rt.$$.fragment,Mt),Mt.forEach(w),Nt.forEach(w),St.forEach(w),nt=B(t),ct=N(t,"DIV",{class:!0});var Ot=A(ct);dt=N(Ot,"DIV",{class:!0});var Bt=A(dt);ft=N(Bt,"H1",{});var Ct=A(ft);vt=O(Ct,"Team Comparison"),Ct.forEach(w),gt=B(Bt),yt=N(Bt,"DIV",{class:!0});var Lt=A(yt);ht($t.$$.fragment,Lt),Lt.forEach(w),Bt.forEach(w),Ot.forEach(w),bt=B(t),ht(xt.$$.fragment,t),this.h()},h(){G(l,"class","lowered svelte-1lbtrr1"),G(n,"class","graph full-row-graph svelte-1lbtrr1"),G(a,"class","position-over-time-graph row-graph svelte-1lbtrr1"),G(e,"class","row svelte-1lbtrr1"),G(f,"class","lowered svelte-1lbtrr1"),G(m,"class","graph full-row-graph svelte-1lbtrr1"),G(d,"class","position-over-time-graph row-graph svelte-1lbtrr1"),G(c,"class","row svelte-1lbtrr1"),G($,"class","lowered svelte-1lbtrr1"),G(_,"class","graph full-row-graph svelte-1lbtrr1"),G(y,"class","goals-scored-vs-conceded-graph row-graph svelte-1lbtrr1"),G(g,"class","row no-bottom-margin svelte-1lbtrr1"),G(C,"class","clean-sheets graph full-row-graph svelte-1lbtrr1"),G(M,"class","row-graph svelte-1lbtrr1"),G(S,"class","row svelte-1lbtrr1"),G(j,"class","season-stats-row svelte-1lbtrr1"),G(U,"class","graph full-row-graph svelte-1lbtrr1"),G(q,"class","row-graph svelte-1lbtrr1"),G(R,"class","row svelte-1lbtrr1"),G(J,"class","goals-freq-row row-graph svelte-1lbtrr1"),G(X,"class","row svelte-1lbtrr1"),G(st,"class","score-freq graph svelte-1lbtrr1"),G(lt,"class","row-graph svelte-1lbtrr1"),G(at,"class","row svelte-1lbtrr1"),G(yt,"class","spider-chart-container svelte-1lbtrr1"),G(dt,"class","spider-chart-row row-graph svelte-1lbtrr1"),G(ct,"class","row svelte-1lbtrr1")},m(t,w){x(t,e,w),b(e,a),b(a,l),b(l,s),b(a,r),b(a,n),mt(o,n,null),x(t,i,w),x(t,c,w),b(c,d),b(d,f),b(f,u),b(d,h),b(d,m),mt(p,m,null),x(t,v,w),x(t,g,w),b(g,y),b(y,$),b($,E),b(y,V),b(y,_),mt(T,_,null),x(t,P,w),x(t,S,w),b(S,M),b(M,C),mt(L,C,null),x(t,z,w),x(t,j,w),mt(H,j,null),x(t,F,w),x(t,R,w),b(R,q),b(q,U),mt(Y,U,null),x(t,W,w),x(t,X,w),b(X,J),b(J,K),b(K,Q),b(J,Z),mt(tt,J,null),x(t,et,w),x(t,at,w),b(at,lt),b(lt,st),mt(rt,st,null),x(t,nt,w),x(t,ct,w),b(ct,dt),b(dt,ft),b(ft,vt),b(dt,gt),b(dt,yt),mt($t,yt,null),x(t,bt,w),mt(xt,t,w),wt=!0},p(t,e){const a={};512&e&&(a.data=t[9]),32&e&&(a.team=t[5]),1024&e&&(a.mobileView=t[10]),o.$set(a);const l={};512&e&&(l.data=t[9]),32&e&&(l.team=t[5]),1024&e&&(l.mobileView=t[10]),p.$set(l);const s={};512&e&&(s.data=t[9]),32&e&&(s.team=t[5]),256&e&&(s.playedDates=t[8]),1024&e&&(s.mobileView=t[10]),T.$set(s);const r={};512&e&&(r.data=t[9]),32&e&&(r.team=t[5]),256&e&&(r.playedDates=t[8]),1024&e&&(r.mobileView=t[10]),L.$set(r);const n={};512&e&&(n.data=t[9]),32&e&&(n.team=t[5]),H.$set(n);const i={};512&e&&(i.data=t[9]),32&e&&(i.team=t[5]),1024&e&&(i.mobileView=t[10]),Y.$set(i);const c={};512&e&&(c.data=t[9]),32&e&&(c.team=t[5]),1024&e&&(c.mobileView=t[10]),tt.$set(c);const d={};512&e&&(d.data=t[9]),32&e&&(d.team=t[5]),1024&e&&(d.mobileView=t[10]),rt.$set(d);const f={};512&e&&(f.data=t[9]),32&e&&(f.team=t[5]),64&e&&(f.teams=t[6]),$t.$set(f);const u={};512&e&&(u.lastUpdated=t[9].lastUpdated),xt.$set(u)},i(t){wt||(ot(o.$$.fragment,t),ot(p.$$.fragment,t),ot(T.$$.fragment,t),ot(L.$$.fragment,t),ot(H.$$.fragment,t),ot(Y.$$.fragment,t),ot(tt.$$.fragment,t),ot(rt.$$.fragment,t),ot($t.$$.fragment,t),ot(xt.$$.fragment,t),wt=!0)},o(t){it(o.$$.fragment,t),it(p.$$.fragment,t),it(T.$$.fragment,t),it(L.$$.fragment,t),it(H.$$.fragment,t),it(Y.$$.fragment,t),it(tt.$$.fragment,t),it(rt.$$.fragment,t),it($t.$$.fragment,t),it(xt.$$.fragment,t),wt=!1},d(t){t&&w(e),pt(o),t&&w(i),t&&w(c),pt(p),t&&w(v),t&&w(g),pt(T),t&&w(P),t&&w(S),pt(L),t&&w(z),t&&w(j),pt(H),t&&w(F),t&&w(R),pt(Y),t&&w(W),t&&w(X),pt(tt),t&&w(et),t&&w(at),pt(rt),t&&w(nt),t&&w(ct),pt($t),t&&w(bt),pt(xt,t)}}}function $s(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g=("overview"!=t[0]?Kt(t[5]):"Overview")+"";function y(t,e){return 0==t[6].length?hs:us}a=new xl({props:{team:t[0],teams:t[6],toAlias:Kt,switchTeam:t[11]}}),s=new Zl({props:{hyphenatedTeam:t[0],teams:t[6],toAlias:Kt,switchTeam:t[11],toggleMobileNav:xs}});let $=y(t),E=$(t);const V=[ps,ms],_=[];function T(t,e){return null!=t[9]?0:1}return m=T(t),p=_[m]=V[m](t),{c(){e=D("div"),ut(a.$$.fragment),l=k(),ut(s.$$.fragment),r=k(),E.c(),n=k(),o=D("div"),i=D("div"),c=D("a"),d=D("div"),f=I(g),h=k(),p.c(),this.h()},l(t){e=N(t,"DIV",{id:!0,class:!0});var u=A(e);ht(a.$$.fragment,u),l=B(u),ht(s.$$.fragment,u),r=B(u),E.l(u),n=B(u),o=N(u,"DIV",{id:!0,class:!0});var m=A(o);i=N(m,"DIV",{class:!0,style:!0});var v=A(i);c=N(v,"A",{class:!0,href:!0});var y=A(c);d=N(y,"DIV",{class:!0,style:!0});var $=A(d);f=O($,g),$.forEach(w),y.forEach(w),v.forEach(w),h=B(m),p.l(m),m.forEach(w),u.forEach(w),this.h()},h(){G(d,"class","title svelte-1lbtrr1"),L(d,"color","var(--"+t[0]+"-secondary)"),G(c,"class","main-link no-decoration svelte-1lbtrr1"),G(c,"href",u="/"+t[0]),G(i,"class","header svelte-1lbtrr1"),L(i,"background-color","var(--"+t[0]+")"),G(o,"id","dashboard"),G(o,"class","svelte-1lbtrr1"),G(e,"id","team"),G(e,"class","svelte-1lbtrr1")},m(t,u){x(t,e,u),mt(a,e,null),b(e,l),mt(s,e,null),b(e,r),E.m(e,null),b(e,n),b(e,o),b(o,i),b(i,c),b(c,d),b(d,f),b(o,h),_[m].m(o,null),v=!0},p(t,l){const r={};1&l&&(r.team=t[0]),64&l&&(r.teams=t[6]),a.$set(r);const h={};1&l&&(h.hyphenatedTeam=t[0]),64&l&&(h.teams=t[6]),s.$set(h),$===($=y(t))&&E?E.p(t,l):(E.d(1),E=$(t),E&&(E.c(),E.m(e,n))),(!v||33&l)&&g!==(g=("overview"!=t[0]?Kt(t[5]):"Overview")+"")&&C(f,g),(!v||1&l)&&L(d,"color","var(--"+t[0]+"-secondary)"),(!v||1&l&&u!==(u="/"+t[0]))&&G(c,"href",u),(!v||1&l)&&L(i,"background-color","var(--"+t[0]+")");let b=m;m=T(t),m===b?_[m].p(t,l):(rt(),it(_[b],1,1,(()=>{_[b]=null})),nt(),p=_[m],p?p.p(t,l):(p=_[m]=V[m](t),p.c()),ot(p,1),p.m(o,null))},i(t){v||(ot(a.$$.fragment,t),ot(s.$$.fragment,t),ot(p),v=!0)},o(t){it(a.$$.fragment,t),it(s.$$.fragment,t),it(p),v=!1},d(t){t&&w(e),pt(a),pt(s),E.d(),_[m].d()}}}function bs(t){let e,a,l,r,n,o,i,c,d=!1,f=()=>{d=!1};return Q(t[12]),Q(t[13]),ds.title=a=t[4],n=new Mt({props:{$$slots:{default:[$s]},$$scope:{ctx:t}}}),{c(){l=D("meta"),r=k(),ut(n.$$.fragment),this.h()},l(t){const e=z('[data-svelte="svelte-1b9t1l7"]',ds.head);l=N(e,"META",{name:!0,content:!0}),e.forEach(w),r=B(t),ht(n.$$.fragment,t),this.h()},h(){G(l,"name","description"),G(l,"content","Premier League Statistics Dashboard")},m(a,s){b(ds.head,l),x(a,r,s),mt(n,a,s),o=!0,i||(c=[T(fs,"resize",t[12]),T(fs,"scroll",(()=>{d=!0,clearTimeout(e),e=setTimeout(f,100),t[13]()}))],i=!0)},p(t,[l]){2&l&&!d&&(d=!0,clearTimeout(e),scrollTo(fs.pageXOffset,t[1]),e=setTimeout(f,100)),(!o||16&l)&&a!==(a=t[4])&&(ds.title=a);const s={};264169&l&&(s.$$scope={dirty:l,ctx:t}),n.$set(s)},i(t){o||(ot(n.$$.fragment,t),o=!0)},o(t){it(n.$$.fragment,t),o=!1},d(t){w(l),t&&w(r),pt(n,t),i=!1,s(c)}}}function xs(){let t=document.getElementById("mobileNav");"0px"==t.style.width?t.style.width="100%":t.style.width="0px"}function ws(t){return t.toLowerCase().split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ").replace("And","and")}function Es(t,e,a){let l,s;function r(t,e){let a=ee(t,e);0==a.length&&(a=Object.keys(t.fixtures[e]));let l=[];for(let e=0;e<a.length;e++){let s=[];for(let l in t.standings)s.push(new Date(t.fixtures[l][a[e]].date));s.sort(),l.push(s[Math.floor(s.length/2)])}return l.sort((function(t,e){return t-e})),l}let n,o,i,c,d=!1,f="Dashboard",u="",h=[];F((()=>{!async function(){"overview"==m?(a(5,u="Overview"),a(4,f=`Dashboard | ${u}`),a(0,m="overview")):null!=m&&(a(5,u=ws(m.replace(/\-/g," "))),a(4,f=`Dashboard | ${u}`));const t=await fetch("https://pldashboard-backend.vercel.app/api/teams");let e=await t.json();a(6,h=Object.keys(e.standings)),null==m?(a(5,u=h[0]),a(4,f=`Dashboard | ${u}`),a(0,m=Qt(u)),history.pushState({},null,window.location.href+m)):"Overview"==u||h.includes(u)||(window.location.href="/error"),"Overview"!=u&&(a(7,o=ae(e,u)),a(8,i=r(e,u))),a(9,c=e),console.log(c),window.dispatchEvent(new Event("resize"))}()}));let{hyphenatedTeam:m}=e;return t.$$set=t=>{"hyphenatedTeam"in t&&a(0,m=t.hyphenatedTeam)},t.$$.update=()=>{2&t.$$.dirty&&s>30&&(a(3,d=!0),window.dispatchEvent(new Event("resize"))),4&t.$$.dirty&&a(10,l=n<=700)},[m,s,n,d,f,u,h,o,i,c,l,function(t){a(0,m=t),"overview"==m?(a(5,u="Overview"),a(4,f=`Dashboard | ${u}`)):(a(5,u=ws(m.replace(/\-/g," "))),a(4,f=`Dashboard | ${u}`),a(7,o=ae(c,u)),a(8,i=r(c,u))),window.history.pushState(null,null,m)},function(){a(2,n=fs.innerWidth)},function(){a(1,s=fs.pageYOffset)},function(t){d=t,a(3,d)}]}class Ds extends yt{constructor(t){super(),gt(this,t,Es,bs,n,{hyphenatedTeam:0})}}function Vs(e){let a,l,s,r,n,o,c,d,f,u,h,m,p;return{c(){a=D("div"),l=D("div"),s=D("div"),r=k(),n=D("img"),c=k(),d=D("div"),f=D("a"),u=I("Dashboard"),h=k(),m=D("a"),p=I("Fantasy"),this.h()},l(t){a=N(t,"DIV",{id:!0,class:!0});var e=A(a);l=N(e,"DIV",{class:!0});var o=A(l);s=N(o,"DIV",{id:!0,class:!0}),A(s).forEach(w),r=B(o),n=N(o,"IMG",{src:!0,alt:!0,class:!0}),c=B(o),d=N(o,"DIV",{class:!0});var i=A(d);f=N(i,"A",{class:!0,href:!0});var v=A(f);u=O(v,"Dashboard"),v.forEach(w),h=B(i),m=N(i,"A",{class:!0,href:!0});var g=A(m);p=O(g,"Fantasy"),g.forEach(w),i.forEach(w),o.forEach(w),e.forEach(w),this.h()},h(){G(s,"id","circle"),G(s,"class","svelte-1ho2fee"),i(n.src,o="img/pldashboard5.png")||G(n,"src","img/pldashboard5.png"),G(n,"alt","pldashboard"),G(n,"class","svelte-1ho2fee"),G(f,"class","dashboard-link svelte-1ho2fee"),G(f,"href","/"),G(m,"class","fantasy-link svelte-1ho2fee"),G(m,"href","/"),G(d,"class","links svelte-1ho2fee"),G(l,"class","content svelte-1ho2fee"),G(a,"id","home"),G(a,"class","svelte-1ho2fee")},m(t,e){x(t,a,e),b(a,l),b(l,s),b(l,r),b(l,n),b(l,c),b(l,d),b(d,f),b(f,u),b(d,h),b(d,m),b(m,p)},p:t,d(t){t&&w(a)}}}function Is(t){let e,a,l,s;return l=new Mt({props:{$$slots:{default:[Vs]},$$scope:{ctx:t}}}),{c(){e=D("meta"),a=k(),ut(l.$$.fragment),this.h()},l(t){const s=z('[data-svelte="svelte-96hcuw"]',document.head);e=N(s,"META",{name:!0,content:!0}),s.forEach(w),a=B(t),ht(l.$$.fragment,t),this.h()},h(){document.title="Premier League Dashboard",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,r){b(document.head,e),x(t,a,r),mt(l,t,r),s=!0},p(t,[e]){const a={};1&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a)},i(t){s||(ot(l.$$.fragment,t),s=!0)},o(t){it(l.$$.fragment,t),s=!1},d(t){w(e),t&&w(a),pt(l,t)}}}class ks extends yt{constructor(t){super(),gt(this,t,null,Is,n,{})}}const{document:_s}=ct;function Ts(t,e,a){const l=t.slice();return l[3]=e[a]._id,l[4]=e[a].predictions,l}function Gs(t,e,a){const l=t.slice();return l[7]=e[a],l}function As(e){let a,l;return{c(){a=D("div"),l=D("div"),this.h()},l(t){a=N(t,"DIV",{class:!0});var e=A(a);l=N(e,"DIV",{class:!0}),A(l).forEach(w),e.forEach(w),this.h()},h(){G(l,"class","loading-spinner"),G(a,"class","loading-spinner-container")},m(t,e){x(t,a,e),b(a,l)},p:t,d(t){t&&w(a)}}}function Ps(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$=(100*t[0].accuracy.scoreAccuracy).toFixed(2)+"",E=(100*t[0].accuracy.resultAccuracy).toFixed(2)+"",V=null!=t[0].predictions&&Ss(t);return{c(){e=D("div"),a=D("div"),l=D("div"),s=D("span"),r=I("Predicting with accuracy: "),n=D("b"),o=I($),i=I("%"),c=D("br"),d=k(),f=D("div"),u=I("General results accuracy: "),h=D("b"),m=I(E),p=I("%"),v=k(),g=D("div"),y=D("div"),V&&V.c(),this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=N(x,"DIV",{class:!0});var D=A(l);s=N(D,"SPAN",{class:!0});var I=A(s);r=O(I,"Predicting with accuracy: "),n=N(I,"B",{});var k=A(n);o=O(k,$),i=O(k,"%"),k.forEach(w),I.forEach(w),c=N(D,"BR",{}),d=B(D),f=N(D,"DIV",{class:!0});var _=A(f);u=O(_,"General results accuracy: "),h=N(_,"B",{});var T=A(h);m=O(T,E),p=O(T,"%"),T.forEach(w),_.forEach(w),D.forEach(w),x.forEach(w),v=B(b),g=N(b,"DIV",{class:!0});var G=A(g);y=N(G,"DIV",{class:!0});var P=A(y);V&&V.l(P),P.forEach(w),G.forEach(w),b.forEach(w),this.h()},h(){G(s,"class","accuracy-item svelte-1xyfhm3"),G(f,"class","accuracy-item svelte-1xyfhm3"),G(l,"class","accuracy svelte-1xyfhm3"),G(a,"class","accuracy-display svelte-1xyfhm3"),G(y,"class","predictions svelte-1xyfhm3"),G(g,"class","predictions-container svelte-1xyfhm3"),G(e,"class","page-content svelte-1xyfhm3")},m(t,$){x(t,e,$),b(e,a),b(a,l),b(l,s),b(s,r),b(s,n),b(n,o),b(n,i),b(l,c),b(l,d),b(l,f),b(f,u),b(f,h),b(h,m),b(h,p),b(e,v),b(e,g),b(g,y),V&&V.m(y,null)},p(t,e){1&e&&$!==($=(100*t[0].accuracy.scoreAccuracy).toFixed(2)+"")&&C(o,$),1&e&&E!==(E=(100*t[0].accuracy.resultAccuracy).toFixed(2)+"")&&C(m,E),null!=t[0].predictions?V?V.p(t,e):(V=Ss(t),V.c(),V.m(y,null)):V&&(V.d(1),V=null)},d(t){t&&w(e),V&&V.d()}}}function Ss(t){let e,a=t[0].predictions,l=[];for(let e=0;e<a.length;e+=1)l[e]=Cs(Ts(t,a,e));return{c(){for(let t=0;t<l.length;t+=1)l[t].c();e=_()},l(t){for(let e=0;e<l.length;e+=1)l[e].l(t);e=_()},m(t,a){for(let e=0;e<l.length;e+=1)l[e].m(t,a);x(t,e,a)},p(t,s){if(1&s){let r;for(a=t[0].predictions,r=0;r<a.length;r+=1){const n=Ts(t,a,r);l[r]?l[r].p(n,s):(l[r]=Cs(n),l[r].c(),l[r].m(e.parentNode,e))}for(;r<l.length;r+=1)l[r].d(1);l.length=a.length}},d(t){E(l,t),t&&w(e)}}}function Ns(t){let e,a,l=js(t[7].datetime)+"";return{c(){e=D("div"),a=I(l),this.h()},l(t){e=N(t,"DIV",{class:!0});var s=A(e);a=O(s,l),s.forEach(w),this.h()},h(){G(e,"class","prediction-time svelte-1xyfhm3")},m(t,l){x(t,e,l),b(e,a)},p(t,e){1&e&&l!==(l=js(t[7].datetime)+"")&&C(a,l)},d(t){t&&w(e)}}}function Ms(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v=t[7].home+"",g=t[7].actual.homeGoals+"",y=t[7].actual.awayGoals+"",$=t[7].away+"";return{c(){e=D("div"),a=D("div"),l=I("Actual:"),s=k(),r=D("div"),n=D("div"),o=I(v),i=k(),c=D("div"),d=I(g),f=I(" - "),u=I(y),h=k(),m=D("div"),p=I($),this.h()},l(t){e=N(t,"DIV",{class:!0});var b=A(e);a=N(b,"DIV",{class:!0});var x=A(a);l=O(x,"Actual:"),x.forEach(w),s=B(b),r=N(b,"DIV",{class:!0});var E=A(r);n=N(E,"DIV",{class:!0});var D=A(n);o=O(D,v),D.forEach(w),i=B(E),c=N(E,"DIV",{class:!0});var V=A(c);d=O(V,g),f=O(V," - "),u=O(V,y),V.forEach(w),h=B(E),m=N(E,"DIV",{class:!0});var I=A(m);p=O(I,$),I.forEach(w),E.forEach(w),b.forEach(w),this.h()},h(){G(a,"class","prediction-label svelte-1xyfhm3"),G(n,"class","prediction-initials svelte-1xyfhm3"),G(c,"class","prediction-score svelte-1xyfhm3"),G(m,"class","prediction-initials svelte-1xyfhm3"),G(r,"class","prediction-value svelte-1xyfhm3"),G(e,"class","actual prediction-item svelte-1xyfhm3")},m(t,v){x(t,e,v),b(e,a),b(a,l),b(e,s),b(e,r),b(r,n),b(n,o),b(r,i),b(r,c),b(c,d),b(c,f),b(c,u),b(r,h),b(r,m),b(m,p)},p(t,e){1&e&&v!==(v=t[7].home+"")&&C(o,v),1&e&&g!==(g=t[7].actual.homeGoals+"")&&C(d,g),1&e&&y!==(y=t[7].actual.awayGoals+"")&&C(u,y),1&e&&$!==($=t[7].away+"")&&C(p,$)},d(t){t&&w(e)}}}function Os(t){let e,a,l,s,r,n,o,i=t[7].prediction.homeGoals+"",c=t[7].prediction.awayGoals+"";return{c(){e=D("div"),a=D("div"),l=D("b"),s=I(i),r=I(" - "),n=I(c),this.h()},l(t){e=N(t,"DIV",{class:!0,id:!0});var o=A(e);a=N(o,"DIV",{class:!0});var d=A(a);l=N(d,"B",{});var f=A(l);s=O(f,i),r=O(f," - "),n=O(f,c),f.forEach(w),d.forEach(w),o.forEach(w),this.h()},h(){G(a,"class","detailed-predicted-score svelte-1xyfhm3"),G(e,"class","prediction-details svelte-1xyfhm3"),G(e,"id",o=t[7]._id)},m(t,o){x(t,e,o),b(e,a),b(a,l),b(l,s),b(l,r),b(l,n)},p(t,a){1&a&&i!==(i=t[7].prediction.homeGoals+"")&&C(s,i),1&a&&c!==(c=t[7].prediction.awayGoals+"")&&C(n,c),1&a&&o!==(o=t[7]._id)&&G(e,"id",o)},d(t){t&&w(e)}}}function Bs(t){let e,a,l,s,r,n,o,i,c,d,f,u,h,m,p,v,g,y,$,E,V,_=t[7].home+"",P=Math.round(t[7].prediction.homeGoals)+"",S=Math.round(t[7].prediction.awayGoals)+"",M=t[7].away+"";function L(t,e){return null!=t[7].actual?Ms:Ns}let z=L(t),j=z(t),H=null!=t[7].prediction&&Os(t);function F(){return t[1](t[7])}return{c(){e=D("button"),a=D("div"),l=D("div"),s=I("Predicted:"),r=k(),n=D("div"),o=D("div"),i=I(_),c=k(),d=D("div"),f=I(P),u=I(" - "),h=I(S),m=k(),p=D("div"),v=I(M),g=k(),j.c(),y=k(),H&&H.c(),this.h()},l(t){e=N(t,"BUTTON",{class:!0});var $=A(e);a=N($,"DIV",{class:!0});var b=A(a);l=N(b,"DIV",{class:!0});var x=A(l);s=O(x,"Predicted:"),x.forEach(w),r=B(b),n=N(b,"DIV",{class:!0});var E=A(n);o=N(E,"DIV",{class:!0});var D=A(o);i=O(D,_),D.forEach(w),c=B(E),d=N(E,"DIV",{class:!0});var V=A(d);f=O(V,P),u=O(V," - "),h=O(V,S),V.forEach(w),m=B(E),p=N(E,"DIV",{class:!0});var I=A(p);v=O(I,M),I.forEach(w),E.forEach(w),b.forEach(w),g=B($),j.l($),y=B($),H&&H.l($),$.forEach(w),this.h()},h(){G(l,"class","prediction-label svelte-1xyfhm3"),G(o,"class","prediction-initials svelte-1xyfhm3"),G(d,"class","prediction-score svelte-1xyfhm3"),G(p,"class","prediction-initials svelte-1xyfhm3"),G(n,"class","prediction-value svelte-1xyfhm3"),G(a,"class","prediction prediction-item svelte-1xyfhm3"),G(e,"class",$="prediction-container "+t[7].colour+" svelte-1xyfhm3")},m(t,$){x(t,e,$),b(e,a),b(a,l),b(l,s),b(a,r),b(a,n),b(n,o),b(o,i),b(n,c),b(n,d),b(d,f),b(d,u),b(d,h),b(n,m),b(n,p),b(p,v),b(e,g),j.m(e,null),b(e,y),H&&H.m(e,null),E||(V=T(e,"click",F),E=!0)},p(a,l){t=a,1&l&&_!==(_=t[7].home+"")&&C(i,_),1&l&&P!==(P=Math.round(t[7].prediction.homeGoals)+"")&&C(f,P),1&l&&S!==(S=Math.round(t[7].prediction.awayGoals)+"")&&C(h,S),1&l&&M!==(M=t[7].away+"")&&C(v,M),z===(z=L(t))&&j?j.p(t,l):(j.d(1),j=z(t),j&&(j.c(),j.m(e,y))),null!=t[7].prediction?H?H.p(t,l):(H=Os(t),H.c(),H.m(e,null)):H&&(H.d(1),H=null),1&l&&$!==($="prediction-container "+t[7].colour+" svelte-1xyfhm3")&&G(e,"class",$)},d(t){t&&w(e),j.d(),H&&H.d(),E=!1,V()}}}function Cs(t){let e,a,l,s,r,n,o,i=t[3]+"",c=t[4],d=[];for(let e=0;e<c.length;e+=1)d[e]=Bs(Gs(t,c,e));return{c(){e=D("div"),a=I(i),l=k(),s=D("div"),r=k();for(let t=0;t<d.length;t+=1)d[t].c();n=k(),o=D("div"),this.h()},l(t){e=N(t,"DIV",{class:!0});var c=A(e);a=O(c,i),c.forEach(w),l=B(t),s=N(t,"DIV",{class:!0}),A(s).forEach(w),r=B(t);for(let e=0;e<d.length;e+=1)d[e].l(t);n=B(t),o=N(t,"DIV",{class:!0}),A(o).forEach(w),this.h()},h(){G(e,"class","date svelte-1xyfhm3"),G(s,"class","medium-predictions-divider svelte-1xyfhm3"),G(o,"class","predictions-gap svelte-1xyfhm3")},m(t,i){x(t,e,i),b(e,a),x(t,l,i),x(t,s,i),x(t,r,i);for(let e=0;e<d.length;e+=1)d[e].m(t,i);x(t,n,i),x(t,o,i)},p(t,e){if(1&e&&i!==(i=t[3]+"")&&C(a,i),1&e){let a;for(c=t[4],a=0;a<c.length;a+=1){const l=Gs(t,c,a);d[a]?d[a].p(l,e):(d[a]=Bs(l),d[a].c(),d[a].m(n.parentNode,n))}for(;a<d.length;a+=1)d[a].d(1);d.length=c.length}},d(t){t&&w(e),t&&w(l),t&&w(s),t&&w(r),E(d,t),t&&w(n),t&&w(o)}}}function Ls(t){let e,a,l,s,r;function n(t,e){return null!=t[0]?Ps:As}let o=n(t),i=o(t);return{c(){e=D("div"),a=D("div"),l=D("a"),s=I("Predictions"),r=k(),i.c(),this.h()},l(t){e=N(t,"DIV",{id:!0,class:!0});var n=A(e);a=N(n,"DIV",{class:!0});var o=A(a);l=N(o,"A",{class:!0,href:!0});var c=A(l);s=O(c,"Predictions"),c.forEach(w),o.forEach(w),r=B(n),i.l(n),n.forEach(w),this.h()},h(){G(l,"class","predictions-title svelte-1xyfhm3"),G(l,"href","/predictions"),G(a,"class","predictions-header svelte-1xyfhm3"),G(e,"id","predictions"),G(e,"class","svelte-1xyfhm3")},m(t,n){x(t,e,n),b(e,a),b(a,l),b(l,s),b(e,r),i.m(e,null)},p(t,a){o===(o=n(t))&&i?i.p(t,a):(i.d(1),i=o(t),i&&(i.c(),i.m(e,null)))},d(t){t&&w(e),i.d()}}}function zs(t){let e,a,l,s;return l=new Mt({props:{$$slots:{default:[Ls]},$$scope:{ctx:t}}}),{c(){e=D("meta"),a=k(),ut(l.$$.fragment),this.h()},l(t){const s=z('[data-svelte="svelte-1w56yuh"]',_s.head);e=N(s,"META",{name:!0,content:!0}),s.forEach(w),a=B(t),ht(l.$$.fragment,t),this.h()},h(){_s.title="Predictions",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,r){b(_s.head,e),x(t,a,r),mt(l,t,r),s=!0},p(t,[e]){const a={};1025&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a)},i(t){s||(ot(l.$$.fragment,t),s=!0)},o(t){it(l.$$.fragment,t),s=!1},d(t){w(e),t&&w(a),pt(l,t)}}}function js(t){return new Date(t).toTimeString().slice(0,5)}function Hs(t,e,a){let l;F((async()=>{const t=await fetch("https://pldashboard-backend.vercel.app/api/predictions");let e=await t.json();!function(t){t.sort(((t,e)=>new Date(e._id)-new Date(t._id)));for(let e=0;e<t.length;e++)t[e].predictions.sort(((t,e)=>new Date(t.datetime)-new Date(e.datetime)))}(e),e={predictions:e},function(t){let e=0,a=0,l=0;for(let s=0;s<t.predictions.length;s++)for(let r=0;r<t.predictions[s].predictions.length;r++){let n=t.predictions[s].predictions[r];null!=n.actual&&(Se(n.prediction,n.actual)?(n.colour="green",e+=1,a+=1):Ne(n.prediction,n.actual)?(n.colour="yellow",a+=1):n.colour="red",l+=1)}t.accuracy={scoreAccuracy:e/l,resultAccuracy:a/l}}(e),a(0,l=e),console.log(l)}));return[l,t=>function(t){let e=document.getElementById(t);null!=e&&e.classList.toggle("expanded")}(t._id)]}class Fs extends yt{constructor(t){super(),gt(this,t,Hs,zs,n,{})}}function Rs(e){let a,l,s;return{c(){a=D("div"),l=D("div"),s=I("Error: Page not found"),this.h()},l(t){a=N(t,"DIV",{id:!0,class:!0});var e=A(a);l=N(e,"DIV",{class:!0});var r=A(l);s=O(r,"Error: Page not found"),r.forEach(w),e.forEach(w),this.h()},h(){G(l,"class","msg-container svelte-10gu0bx"),G(a,"id","error"),G(a,"class","svelte-10gu0bx")},m(t,e){x(t,a,e),b(a,l),b(l,s)},p:t,d(t){t&&w(a)}}}function qs(t){let e,a,l,s;return l=new Mt({props:{$$slots:{default:[Rs]},$$scope:{ctx:t}}}),{c(){e=D("meta"),a=k(),ut(l.$$.fragment),this.h()},l(t){const s=z('[data-svelte="svelte-1rqatx0"]',document.head);e=N(s,"META",{name:!0,content:!0}),s.forEach(w),a=B(t),ht(l.$$.fragment,t),this.h()},h(){document.title="Premier League",G(e,"name","description"),G(e,"content","Premier League Statistics Dashboard")},m(t,r){b(document.head,e),x(t,a,r),mt(l,t,r),s=!0},p(t,[e]){const a={};1&e&&(a.$$scope={dirty:e,ctx:t}),l.$set(a)},i(t){s||(ot(l.$$.fragment,t),s=!0)},o(t){it(l.$$.fragment,t),s=!1},d(t){w(e),t&&w(a),pt(l,t)}}}class Us extends yt{constructor(t){super(),gt(this,t,null,qs,n,{})}}function Ys(e){let a,l;return a=new Ds({props:{hyphenatedTeam:null}}),{c(){ut(a.$$.fragment)},l(t){ht(a.$$.fragment,t)},m(t,e){mt(a,t,e),l=!0},p:t,i(t){l||(ot(a.$$.fragment,t),l=!0)},o(t){it(a.$$.fragment,t),l=!1},d(t){pt(a,t)}}}function Ws(t){let e,a;return e=new Ds({props:{hyphenatedTeam:t[1].team}}),{c(){ut(e.$$.fragment)},l(t){ht(e.$$.fragment,t)},m(t,l){mt(e,t,l),a=!0},p(t,a){const l={};2&a&&(l.hyphenatedTeam=t[1].team),e.$set(l)},i(t){a||(ot(e.$$.fragment,t),a=!0)},o(t){it(e.$$.fragment,t),a=!1},d(t){pt(e,t)}}}function Xs(t){let e,a,l,s,r,n,o,i,c,d;return e=new Ft({props:{path:"/",$$slots:{default:[Ys]},$$scope:{ctx:t}}}),l=new Ft({props:{path:"/:team",$$slots:{default:[Ws,({params:t})=>({1:t}),({params:t})=>t?2:0]},$$scope:{ctx:t}}}),r=new Ft({props:{path:"/predictions",component:Fs}}),o=new Ft({props:{path:"/home",component:ks}}),c=new Ft({props:{path:"/error",component:Us}}),{c(){ut(e.$$.fragment),a=k(),ut(l.$$.fragment),s=k(),ut(r.$$.fragment),n=k(),ut(o.$$.fragment),i=k(),ut(c.$$.fragment)},l(t){ht(e.$$.fragment,t),a=B(t),ht(l.$$.fragment,t),s=B(t),ht(r.$$.fragment,t),n=B(t),ht(o.$$.fragment,t),i=B(t),ht(c.$$.fragment,t)},m(t,f){mt(e,t,f),x(t,a,f),mt(l,t,f),x(t,s,f),mt(r,t,f),x(t,n,f),mt(o,t,f),x(t,i,f),mt(c,t,f),d=!0},p(t,a){const s={};4&a&&(s.$$scope={dirty:a,ctx:t}),e.$set(s);const r={};6&a&&(r.$$scope={dirty:a,ctx:t}),l.$set(r)},i(t){d||(ot(e.$$.fragment,t),ot(l.$$.fragment,t),ot(r.$$.fragment,t),ot(o.$$.fragment,t),ot(c.$$.fragment,t),d=!0)},o(t){it(e.$$.fragment,t),it(l.$$.fragment,t),it(r.$$.fragment,t),it(o.$$.fragment,t),it(c.$$.fragment,t),d=!1},d(t){pt(e,t),t&&w(a),pt(l,t),t&&w(s),pt(r,t),t&&w(n),pt(o,t),t&&w(i),pt(c,t)}}}function Js(t){let e,a;return e=new Mt({props:{url:t[0],$$slots:{default:[Xs]},$$scope:{ctx:t}}}),{c(){ut(e.$$.fragment)},l(t){ht(e.$$.fragment,t)},m(t,l){mt(e,t,l),a=!0},p(t,[a]){const l={};1&a&&(l.url=t[0]),4&a&&(l.$$scope={dirty:a,ctx:t}),e.$set(l)},i(t){a||(ot(e.$$.fragment,t),a=!0)},o(t){it(e.$$.fragment,t),a=!1},d(t){pt(e,t)}}}function Ks(t,e,a){let{url:l=""}=e;return t.$$set=t=>{"url"in t&&a(0,l=t.url)},[l]}new class extends yt{constructor(t){super(),gt(this,t,Ks,Js,n,{url:0})}}({target:document.getElementById("app"),hydrate:!0})}();
//# sourceMappingURL=bundle.js.map
